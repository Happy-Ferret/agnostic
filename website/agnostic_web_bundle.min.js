(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.agnostic=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";var ob_utils=require("utils/object_utils");var time_utils=require("utils/time_utils");var str_utils=require("utils/string_utils");var path_utils=require("utils/path_utils");var sprintf=require("utils/sprintf");var shell_cmd_to_text=require("shell/shell_descriptor");var shell_cmd_to_html=require("shell/shell_HTML_descriptor");var posix_shell_parser=require("shell/posix_shell_parser");var shell_executor=require("shell/shell_executor2.js");var InteractiveShell=require("shell/shell_interactive.js");var OperatingSystem=require("os/os_state");var FileSystem=require("os/filesystem");var Streams=require("os/streams");var ProcessState=require("os/process_state");var ProgramBase=require("programs/program_base");var Program_basename=require("programs/basename");var Program_cat=require("programs/cat");var Program_cut=require("programs/cut");var Program_date=require("programs/date");var Program_dirname=require("programs/dirname");var Program_echo=require("programs/echo");var Program_false=require("programs/false");var Program_head=require("programs/head");var Program_icat=require("programs/icat");var Program_ls=require("programs/ls");var Program_printf=require("programs/printf");var Program_seq=require("programs/seq");var Program_shell=require("programs/shell");var Program_tac=require("programs/tac");var Program_tail=require("programs/tail");var Program_true=require("programs/true");var Program_wc=require("programs/wc");var programs={basename:Program_basename,cat:Program_cat,cut:Program_cut,date:Program_date,dirname:Program_dirname,echo:Program_echo,false:Program_false,head:Program_head,icat:Program_icat,ls:Program_ls,printf:Program_printf,seq:Program_seq,sh:Program_shell,tac:Program_tac,tail:Program_tail,true:Program_true,wc:Program_wc};var samples=require("utils/sample_data_files");function createInteractiveShell(){var sh=new InteractiveShell(posix_shell_parser);sh.fs.mkdir("/Userhome",true);sh.fs.mkdir("/Userhome/Photos",true);sh.fs.mkdir("/Apps",true);sh.fs.mkdir("/System",true);var fl=sh.fs.openfile("/Userhome/Photos/kitten.jpg",true);var fl=sh.fs.openfile("/Userhome/Photos/punch-buggy.jpg",true);var fl=sh.fs.openfile("/passwd",true);fl.write(samples.passwd);var fl=sh.fs.openfile("/mammals.txt",true);fl.write(samples.mammals);var fl=sh.fs.openfile("/nobel.csv",true);fl.write(samples.nobel);return sh}var agnostic={str_utils:str_utils,ob_utils:ob_utils,time_utils:time_utils,sprintf:sprintf.sprintf,OperatingSystem:OperatingSystem,FileSystem:FileSystem,ProcessState:ProcessState,programs:programs,createInteractiveShell:createInteractiveShell,shell:{parse_command:posix_shell_parser.parse,command_to_text:shell_cmd_to_text,command_to_html:shell_cmd_to_html}};module.exports=agnostic},{"os/filesystem":2,"os/os_state":3,"os/process_state":4,"os/streams":6,"programs/basename":7,"programs/cat":9,"programs/cut":10,"programs/date":11,"programs/dirname":12,"programs/echo":13,"programs/false":14,"programs/head":18,"programs/icat":19,"programs/ls":20,"programs/printf":22,"programs/program_base":23,"programs/seq":24,"programs/shell":25,"programs/tac":26,"programs/tail":27,"programs/true":29,"programs/wc":30,"shell/posix_shell_parser":31,"shell/shell_HTML_descriptor":32,"shell/shell_descriptor":33,"shell/shell_executor2.js":34,"shell/shell_interactive.js":35,"utils/object_utils":37,"utils/path_utils":38,"utils/sample_data_files":40,"utils/sprintf":41,"utils/string_utils":43,"utils/time_utils":44}],2:[function(require,module,exports){"use strict";var path_utils=require("utils/path_utils");var Storage=require("os/storage_object");var str_utils=require("utils/string_utils");var ob_utils=require("utils/object_utils");module.exports=FileSystem;function FileSystem(){this.name="FileSystem";var d=new Storage.Directory;d.chown(0,0);d.chmod(493);this.max_inode=1;this.inodes={1:d};this.hierarchy={"/":{inode:1,type:"directory",subnodes:{}}}}function FilesystemException(message,relatedfile){this.message=message;this.name="FilesystemException";this.relatedfile=relatedfile;this.toString=function(){return message+" (file: '"+this.relatedfile+"')"}}FilesystemException.prototype=new Error;FilesystemException.prototype.constructor=FilesystemException;FileSystem.prototype.exception=FilesystemException;FileSystem.prototype.__allocate_inode=function(name){this.max_inode++;return this.max_inode};FileSystem.prototype.path_exists=function(name){return this.__get_hnode(name)!==null};FileSystem.prototype.is_directory=function(name){var i=this.__get_hnode(name);return i!==null&&i["type"]==="directory"};FileSystem.prototype.is_file=function(name){var i=this.__get_hnode(name);return i!==null&&i["type"]==="file"};FileSystem.prototype.__validate_hnodes=function(){var root=this.hierarchy["/"];var inodes=this.inodes;var seen_inodes={};var validate_node=function(root,path){if(!("type"in root))throw"Filesystem internal error: path("+path+") has 'root' without 'type':"+JSON.stringify(root);if(root["type"]!=="directory"&&root["type"]!=="file")throw"Filesystem internal error: path("+path+") has 'root' with invalid 'type':"+JSON.stringify(root);if(!("inode"in root))throw"Filesystem internal error: path("+path+") has 'root' without 'inode':"+JSON.stringify(root);var inode=root["inode"];if(!(inode in inodes))throw"Filesystem internal error: path("+path+") has 'root' with non-existing 'inode':"+JSON.stringify(root);seen_inodes[inode]=1;if(root["type"]!=="directory")return;if(!("subnodes"in root))throw"Filesystem internal error: path("+path+") has 'root' with directory and no 'subnodes':"+JSON.stringify(root);var subnodes=root["subnodes"];for(var i in subnodes){validate_node(subnodes[i],path+"/"+i)}};validate_node(root,"/");for(var i in inodes){if(!(i in seen_inodes))throw"Filesystem internal error: inode("+i+") doesn't have a corresponding hierarchy path:"+JSON.stringify(inodes[i])}};FileSystem.prototype.__get_hnode=function(name){var abspath=path_utils.canonicalize(name);if(abspath==="")throw"Filesystem internal error: path_exists called with empty path";if(abspath==="/")return this.hierarchy["/"];abspath=abspath.slice(1);var levels=abspath.split("/");var root=this.hierarchy["/"];while(levels.length>0){if(root["type"]!=="directory")return null;var subnodes=root["subnodes"];var current_name=levels.shift();if(!(current_name in subnodes))return null;root=subnodes[current_name]}return root};FileSystem.prototype.mkdir=function(name){ob_utils.VerifyString(name);if(!str_utils.startsWith(name,"/"))throw"Implementation Limitation: mkdir requires absolutes path (got '"+name+"')";var abspath=path_utils.canonicalize(name);var basename=path_utils.basename(abspath);var dirname=path_utils.dirname(abspath);if(this.path_exists(abspath))throw new FilesystemException("File/Directory Exists",name);if(!this.path_exists(dirname))throw new FilesystemException("No such file (parent directory doesn't exist)",name);if(!this.is_directory(dirname))throw new FilesystemException("Can't create directory (parent path isn't a directory)",name);this.__validate_hnodes();var inode=this.__allocate_inode();var d=new Storage.Directory;d.chown(0,0);d.chmod(493);this.inodes[inode]=d;var i=this.__get_hnode(dirname);i["subnodes"][basename]={inode:inode,type:"directory",subnodes:{}};this.__validate_hnodes()};FileSystem.prototype.openfile=function(name,create_if_needed){ob_utils.VerifyString(name);if(!str_utils.startsWith(name,"/"))throw"Implementation Limitation: openfile requires absolutes path (got '"+name+"')";var abspath=path_utils.canonicalize(name);var basename=path_utils.basename(abspath);var dirname=path_utils.dirname(abspath);var exists=this.path_exists(abspath);var is_file=this.is_file(abspath);if(exists&&!is_file)throw new FilesystemException("Can't open file (path is not a regular file)",name);if(!exists){if(!create_if_needed)throw new FilesystemException("File/Directory does not exist",name);if(!this.path_exists(dirname))throw new FilesystemException("Can't create file (parent directory doesn't exist)",name);if(!this.is_directory(dirname))throw new FilesystemException("Can't create file (parent path isn't a directory)",name);var inode=this.__allocate_inode();var f=new Storage.File;f.chown(0,0);f.chmod(493);this.inodes[inode]=f;var i=this.__get_hnode(dirname);i["subnodes"][basename]={inode:inode,type:"file"};this.__validate_hnodes();return f}else{var i=this.__get_hnode(abspath);var inode=i["inode"];var f=this.inodes[inode];return f}};FileSystem.prototype.remove=function(name){ob_utils.VerifyString(name);if(!str_utils.startsWith(name,"/"))throw"Implementation Limitation: mkdir requires absolutes path (got '"+name+"')";var abspath=path_utils.canonicalize(name);var dirname=path_utils.dirname(abspath);var basename=path_utils.basename(abspath);var exists=this.path_exists(abspath);if(!exists)throw new FilesystemException("No such file/directory",name);var prnt=this.__get_hnode(dirname);var subnodes=prnt["subnodes"];if(!(basename in subnodes))throw"Filesystem internal error: path("+abspath+") not found in parent's subnodes";var hnode=subnodes[basename];var inode=hnode["inode"];if(hnode["type"]==="directory"){var subsubnodes=hnode["subnodes"];if(!ob_utils.IsObjectEmpty(subsubnodes))throw new FilesystemException("Directory not empty")}delete subnodes[basename];delete this.inodes[inode];this.__validate_hnodes()};FileSystem.prototype.opendir=function(name){ob_utils.VerifyString(name);if(!str_utils.startsWith(name,"/"))throw"Implementation Limitation: mkdir opendir absolutes path (got '"+name+"')";var abspath=path_utils.canonicalize(name);var basename=path_utils.basename(abspath);var dirname=path_utils.dirname(abspath);var exists=this.path_exists(abspath);if(!exists)throw new FilesystemException("Directory doesn't exist",name);var is_directory=this.is_directory(abspath);if(exists&&!is_directory)throw new FilesystemException("Path is not a directory",name);var i=this.__get_hnode(abspath);var inode=i["inode"];var d=this.inodes[inode];return d};FileSystem.prototype.readdir=function(name){ob_utils.VerifyString(name);if(!str_utils.startsWith(name,"/"))throw"Implementation Limitation: readdir requires absolutes path (got '"+name+"')";var abspath=path_utils.canonicalize(name);var exists=this.path_exists(abspath);if(!exists)throw new FilesystemException("Directory doesn't exist",name);var is_directory=this.is_directory(abspath);if(exists&&!is_directory)throw new FilesystemException("Path is not a directory",name);var i=this.__get_hnode(abspath);var subnodes=i["subnodes"];var results=[];if(abspath==="/")abspath="";for(var i in subnodes){results.push(i)}return results};FileSystem.prototype.reset=function(){var d=new Storage.Directory;d.chown(0,0);d.chmod(493);this.max_inode=1;this.inodes={1:d};this.hierarchy={"/":{inode:1,type:"directory",subnodes:{}}};this.__validate_hnodes()};FileSystem.prototype.debug_dump=function(){console.log("inodes = {");for(var i in this.inodes){var fullpath=i;var storage_obj=this.inodes[i];console.log('  { "'+fullpath+"\" => '%j'",storage_obj)}console.log("}");var str=JSON.stringify(this.hierarchy,undefined,2);console.log("hierarchy = "+str)}},{"os/storage_object":5,"utils/object_utils":37,"utils/path_utils":38,"utils/string_utils":43}],3:[function(require,module,exports){"use strict";var time_utils=require("utils/time_utils");module.exports=OperatingSystem;function OperatingSystemException(message){this.message=message;this.name="OperatingSystemException"}OperatingSystemException.prototype=new Error;OperatingSystemException.prototype.constructor=OperatingSystemException;function OperatingSystem(){this.last_pid=0;function allocate_pid(){this.last_pid++;return this.last_pid}function time(){return time_utils.get_sys_time()}function uname(){return{sysname:"agnostic",nodename:"FOOBAR",release:"0.0.1",version:"0.0.1",machine:"JavaScript"}}this.time=time;this.uname=uname;this.allocate_pid=allocate_pid;return this}},{"utils/time_utils":44}],4:[function(require,module,exports){"use strict";module.exports=ProcessState;var OperatingSystem=require("os/os_state");var FileSystem=require("os/filesystem");var Streams=require("os/streams");var ob_utils=require("utils/object_utils");var path_utils=require("utils/path_utils");function ProcessState(OS,FS){if(!(OS instanceof OperatingSystem))throw new TypeError("OS parameter is not an OperatingSystem");if(!(FS instanceof FileSystem))throw new TypeError("FS parameter is not a FileSystem");this.OS=OS;this.FS=FS;this.pid=OS.allocate_pid();this.ppid=1;this.cwd="/";this.env={};this.stdin=new Streams.InputStream;this.stdout=new Streams.OutputStream;this.stderr=new Streams.OutputStream;this.last_exit_code=null}ProcessState.prototype.getOS=function(){return this.OS};ProcessState.prototype.getFS=function(){return this.FS};ProcessState.prototype.clone=function(){var new_ps=new ProcessState(this.OS,this.FS);new_ps.ppid=this.pid;new_ps.pid=this.OS.allocate_pid();new_ps.cwd=this.cwd;new_ps.env={};for(var i in this.env){new_ps.env[i]=this.env[i]}return new_ps};ProcessState.prototype.getpid=function(){return this.pid};ProcessState.prototype.getppid=function(){return this.ppid};ProcessState.prototype.getcwd=function(){return this.cwd};ProcessState.prototype.chdir=function(path){ob_utils.VerifyString(path);var newcwd;if(path_utils.isAbsolute(path))newcwd=path_utils.canonicalize(path);else newcwd=path_utils.canonicalize(this.cwd+"/"+path);this.cwd=newcwd};ProcessState.prototype.setenv=function(name,value,overwrite){ob_utils.VerifyString(name);ob_utils.VerifyString(value);ob_utils.VerifyBoolean(overwrite);if(!this.existsenv(name)||overwrite)this.env[name]=value;return 0};ProcessState.prototype.unsetenv=function(name){if(name in this.env)delete this.env[name];return 0};ProcessState.prototype.existsenv=function(name){ob_utils.VerifyString(name);return name in this.env};ProcessState.prototype.getenv=function(name,def){ob_utils.VerifyString(name);ob_utils.VerifyString(def);if(this.existsenv(name))return this.env[name];return def};ProcessState.prototype.environ=function(){var tmp={};for(var key in this.env){tmp[key]=this.env[key]}return tmp};ProcessState.prototype.clearenv=function(){this.env={}}},{"os/filesystem":2,"os/os_state":3,"os/streams":6,"utils/object_utils":37,"utils/path_utils":38}],5:[function(require,module,exports){"use strict";var time_utils=require("utils/time_utils");var ob_utils=require("utils/object_utils");module.exports={StorageObject:StorageObject,File:FileObject,Directory:DirectoryObject};function StorageObject(){this.name="StorageObject";this.mode=438;this.uid=1e3;this.gid=1e3;this.get_time=time_utils.get_sys_time;var t=this.get_time();this.access_time=t;this.change_time=t;this.modify_time=t;this.size=-1;this.object_type=null}StorageObject.prototype.__get_os_time=function(){var t=this.get_time();return t};StorageObject.prototype.__update_ctime=function(){var t=this.__get_os_time();this.change_time=t};StorageObject.prototype.__update_atime=function(){var t=this.__get_os_time();this.access_time=t};StorageObject.prototype.__update_mtime=function(){var t=this.__get_os_time();this.modify_time=t};StorageObject.prototype.stat=function(){return{uid:this.uid,gid:this.gid,mode:this.mode,atime:this.access_time,ctime:this.change_time,mtime:this.modify_time,size:this.size,object_type:this.object_type}};StorageObject.prototype.chown=function(new_uid,new_gid){ob_utils.VerifyInteger(new_uid);ob_utils.VerifyInteger(new_gid);this.uid=new_uid;this.gid=new_gid;this.__update_ctime()};StorageObject.prototype.chmod=function(new_mode){ob_utils.VerifyInteger(new_mode);this.mode=new_mode;this.__update_ctime()};StorageObject.prototype.utime=function(new_atime,new_mtime){ob_utils.VerifyInteger(new_atime);ob_utils.VerifyInteger(new_mtime);this.access_time=new_atime;this.modify_time=new_mtime;this.__update_ctime()};function FileObject(){this.name="FileObject";this.object_type="file";this.lines=[];this.size=0}FileObject.prototype=new StorageObject;FileObject.prototype.get_all_lines=function(){this.__update_atime();return this.lines.slice(0)};FileObject.prototype.write=function(arr){FileObject.prototype.truncate.call(this);FileObject.prototype.append.call(this,arr)};FileObject.prototype.truncate=function(){StorageObject.prototype.__update_atime.call(this);StorageObject.prototype.__update_mtime.call(this);this.lines=[];this.size=0};FileObject.prototype.append=function(arr){this.__update_atime();this.__update_mtime();ob_utils.VerifyArray(arr);var count_chars=0;for(var i in arr){var line=arr[i];ob_utils.VerifyString(line);this.lines.push(line);count_chars+=line.length+1}this.size+=count_chars};function DirectoryObject(){this.name="DirectoryObject";this.object_type="directory";this.size=0}DirectoryObject.prototype=new StorageObject},{"utils/object_utils":37,"utils/time_utils":44}],6:[function(require,module,exports){"use strict";var ob_utils=require("utils/object_utils");module.exports={GenericStream:GenericStream,InputStream:InputStream,OutputStream:OutputStream};function GenericStream(){this.name="GenericStream";this.lines=[];this.fill_input_callback=null}GenericStream.prototype.__clear_lines=function(){this.lines=[]};GenericStream.prototype.__push_line=function(text){ob_utils.VerifyString(text);this.lines.push(text)};GenericStream.prototype.__push_lines=function(arr){ob_utils.VerifyArray(arr);for(var i in arr){this.__push_line(arr[i])}};GenericStream.prototype.__set_lines=function(arr){this.__clear_lines();this.__push_lines(arr)};GenericStream.prototype.__fill_input=function(){if(this.lines.length===0&&this.fill_input_callback!==null){this.lines=this.fill_input_callback()}};GenericStream.prototype.__is_empty=function(){return this.lines.length===0};GenericStream.prototype.__shift_line=function(){this.__fill_input();if(this.lines.length>0)return this.lines.shift();return null};GenericStream.prototype.__get_lines=function(){this.__fill_input();var temp=this.lines;this.lines=[];return temp};function InputStream(){this.name="InputStream";this.lines=[];this.fill_input_callback=null}InputStream.prototype=new GenericStream;InputStream.prototype.constructor=InputStream;InputStream.prototype.get_line=InputStream.prototype.__shift_line;InputStream.prototype.get_all_lines=InputStream.prototype.__get_lines;function OutputStream(){this.name="OutputStream";this.lines=[]}OutputStream.prototype=new GenericStream;OutputStream.prototype.constructor=OutputStream;OutputStream.prototype.put_line=OutputStream.prototype.__push_line;OutputStream.prototype.put_lines=OutputStream.prototype.__push_lines},{"utils/object_utils":37}],7:[function(require,module,exports){"use strict";var ProgramBase=require("programs/program_base");var path_utils=require("utils/path_utils");module.exports=ProgramBasename;function ProgramBasename(){this.name="ProgramBasename";this.program_name="basename"}ProgramBasename.prototype=new ProgramBase;ProgramBasename.prototype.constructor=ProgramBasename;ProgramBasename.prototype.internal_run=function(){if(this.argv.length===0)this.error_invalid_argument("missing operand");if(this.argv[0]==="--help"){this.show_help();this.exit(0)}if(this.argv[0]=="--version"){this.show_version();this.exit(0)}if(this.argv.length>2)this.exit_error("extra operand: '"+this.argv[2]+"'");var path=this.argv[0];var suffix=this.argv.length===2?this.argv[1]:"";var basename=path_utils.basename(path,suffix);this.runtime.stdout.put_line(basename);return 0}},{"programs/program_base":23,"utils/path_utils":38}],8:[function(require,module,exports){"use strict";var sprintf=require("utils/sprintf");var ob_utils=require("utils/object_utils");var strftime=require("utils/strftime");var PosixGetOpt=require("utils/posix-getopt");var ProgramBase=require("programs/program_base");module.exports=ProgramCal;function ProgramCal(){this.name="ProgramCal";this.program_name="cal";this.month=null;this.year=null;this.display_one_month=true;this.week_starts_on_monday=true}ProgramCal.prototype=new ProgramBase;ProgramCal.prototype.constructor=ProgramCal;ProgramCal.prototype.get_month_value=function(month_param){var month_val=false;if(ob_utils.IsStrictDecimalIntegerValue(month_param)){month_val=parseInt(month_param);if(month_val>=1&&month_val<=12)return month_val;return false}var month_names={jan:1,january:1,feb:2,february:2,mar:3,march:3,apr:4,april:4,may:5,jun:6,june:6,jul:7,july:7,aug:8,august:8,sep:9,september:9,oct:10,october:10,nov:11,november:11,dec:12,december:12};month_param=month_param.toLowerCase();if(month_param in month_names)return month_names[month_param];return false};ProgramCal.prototype.parse_command_line=function(){var parser=new PosixGetOpt("m(monday)"+"s(sunday)"+"က(help)"+"ခ(version)",this.argv);var option;while((option=parser.getopt())!==undefined){switch(option.option){case"m":this.week_starts_on_monday=true;break;case"s":this.week_starts_on_monday=false;break;case"က":this.show_help();this.exit(0);case"ခ":this.show_version();this.exit(0);default:this.error_invalid_argument(option.errmsg)}}var args=this.argv.slice(parser.optind());var d=new Date;var month=d.getUTCMonth()+1;var year=d.getUTCFullYear();var display_one_month=true;if(args.length==1){year=args[0];month=null;display_one_month=false}if(args.length==2){month=args[0];year=args[1]}if(args.length>2)this.error_invalid_argument("extra operand: '"+args[2]+'"');if(month){var month_val=this.get_month_value(month);if(!month_val)this.error_invalid_argument("invalid month value '"+month+"'");month=month_val}if(!ob_utils.IsStrictDecimalIntegerValue(year))this.error_invalid_argument("invalid year value '"+year+"'");year=parseInt(year);if(year<1970)this.exit_error("years before 1970 are not supported in this system");this.year=year;this.month=month;this.display_one_month=display_one_month};ProgramCal.prototype.print_month=function(month,year,print_year){var month_to_name=["none","January","February","March","April","May","June","July","August","September","October","November","December"];var caption;if(print_year)caption=sprintf.sprintf("   %8s %d",month_to_name[month],year);else caption=sprintf.sprintf("      %-8s",month_to_name[month]);this.runtime.stdout.put_line(caption);var day_of_week_header=this.week_starts_on_monday?"Mo Tu We Th Fr Sa Su":"Su Mo Tu We Th Fr Sa";this.runtime.stdout.put_line(day_of_week_header);var dt=new Date(year,month-1,1,12,0,0,0);var sec_since_epoch=dt.getTime()/1e3;var day_of_week=dt.getUTCDay();if(this.week_starts_on_monday)day_of_week=day_of_week==0?6:day_of_week-1;var cal_line="";for(var i=0;i<day_of_week;++i)cal_line=cal_line+"   ";while(1){cal_line=cal_line+sprintf.sprintf("%2d ",dt.getUTCDate());if(day_of_week==6){this.runtime.stdout.put_line(cal_line);cal_line=""}sec_since_epoch+=86400;dt=new Date(sec_since_epoch*1e3);day_of_week=dt.getUTCDay();if(this.week_starts_on_monday)day_of_week=day_of_week==0?6:day_of_week-1;if(dt.getUTCMonth()+1!=month)break}if(cal_line)this.runtime.stdout.put_line(cal_line);this.runtime.stdout.put_line("")};ProgramCal.prototype.internal_run=function(){this.parse_command_line();if(this.display_one_month){this.print_month(this.month,this.year,true)}else{this.runtime.stdout.put_line("       "+this.year);for(var i=1;i<=12;++i)this.print_month(i,this.year,false)}return 0}},{"programs/program_base":23,"utils/object_utils":37,"utils/posix-getopt":39,"utils/sprintf":41,"utils/strftime":42}],9:[function(require,module,exports){"use strict";var ob_utils=require("utils/object_utils");var sprintf=require("utils/sprintf");var PosixGetOpt=require("utils/posix-getopt");var ProgramBase=require("programs/program_base");var Filesystem=require("os/filesystem");module.exports=ProgramCat;function ProgramCat(){this.name="ProgramCat";this.program_name="cat";this.files=[];this.show_ends=false;this.show_tabs=false;this.show_number=false;this.number_nonblank=false;this.show_nonprinting=false;this.squeeze_blank=false;this.current_line=0;this.last_line_blank=false}ProgramCat.prototype=new ProgramBase;ProgramCat.prototype.constructor=ProgramCat;ProgramCat.prototype.parse_command_line=function(){var parser=new PosixGetOpt("A(show-all)b(number-nonblank)eE(show-ends)n(number)s(squeeze_blank)tT(show-tabs)uv(show-nonprinting)က(help)ခ(version)",this.argv);var option;while((option=parser.getopt())!==undefined){switch(option.option){case"A":this.show_nonprinting=true;this.show_ends=true;this.show_tabs=true;break;case"b":this.number_nonblank=true;this.show_number=true;break;case"e":this.show_ends=true;this.show_nonprinting=true;break;case"E":this.show_ends=true;break;case"n":this.show_number=true;break;case"s":this.squeeze_blank=true;break;case"t":this.show_nonprinting=true;this.show_tabs=true;break;case"T":this.show_tabs=true;break;case"u":break;case"v":this.show_nonprinting=true;break;case"က":this.show_help();this.exit(0);case"ခ":this.show_version();this.exit(0);default:this.error_invalid_argument(option.errmsg)}}var args=this.argv.slice(parser.optind());if(args.length===0)args.push("-");this.files=args};ProgramCat.prototype.cat_content=function(filename,content){for(var i in content){var line=content[i];var blank_line=line==="";if(this.squeeze_blank&&blank_line&&this.last_line_blank)continue;if(!this.number_nonblank||!blank_line)this.current_line++;if(this.show_ends)line=line+"$";if(this.show_tabs)line=line.replace(/\t/g,"^I");if(this.show_number){if(!blank_line||!this.number_nonblank)line=sprintf.sprintf("%6d  ",this.current_line)+line}this.runtime.stdout.put_line(line);this.last_line_blank=blank_line}};ProgramCat.prototype.internal_run=function(){this.parse_command_line();this.current_line=0;this.last_line_blank=false;this.process_files(this.files,this.cat_content);return 0}},{"os/filesystem":2,"programs/program_base":23,"utils/object_utils":37,"utils/posix-getopt":39,"utils/sprintf":41}],10:[function(require,module,exports){"use strict";var ob_utils=require("utils/object_utils");var sprintf=require("utils/sprintf");var PosixGetOpt=require("utils/posix-getopt");var ProgramBase=require("programs/program_base");var Filesystem=require("os/filesystem");module.exports=ProgramCut;function ProgramCut(){this.name="ProgramCut";this.program_name="cut";this.files=[];this.fields=null;this.characters=null;this.bytes=null;this.positions={};this.min_position_and_above=null;this.max_position_and_below=null;this.complement=false;this.only_delimited=false;this.input_separator=null;this.output_separator=null}ProgramCut.prototype=new ProgramBase;ProgramCut.prototype.constructor=ProgramCut;ProgramCut.prototype.parse_command_line=function(){var parser=new PosixGetOpt("b:(bytes)f:(fields)c:(characters)d:(delimiter)nစ(complement)s(only-delimiter)ဆ:(output-delimiter)က(help)ခ(version)",this.argv);var option;while((option=parser.getopt())!==undefined){switch(option.option){case"b":if(this.fields||this.bytes||this.characters)this.error_invalid_argument("only one type of list may be specified");this.bytes=true;this.parse_position_list(option.optarg);break;case"f":if(this.fields||this.bytes||this.characters)this.error_invalid_argument("only one type of list may be specified");this.fields=true;this.parse_position_list(option.optarg);break;case"c":if(this.fields||this.bytes||this.characters)this.error_invalid_argument("only one type of list may be specified");this.characters=true;this.parse_position_list(option.optarg);break;case"n":break;case"d":this.input_separator=option.optarg;break;case"s":this.only_delimited=true;break;case"ဆ":this.output_separator=option.optarg;break;case"စ":this.complement=true;break;case"က":this.show_help();this.exit(0);case"ခ":this.show_version();this.exit(0);default:this.error_invalid_argument(option.errmsg)}}if(!this.fields&&!this.bytes&&!this.characters)this.error_invalid_argument("you must specify a list of bytes, characters, or fields");if(this.only_delimited&&!this.fields)this.error_invalid_argument("suppressing non-delimited lines makes sense only when operating on fields");if(this.input_separator&&!this.fields)this.error_invalid_argument("an input delimiter may be specified only when operating on fields");if(this.input_separator===null){if(this.fields)this.input_separator="\t";else this.input_separator=""}if(this.output_separator===null)this.output_separator=this.input_separator;if(this.input_separator.indexOf("\n")!=-1||this.output_separator.indexOf("\n")!=-1)this.error_not_implemented_feature("New-Line separator","this vesion of 'cut' does not support new-line as field separator");var args=this.argv.slice(parser.optind());if(args.length===0)args.push("-");this.files=args};ProgramCut.prototype.parse_position_list=function(list){var items=list.split(",");for(var i in items){var t=items[i];var m;if(m=t.match(/^(\d+)$/)){this.positions[parseInt(m[1])]=1}else if(m=t.match(/^(\d+)-$/)){var v=parseInt(m[1]);if(this.min_position_and_above===null||v<this.min_position_and_above)this.min_position_and_above=v}else if(m=t.match(/^-(\d+)$/)){var v=parseInt(m[1]);if(this.max_position_and_below===null||v>this.max_position_and_below)this.max_position_and_below=v}else if(m=t.match(/^(\d+)-(\d+)$/)){var min=parseInt(m[1]);var max=parseInt(m[2]);if(min>max)this.error_invalid_argument("invalid decreasing range");for(var j=min;j<=max;j++)this.positions[j]=1}else{this.error_invalid_argument("invalid byte, character or field list")}}if(this.max_position_and_below!==null&&this.min_position_and_above!==null&&this.max_position_and_below>=this.min_position_and_above){this.min_position_and_above=1;this.max_position_and_below=null;this.positions={}}};ProgramCut.prototype.cut_content=function(filename,content){for(var i in content){var line=content[i];var items=[];items=line.split(this.input_separator);if(items.length===1){if(!this.only_delimited)this.runtime.stdout.put_line(line);continue}var output_items=[];for(var j in items){var pos=parseInt(j)+1;var match=pos in this.positions||this.max_position_and_below!==null&&pos<=this.max_position_and_below||this.min_position_and_above!==null&&pos>=this.min_position_and_above;if(this.complement)match=!match;if(match)output_items.push(items[j])}var output_line=output_items.join(this.output_separator);this.runtime.stdout.put_line(output_line)}};ProgramCut.prototype.internal_run=function(){this.parse_command_line();this.process_files(this.files,this.cut_content);return 0}},{"os/filesystem":2,"programs/program_base":23,"utils/object_utils":37,"utils/posix-getopt":39,"utils/sprintf":41}],11:[function(require,module,exports){"use strict";var sprintf=require("utils/sprintf");var ob_utils=require("utils/object_utils");var strftime=require("utils/strftime");var PosixGetOpt=require("utils/posix-getopt");var ProgramBase=require("programs/program_base");var strftimeUTC=strftime.strftimeUTC;module.exports=ProgramDate;function ProgramDate(){this.name="ProgramDate";this.program_name="date";this.output_format="%a %b %d %H:%M:%S %Z %Y";this.display_time=null}ProgramDate.prototype=new ProgramBase;ProgramDate.prototype.constructor=ProgramDate;ProgramDate.prototype.parse_command_line=function(){var parser=new PosixGetOpt(":"+"d:(date)"+"f:(file)"+"I:(iso-8601)"+"R(rfc-2822)"+"u(utc)"+"ဃ(universal)"+"ဂ:(rfc-3339)"+"က(help)"+"ခ(version)",this.argv);var option;while((option=parser.getopt())!==undefined){switch(option.option){case"d":this.parse_time_string(option.optarg);break;case"f":this.error_not_implemented_feature("-f","not implemented");break;case"I":switch(option.optarg){case"":case"date":this.output_format="%Y-%m-%d";break;case"hour":this.output_format="%Y-%m-%dT%H+%z";break;case"minute":this.output_format="%Y-%m-%dT%H:%M%z";break;case"second":this.output_format="%Y-%m-%dT%H:%M%S%z";break;case"ns":this.output_format="%Y-%m-%dT%H:%M%S,%N%z";break;default:this.error_invalid_argument('invalid precision "'+option.optarg+'"');break}break;case"R":this.output_format="%a, %d %b %Y %H:%M:%S %z";break;case"ဂ":switch(option.optarg){case"date":this.output_format="%Y-%m-%d";break;case"seconds":this.output_format="%Y-%m-%d %H:%M:%S%z";break;case"ns":this.output_format="%Y-%m-%d %H:%M:%S.%N%z";break;default:this.error_invalid_argument('invalid precision "'+option.optarg+'"');break}break;case"u":case"ဃ":break;case"က":this.show_help();this.exit(0);case"ခ":this.show_version();this.exit(0);case"?":if(option.optopt=="I"){this.output_format="%Y-%m-%d";break}default:this.error_invalid_argument(option.errmsg)}}var args=this.argv.slice(parser.optind());if(args.length>1){this.error_invalid_argument("extra operand: '"+args[1]+'"')}if(args.length==1){var s=args[0];if(s.length>0&&s[0]==="+"){this.output_format=s.substr(1)}else{this.error_not_implemented_feature("set date","not implemented")}}};ProgramDate.prototype.parse_time_string=function(time_str){if(time_str.length===0)this.error_invalid_argument("invalid time specified for -d option");if(time_str[0]==="@"){var seconds=time_str.substr(1);if(!ob_utils.IsStrictDecimalIntegerValue(seconds))this.error_invalid_argument("invalid number of seconds '"+seconds+"'");this.display_time=parseInt(seconds);return}var ymd_re=/^(\d{4})-(\d{2})-(\d{2})$/;var ymd_match=ymd_re.exec(time_str);if(ymd_match){var dt=new Date(ymd_match[1],ymd_match[2]-1,ymd_match[3],12,0,0);var n=dt.getTime();this.display_time=Math.floor(n/1e3)-dt.getTimezoneOffset()*60;return}var ymdhm_re=/^(\d{4})-(\d{2})-(\d{2}) (\d{2}):(\d{2})$/;var ymdhm_match=ymdhm_re.exec(time_str);if(ymdhm_match){var dt=new Date(ymdhm_match[1],ymdhm_match[2]-1,ymdhm_match[3],ymdhm_match[4],ymdhm_match[5],0);var n=dt.getTime();this.display_time=Math.floor(n/1e3)-dt.getTimezoneOffset()*60;return}var ymdhms_re=/^(\d{4})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})$/;var ymdhms_match=ymdhms_re.exec(time_str);if(ymdhms_match){var dt=new Date(ymdhms_match[1],ymdhms_match[2]-1,ymdhms_match[3],ymdhms_match[4],ymdhms_match[5],ymdhms_match[6]);var n=dt.getTime();this.display_time=Math.floor(n/1e3)-dt.getTimezoneOffset()*60;return}this.error_invalid_argument("-d option accepts the following formats: @NNNNNNNN, 'YYYY-mm-dd', 'YYYY-mm-dd HH:MM', 'YYYY-mm-dd HH:MM:SS'")};ProgramDate.prototype.internal_run=function(){this.parse_command_line();var tm=this.display_time?this.display_time:this.runtime.getOS().time();var dt=new Date(tm*1e3);var text=strftimeUTC(this.output_format,dt);this.runtime.stdout.put_line(text);return 0}},{"programs/program_base":23,"utils/object_utils":37,"utils/posix-getopt":39,"utils/sprintf":41,"utils/strftime":42}],12:[function(require,module,exports){"use strict";var ProgramBase=require("programs/program_base");var path_utils=require("utils/path_utils");module.exports=ProgramDirname;function ProgramDirname(){this.name="ProgramDirname";this.program_name="dirname"}ProgramDirname.prototype=new ProgramBase;ProgramDirname.prototype.constructor=ProgramDirname;ProgramDirname.prototype.internal_run=function(){if(this.argv.length===0)this.error_invalid_argument("missing operand");if(this.argv[0]==="--help"){this.show_help();this.exit(0)}if(this.argv[0]=="--version"){this.show_version();this.exit(0)}if(this.argv.length>1)this.error_invalid_argument("extra operand: '"+this.argv[1]+"'");var path=this.argv[0];var dirname=path_utils.dirname(path);this.runtime.stdout.put_line(dirname);return 0}},{"programs/program_base":23,"utils/path_utils":38}],13:[function(require,module,exports){"use strict";var ProgramBase=require("programs/program_base");module.exports=ProgramEcho;function ProgramEcho(){this.name="ProgramEcho";this.program_name="echo"}ProgramEcho.prototype=new ProgramBase;ProgramEcho.prototype.constructor=ProgramEcho;ProgramEcho.prototype.internal_run=function(){if(this.argv.length>0)this.runtime.stdout.put_line(this.argv.join(" "));return 0}},{"programs/program_base":23}],14:[function(require,module,exports){"use strict";var ProgramBase=require("programs/program_base");module.exports=ProgramFalse;function ProgramFalse(){this.name="ProgramFalse";this.program_name="false"}ProgramFalse.prototype=new ProgramBase;ProgramFalse.prototype.constructor=ProgramFalse;ProgramFalse.prototype.internal_run=function(){if(this.argv[0]==="--help"){this.show_help();this.exit(0)}if(this.argv[0]=="--version"){this.show_version();this.exit(0)}return 1}},{"programs/program_base":23}],15:[function(require,module,exports){"use strict";var ob_utils=require("utils/object_utils");var PosixGetOpt=require("utils/posix-getopt");var ProgramBase=require("programs/program_base");var fortunes_data=require("programs/fortunes_data");module.exports=ProgramFortune;function ProgramFortune(){this.name="ProgramFortune";this.program_name="fortune";this.limit_file=null;this.list_files=null}ProgramFortune.prototype=new ProgramBase;ProgramFortune.prototype.constructor=ProgramFortune;ProgramFortune.prototype.parse_command_line=function(){var parser=new PosixGetOpt("f"+"က(help)"+"ခ(version)",this.argv);var option;while((option=parser.getopt())!==undefined){switch(option.option){case"f":this.list_files=true;break;case"က":this.show_help();this.exit(0);case"ခ":this.show_version();this.exit(0);default:this.error_invalid_argument(option.errmsg)}}var args=this.argv.slice(parser.optind());if(args.length==1){this.limit_file=args[0];if(!(this.limit_file in fortunes_data))this.error_invalid_argument("invalid fortune file '"+this.limit_file+"'. Use -f to list available files")}if(args.length>1)this.error_invalid_argument("extra operand '"+args[1]+"'")};ProgramFortune.prototype.internal_run=function(){this.parse_command_line();if(this.list_files){for(var file in fortunes_data){this.runtime.stdout.put_line(file)}return 0}var source;if(this.limit_file){source=fortunes_data[this.limit_file]}else{source=[];for(var file in fortunes_data){source=source.concat(fortunes_data[file])}}var count=source.length;var idx=Math.round(Math.random()*count);var text=source[idx];var lines=text.split("|");this.runtime.stdout.put_lines(lines);return 0}},{"programs/fortunes_data":16,"programs/program_base":23,"utils/object_utils":37,"utils/posix-getopt":39}],16:[function(require,module,exports){"use strict";module.exports=fortunes_data();function fortunes_data(){var art_fortunes=["A critic is a bundle of biases held loosely together by a sense of taste.|-- Whitney Balliett","A sequel is an admission that you've been reduced to imitating yourself.|-- Don Marquis","A team effort is a lot of people doing what I say.|-- Michael Winner, British film director","A true artist will let his wife starve, his children go barefoot, his mother|drudge for his living at seventy, sooner than work at anything but his art.|-- Shaw","Adding sound to movies would be like putting lipstick on the Venus de Milo.|-- actress Mary Pickford, 1925","An actor's a guy who if you ain't talkin' about him, ain't listening.|-- Marlon Brando",'"Are you police officers?"|"No, ma\'am.  We\'re musicians."|-- The Blues Brothers',"Art is a jealous mistress.|-- Ralph Waldo Emerson","Art is a lie which makes us realize the truth.|-- Picasso","Asking a working writer what he thinks about critics is like asking a|lamp-post how it feels about dogs.|-- Christopher Hampton",'Authors are easy to get on with -- if you\'re fond of children.|-- Michael Joseph, "Observer"',"Be regular and orderly in your life, so that you may be violent|and original in your work.|-- Flaubert","Ben, why didn't you tell me?|-- Luke Skywalker",'Classical music is the kind we keep thinking will turn into a tune.|-- Kin Hubbard, "Abe Martin\'s Sayings"',"Fame lost its appeal for me when I went into a public restroom and an|autograph seeker handed me a pen and paper under the stall door.|-- Marlo Thomas","God is really only another artist.  He invented the giraffe, the elephant|and the cat.  He has no real style, He just goes on trying other things.|-- Pablo Picasso","He played the king as if afraid someone else would play the ace.|-- John Mason Brown, drama critic","Hollywood is where if you don't have happiness you send out for it.|-- Rex Reed","I always had a repulsive need to be something more than human.|-- David Bowie","I am a deeply superficial person.|-- Andy Warhol","I didn't do it! Nobody saw me do it! Can't prove anything!|-- Bart Simpson","I don't know anything about music.  In my line you don't have to.|-- Elvis Presley","I have had my television aerials removed.  It's the moral equivalent|of a prostate operation.|-- Malcolm Muggeridge",'I have more humility in my little finger than you have in your whole ____BODY!|-- from "Cerebus" #82',"I knew her before she was a virgin.|-- Oscar Levant, on Doris Day","I never failed to convince an audience that the best thing they|could do was to go away.","I often quote myself; it adds spice to my conversation.|-- G. B. Shaw","I suggest a new strategy, Artoo: let the Wookie win.|-- C3P0",'"I suppose you expect me to talk."|"No, Mr. Bond.  I expect you to die."|-- Goldfinger',"I think we're in trouble.|-- Han Solo","I went into the business for the money, and the art grew out of it.  If|people are disillusioned by that remark, I can't help it.  It's the truth.|-- Charlie Chaplin","I went to a Grateful Dead Concert and they played for SEVEN hours.  Great song.|-- Fred Reuss","I'd just as soon kiss a Wookie.|-- Princess Leia Organa","I've got a very bad feeling about this.|-- Han Solo","If I had any humility I would be perfect.|-- Ted Turner","It's not easy, being green.|-- Kermit the Frog","Just because you like my stuff doesn't mean I owe you anything.|-- Bob Dylan","Mate, this parrot wouldn't VOOM if you put four million volts through it!|-- Monty Python","Might as well be frank, monsieur.  It would take a miracle to get you out|of Casablanca and the Germans have outlawed miracles.|-- Casablanca",'Mike:"The Fourth Dimension is a shambles?"|Bernie:"Nobody ever empties the ashtrays.  People are SO inconsiderate."|-- Gary Trudeau, "Doonesbury"',"Modern art is what happens when painters stop looking at girls and persuade|themselves that they have a better idea.|-- John Ciardi","No house should ever be on any hill or on anything.  It should be of the hill,|belonging to it.|-- Frank Lloyd Wright","One big pile is better than two little piles.|-- Arlo Guthrie","Perhaps no person can be a poet, or even enjoy poetry without a certain|unsoundness of mind.|-- Thomas Macaulay","Prizes are for children.|-- Charles Ives, upon being given, but refusing, the|   Pulitzer prize","Publishing a volume of verse is like dropping a rose petal down the|Grand Canyon and waiting for the echo.","Satire is what closes Saturday night.|-- George Kaufman","\"She said, `I know you ... you cannot sing'.  I said, `That's nothing,|you should hear me play piano.'\"|-- Morrisey","Show business is just like high school, except you get paid.|-- Martin Mull","Television has brought back murder into the home -- where it belongs.|-- Alfred Hitchcock","Television is now so desperately hungry for material that it is scraping|the top of the barrel.|-- Gore Vidal","The last vestiges of the old Republic have been swept away.|-- Governor Tarkin","The mome rath isn't born that could outgrabe me.|-- Nicol Williamson","The older I grow, the less important the comma becomes.  Let the reader|catch his own breath.|-- Elizabeth Clarkson Zwart","There are three rules for writing a novel.  Unfortunately, no one knows|what they are.|-- Somerset Maugham","There are two ways of disliking art.   One is to dislike it.  The other is|to like it rationally.|-- Oscar Wilde","There are two ways of disliking poetry; one way is to dislike it, the|other is to read Pope.|-- Oscar Wilde","There's nothing remarkable about it.  All one has to do is hit the right|keys at the right time and the instrument plays itself.|-- J. S. Bach",'"You\'ve got to have a gimmick if your band sucks."|-- Gary Giddens'];var humor_fortunes=["A friend of mine is into Voodoo Acupuncture.  You don't have to go.|You'll just be walking down the street and...  Ooohh, that's much better.|-- Steven Wright","All men are mortal.  Socrates was mortal.  Therefore, all men are Socrates.|-- Woody Allen",'"Are you sure you\'re not an encyclopedia salesman?"|No, Ma\'am.  Just a burglar, come to ransack the flat."|-- Monty Python','As the poet said, "Only God can make a tree" -- probably because it\'s|so hard to figure out how to get the bark on.|-- Woody Allen','"Boy, life takes a long time to live."|-- Steven Wright','Death didn\'t answer.  He was looking at Spold in the same way as a dog looks|at a bone, only in this case things were more or less the other way around.|-- Terry Pratchett, "The Colour of Magic"',"Do you think that when they asked George Washington for ID that he|just whipped out a quarter?|-- Steven Wright","Don't worry about the world coming to an end today.  It's already tomorrow|in Australia.|-- Charles Schulz","Eternal nothingness is fine if you happen to be dressed for it.|-- Woody Allen","Eternity is a terrible thought.  I mean, where's it going to end?|-- Tom Stoppard","For my birthday I got a humidifier and a de-humidifier...  I put them in|the same room and let them fight it out.|-- Steven Wright","\"Here's something to think about:  How come you never see a headline like|`Psychic Wins Lottery'?\"|-- Jay Leno","Hey, what do you expect from a culture that *drives* on *parkways* and|*parks* on *driveways*?|-- Gallagher",'"Humor is a drug which it\'s the fashion to abuse."|-- William Gilbert',"I don't want to live on in my work, I want to live on in my apartment.|-- Woody Allen","I just got out of the hospital after a speed reading accident.|I hit a bookmark.|-- Steven Wright","I know the answer!  The answer lies within the heart of all mankind!|The answer is twelve?  I think I'm in the wrong building.|-- Charles Schulz","I poured spot remover on my dog.  Now he's gone.|-- Steven Wright","I was the best I ever had.|-- Woody Allen",'"I went to the museum where they had all the heads and arms from the|statues that are in all the other museums."|-- Steven Wright','I worked in a health food store once.  A guy came in and asked me,|"If I melt dry ice, can I take a bath without getting wet?"|-- Steven Wright',"I'll be comfortable on the couch.  Famous last words.|-- Lenny Bruce","I'm going to Boston to see my doctor.  He's a very sick man.|-- Fred Allen","I'm going to give my psychoanalyst one more year, then I'm going to Lourdes.|-- Woody Allen","I'm not afraid of death -- I just don't want to be there when it happens.|-- Woody Allen","If only Dionysus were alive!  Where would he eat?|-- Woody Allen",'If only God would give me some clear sign!  Like making a large deposit|in my name at a Swiss bank.|-- Woody Allen, "Without Feathers"',"If you live to the age of a hundred you have it made because very few|people die past the age of a hundred.|-- George Burns","If you've done six impossible things before breakfast, why not round it|off with dinner at Milliway's, the restaurant at the end of the universe?|-- Douglas Adams, \"The Restaurant at the End of the Universe\"","In like a dimwit, out like a light.|-- Pogo","It is impossible to experience one's death objectively and still carry a tune.|-- Woody Allen",'It looked like something resembling white marble, which was|probably what it was: something resembling white marble.|-- Douglas Adams, "The Hitchhikers Guide to the Galaxy"',"It's a small world, but I wouldn't want to have to paint it.|-- Steven Wright","Last night the power went out.  Good thing my camera had a flash....|The neighbors thought it was lightning in my house, so they called the cops.|-- Steven Wright","Life is wasted on the living.|-- The Restaurant at the End of the Universe.","Now is the time for all good men to come to.|-- Walt Kelly",'"Right now I\'m having amnesia and deja vu at the same time."|-- Steven Wright',"Showing up is 80% of life.|-- Woody Allen","The best cure for insomnia is to get a  lot of sleep.|-- W. C. Fields","There comes a time in the affairs of a man when he has to take the bull|by the tail and face the situation.|-- W. C. Fields","There's so much plastic in this culture that vinyl leopard skin is|becoming an endangered synthetic.|-- Lily Tomlin","Things will get better despite our efforts to improve them.|-- Will Rogers","TOO BAD YOU CAN'T BUY a voodoo globe so that you could make the earth spin|real fast and freak everybody out.|-- Jack Handey, The New Mexican, 1988.","Twenty Percent of Zero is Better than Nothing.|-- Walt Kelly",'What if everything is an illusion and nothing exists?  In that case, I|definitely overpaid for my carpet.|-- Woody Allen, "Without Feathers"',"What is comedy?  Comedy is the art of making people laugh without making|them puke.|-- Steve Martin",'When I was crossing the border into Canada, they asked if|I had any firearms with me.  I said, "Well, what do you need?"|-- Steven Wright',"When I was little, I went into a pet shop and they asked how big I'd get.|-- Rodney Dangerfield",'When I woke up this morning, my girlfriend asked if I had slept well.|I said, "No, I made a few mistakes."|-- Steven Wright',"Where humor is concerned there are no standards -- no one can say what|is good or bad, although you can be sure that everyone will.|-- John Kenneth Galbraith","You can't have everything.  Where would you put it?|-- Steven Wright"];var education_fortunes=["A great many people think they are thinking when they are merely|rearranging their prejudices.|-- William James",'"A University without students is like an ointment without a fly."|-- Ed Nather, professor of astronomy at UT Austin',"Academic politics is the most vicious and bitter form of politics,|because the stakes are so low.|-- Wallace Sayre","An investment in knowledge always pays the best interest.|-- Benjamin Franklin","Any two philosophers can tell each other all they know in two hours.|-- Oliver Wendell Holmes, Jr.","British education is probably the best in the world, if you can survive|it.  If you can't there is nothing left for you but the diplomatic corps.|-- Peter Ustinov","Campus sidewalks never exist as the straightest line between two points.|-- M. M. Johnston","Education and religion are two things not regulated by supply and|demand.  The less of either the people have, the less they want.|-- Charlotte Observer, 1897","Education is learning what you didn't even know you didn't know.|-- Daniel J. Boorstin","Education is what survives when what has been learnt has been forgotten.|-- B. F. Skinner","Examinations are formidable even to the best prepared, for|even the greatest fool may ask more the the wisest man can answer.|-- C. C. Colton","Good teaching is one-fourth preparation and three-fourths good theatre.|-- Gail Godwin","He that teaches himself has a fool for a master.|-- Benjamin Franklin",'How do you explain school to a higher intelligence?|-- Elliot, "E.T."',"I am a bookaholic.  If you are a decent person, you will not sell me|another book.",'"I am not sure what this is, but an `F\' would only dignify it."|-- English Professor',"I came out of twelve years of college and I didn't even know how to sew.|All I could do was account -- I couldn't even account for myself.|-- Firesign Theatre","I heard a definition of an intellectual, that I thought was very interesting:|a man who takes more words than are necessary to tell more than he knows.|-- Dwight D. Eisenhower","I respect faith, but doubt is what gives you an education.|-- Wilson Mizner",'"I\'m returning this note to you, instead of your paper, because it (your paper)|presently occupies the bottom of my bird cage."|-- English Professor, Providence College',"If any man wishes to be humbled and mortified, let him become president|of Harvard.|-- Edward Holyoke","If little else, the brain is an educational toy.|-- Tom Robbins","If someone had told me I would be Pope one day, I would have studied harder.|-- Pope John Paul I","If truth is beauty, how come no one has their hair done in the library?|-- Lily Tomlin","If we spoke a different language, we would perceive a somewhat different world.|-- Wittgenstein","If you think education is expensive, try ignorance.|-- Derek Bok, president of Harvard","\"If you understand what you're doing, you're not learning anything.\"|-- A. L.","Ignorance is never out of style.  It was in fashion yesterday, it is the|rage today, and it will set the pace tomorrow.|-- Franklin K. Dane","Learning without thought is labor lost;|thought without learning is perilous.|-- Confucius","Maybe ain't ain't so correct, but I notice that lots of folks who ain't|using ain't ain't eatin' well.|-- Will Rogers",'My father, a good man, told me, "Never lose your ignorance; you cannot|replace it."|-- Erich Maria Remarque',"Never have so many understood so little about so much.|-- James Burke",'No discipline is ever requisite to force attendance upon lectures which are|really worth the attending.|-- Adam Smith, "The Wealth of Nations"',"Practice is the best of all instructors.|-- Publilius",'Reporter:   "How did you like school when you were growing up, Yogi?"|Yogi Berra: "Closed."',"Smartness runs in my family.  When I went to school I was so smart my|teacher was in my class for five years.|-- George Burns","Some scholars are like donkeys, they merely carry a lot of books.|-- Folk saying","The 'A' is for content, the 'minus' is for not typing it.  Don't ever do|this to my eyes again.|-- Professor Ronald Brady, Philosophy, Ramapo State College",'The average Ph.D thesis is nothing but the transference of bones from|one graveyard to another.|-- J. Frank Dobie, "A Texan in England"',"The future is a race between education and catastrophe.|-- H. G. Wells","The man who has never been flogged has never been taught.|-- Menander","The only thing that experience teaches us is that experience teaches us nothing.|-- Andre Maurois (Emile Herzog)","The real purpose of books is to trap the mind into doing its own thinking.|-- Christopher Morley",'The sunlights differ, but there is only one darkness.|-- Ursula K. LeGuin, "The Dispossessed"',"The test of a first-rate intelligence is the ability to hold two opposed|ideas in the mind at the same time and still retain the ability to function.|-- F. Scott Fitzgerald","There are no answers, only cross-references.|-- Weiner","Those who educate children well are more to be honored than parents, for|these only gave life, those the art of living well.|-- Aristotle","Time is a great teacher, but unfortunately it kills all its pupils.|-- Hector Berlioz",'To craunch a marmoset.|-- Pedro Carolino, "English as She is Spoke"',"To teach is to learn twice.|-- Joseph Joubert","Try not to have a good time ... This is supposed to be educational.|-- Charles Schulz","University politics are vicious precisely because the stakes are so small.|-- C. P. Snow","What does education often do?  It makes a straight cut ditch of a|free meandering brook.|-- Henry David Thoreau",'What passes for optimism is most often the effect of an intellectual error.|-- Raymond Aron, "The Opium of the Intellectuals"',"What we do not understand we do not possess.|-- Goethe","When I was in school, I cheated on my metaphysics exam: I looked into|the soul of the boy sitting next to me.|-- Woody Allen",'Whenever anyone says, "theoretically," they really mean, "not really."|-- Dave Parnas','"Whom are you?" said he, for he had been to night school.|-- George Ade',"You may have heard that a dean is to faculty as a hydrant is to a dog.|-- Alfred Kahn"];var data={art:art_fortunes,humor:humor_fortunes,education:education_fortunes};return data}},{}],17:[function(require,module,exports){"use strict";var ob_utils=require("utils/object_utils");var str_utils=require("utils/string_utils");var sprintf=require("utils/sprintf");var PosixGetOpt=require("utils/posix-getopt");var ProgramBase=require("programs/program_base");module.exports=ProgramGrep;function ProgramGrep(){this.name="ProgramGrep";this.program_name="grep";this.files=[];this.regex_type="basic";this.patterns=[];this.patterns_file=null;this.ignore_case=false;this.show_filenames=false;this.show_line_number=false;this.show_counts=false;this.quiet=false;this.ignore_non_readable_files=false;this.invert_match=false;this.match_entire_line=false;this.match_words=false;this.regex_type="BRE";this.match_found_exit_code=1}ProgramGrep.prototype=new ProgramBase;ProgramGrep.prototype.constructor=ProgramGrep;ProgramGrep.prototype.parse_command_line=function(){var parser=new PosixGetOpt(":E(extended-regexp)"+"F(fixed-strings)"+"G(basic-regexp)"+"P(perl-regexp)"+"e:(regexp)"+"f:(file)"+"i(ignore-case)"+"w(word-regexp)"+"x(line-regexp)"+"z(null-data)"+"s(no-messages)"+"v(invert-match)"+"V(version)"+"က(help)"+"m:(max-count)"+"b(byte-offset)"+"n(line-number)"+"ခ(line-buffered)"+"H(with-filename)"+"h(no-filename)"+"ဂ:(label)"+"o(only-matching)"+"q(quiet)"+"ဃ(silent)"+"င(binary-files)"+"a(text)"+"I"+"d:(directories)"+"D:(devices)"+"r(recursive)"+"R(dereference-recursive)"+"တ:(include)"+"ထ:(exclude)"+"ဒ:(exclude-from)"+"ဓ:(exclude-dir)"+"L(files-without-match)"+"l(files-with-matches)"+"c(count)"+"T(initial-tab)"+"Z(null)"+"B:(before-context)"+"A:(after-context)"+"C:(context)"+"ဠ:(color)"+"U(binary)"+"u(unix-byte-offets)",this.argv);var option;while((option=parser.getopt())!==undefined){switch(option.option){case"E":this.regex_type="ERE";break;case"F":this.regex_type="FIXED";break;case"G":this.regex_type="BRE";break;case"P":this.regex_type="PERL";break;case"e":this.patterns.push(option.optarg);break;case"f":this.pattern_file=option.optarg;break;case"w":this.match_words=true;break;case"x":this.match_entire_line=true;break;case"s":this.ignore_non_readable_files=true;break;case"v":this.invert_match=true;break;case"i":this.ignore_case=true;break;case"l":this.show_filenames=true;break;case"n":this.show_line_number=true;break;case"c":this.show_counts=true;break;case"q":case"ဃ":this.quiet=true;break;case"က":this.show_help();this.exit(0);case"V":this.show_version();this.exit(0);case"z":case"m":case"b":case"ခ":case"H":case"h":case"ဂ":case"o":case"င":case"a":case"I":case"d":case"D":case"r":case"R":case"တ":case"ထ":case"ဒ":case"ဓ":case"L":case"T":case"Z":case"B":case"A":case"C":case"ဠ":case"u":case"U":this.error_not_implemented_feature("Advanged GREP options","not supported by this Emulation");default:this.error_invalid_argument(option.errmsg)}}var args=this.argv.slice(parser.optind());if(this.patterns.length===0&&!this.pattern_file){if(args.length===0)this.error_invalid_argument("Usage: grep [OPTION]... PATTERN [FILE]...");this.patterns.push(args.shift())}if(this.pattern_file)this.error_not_implemented_feature("Loading PATTERNs from file (-f/--file=FILE) is not implemented yet","");if(this.regex_type==="BRE")this.patterns=this.patterns.map(str_utils.regex_BRE_to_JS);else if(this.regex_type==="ERE")this.patterns=this.patterns.map(str_utils.regex_ERE_to_JS);else if(this.regex_type!=="FIXED")this.error_not_implemented_feature("Perl Regex Patterns","");var modifiers=this.ignore_case?"i":"";if(this.match_words)this.patterns=this.patterns.map(function(x){return"\\b"+x+"\\b"});if(this.match_entire_line)this.patterns=this.patterns.map(function(x){return"^"+x+"$"});this.patterns=this.patterns.map(function(x){return new RegExp(x,modifiers)});if(args.length===0)args.push("-");this.files=args};ProgramGrep.prototype.grep_content=function(filename,content){if(filename==="-")filename="(standard input)";if(this.quiet&&this.match_found_exit_code==0)return;var match_count=0;next_line:for(var i in content){var line=content[i];for(var p in this.patterns){var pattern=this.patterns[p];var line_match;if(this.regex_type==="FIXED")line_match=line.indexOf(pattern)!=-1;else line_match=pattern.test(line);if(this.invert_match)line_match=!line_match;if(!line_match)continue;this.match_found_exit_code=0;if(this.quiet){return}if(this.show_filenames){this.runtime.stdout.put_line(filename);return}if(this.show_counts){match_count++;continue next_line}if(this.show_line_number){this.runtime.stdout.put_line((1+parseInt(i,10)).toString()+":"+line);continue next_line}this.runtime.stdout.put_line(line);continue next_line}}if(this.show_counts){if(this.files.length===1){this.runtime.stdout.put_line(match_count.toString())}else{this.runtime.stdout.put_line(filename+":"+match_count.toString())}}};ProgramGrep.prototype.internal_run=function(){this.parse_command_line();this.process_files(this.files,this.grep_content);return this.match_found_exit_code}},{"programs/program_base":23,"utils/object_utils":37,"utils/posix-getopt":39,"utils/sprintf":41,"utils/string_utils":43}],18:[function(require,module,exports){"use strict";var ob_utils=require("utils/object_utils");var sprintf=require("utils/sprintf");var PosixGetOpt=require("utils/posix-getopt");var ProgramBase=require("programs/program_base");var Filesystem=require("os/filesystem");module.exports=ProgramHead;function ProgramHead(){this.name="ProgramHead";this.program_name="head";this.verbose=false;this.quiet=false;this.lines="10";this.bytes=null;this.files=[]}ProgramHead.prototype=new ProgramBase;ProgramHead.prototype.constructor=ProgramHead;ProgramHead.prototype.parse_command_line=function(){var parser=new PosixGetOpt(":1234567890c:(bytes)n:(lines)q(quiet)v(verbose)ဂ(silent)က(help)ခ(version)",this.argv);var option;while((option=parser.getopt())!==undefined){switch(option.option){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":this.lines=parseInt(option.option,10);break;case"c":this.bytes=option.optarg;break;case"n":this.lines=option.optarg;break;case"q":this.quiet=true;break;case"v":this.verbose=true;break;case"ဂ":this.quiet=true;break;case"က":this.show_help();this.exit(0);case"ခ":this.show_version();this.exit(0);default:this.error_invalid_argument(option.errmsg)}}var args=this.argv.slice(parser.optind());if(args.length===0)args.push("-");this.files=args;if(args.length>1&&!this.quiet&&!this.verbose)this.verbose=true;if(this.bytes)this.error_not_implemented_feature("-c/--bytes","head with bytes is not implemented");var multiplier=1;if(/b$/.test(this.lines))multiplier=512;if(/kB$/.test(this.lines))multiplier=1e3;if(/K$/.test(this.lines))multiplier=1024;if(/MB$/.test(this.lines))multiplier=1e3*1e3;if(/M$/.test(this.lines))multiplier=1024*1024;if(/GB$/.test(this.lines))multiplier=1e3*1e3*1e3;if(/G$/.test(this.lines))multiplier=1024*1024*1024;this.lines=this.lines.replace(/(b|kB|K|MB|M|GB|G)$/,"");if(!ob_utils.IsStrictDecimalIntegerValue(this.lines))this.error_invalid_argument(this.lines+": invalid number of lines");this.lines=parseInt(this.lines)*multiplier};ProgramHead.prototype.head_content=function(filename,content){if(this.verbose){if(filename==="-")filename="standard input";this.runtime.stdout.put_line("==> "+filename+" <==")}if(content.length===0)return;if(this.lines>0){content=content.slice(0,this.lines)}else{if(content.length<-this.lines)return;content=content.slice(0,content.length+this.lines)}this.runtime.stdout.put_lines(content)};ProgramHead.prototype.internal_run=function(){this.parse_command_line();this.process_files(this.files,this.head_content);return 0}},{"os/filesystem":2,"programs/program_base":23,"utils/object_utils":37,"utils/posix-getopt":39,"utils/sprintf":41}],19:[function(require,module,exports){"use strict";var ProgramBase=require("programs/program_base");module.exports=ProgramICat;function ProgramICat(){this.name="ProgramICat";this.program_name="icat"}ProgramICat.prototype=new ProgramBase;ProgramICat.prototype.constructor=ProgramICat;ProgramICat.prototype.internal_run=function(){if(this.argv.length>0)this.runtime.stdout.put_line(this.argv.join(" "));$(".terminal-output").append("<img src="+this.argv+">");return 0}},{"programs/program_base":23}],20:[function(require,module,exports){"use strict";var ob_utils=require("utils/object_utils");var path_utils=require("utils/path_utils");var sprintf=require("utils/sprintf");var strftime=require("utils/strftime");var PosixGetOpt=require("utils/posix-getopt");var ProgramBase=require("programs/program_base");var Filesystem=require("os/filesystem");module.exports=ProgramLS;function ProgramLS(){this.name="ProgramLS";this.program_name="ls";this.files=[];this.opt_all=false;this.opt_almost_all=false;this.opt_directory=false;this.opt_g_no_owner=false;this.opt_human_readable=false;this.opt_long=false;this.opt_o_no_group=false;this.opt_reverse=false;this.show_time="mtime";this.sort_by="name";this.multiple_items=false;this.files=[];this.directories=[];this.collected_files=[]}ProgramLS.prototype=new ProgramBase;ProgramLS.prototype.constructor=ProgramLS;ProgramLS.prototype.parse_command_line=function(){var parser=new PosixGetOpt("a(all)A(almost-all)"+"c"+"d(directory)"+"gG"+"h(human-readable)"+"l"+"o"+"r(reverse)"+"S"+"t"+"u"+"U"+"1Cxw:(width)"+"က(help)ခ(version)",this.argv);var option;while((option=parser.getopt())!==undefined){switch(option.option){case"a":this.opt_all=true;break;case"A":this.opt_almost_all=true;break;case"c":this.sort_by="ctime";this.show_time="ctime";break;case"d":this.opt_directory=true;break;case"G":this.opt_g_no_owner=true;break;case"g":this.opt_g_no_owner=true;this.opt_long=true;break;case"h":this.opt_human_readable=true;break;case"l":this.opt_long=true;break;case"o":this.opt_o_no_group=true;this.opt_long=true;break;case"r":this.opt_reverse=true;break;case"S":this.sort_by="size";break;case"t":this.sort_by="mtime";break;case"u":this.sort_by="atime";break;case"U":this.sort_by="none";break;case"1":case"x":case"C":case"w":break;case"က":this.show_help();this.exit(0);case"ခ":this.show_version();this.exit(0);default:this.runtime.stderr.put_line("Agnostic Emulation Note: GNU ls supports many more options (invalid options here might be valid in GNU ls)");this.error_invalid_argument(option.errmsg)}}var args=this.argv.slice(parser.optind());if(args.length===0)args.push(".");this.files=args;this.multiple_items=this.files>1};ProgramLS.prototype.ls_directory=function(directory){var entries=this.runtime.getFS().readdir(directory);this.collected_files=[];for(var i in entries){var filename=entries[i];var abs_path=directory+"/"+filename;var f;if(this.runtime.getFS().is_directory(abs_path)){if(this.opt_directory)this.directories.push(abs_path);f=this.runtime.getFS().opendir(abs_path)}else{f=this.runtime.getFS().openfile(abs_path)}var s=f.stat();s.filename=filename;this.collected_files.push(s)}if(this.multiple_items)this.runtime.stdout.put_line(directory+":");if(this.opt_long)this.runtime.stdout.put_line("total: 0");this.print_collected_files()};ProgramLS.prototype.print_collected_files=function(){var fls=this.collected_files;switch(this.sort_by){case"size":fls.sort(function(a,b){a.size-b.size});break;case"mtime":fls.sort(function(a,b){a.mtime-b.mtime});break;case"ctime":fls.sort(function(a,b){a.cmtime-b.ctime});break;case"atime":fls.sort(function(a,b){a.amtime-b.atime});break;case"name":fls.sort(function(a,b){a.filename<b.filename?-1:a.filename>b.filename?1:0});break;case"none":break}if(!this.opt_long){for(var i in fls)this.runtime.stdout.put_line(fls[i].filename);return}var six_months_ago=this.runtime.getOS().time()-6*30*24*60*60;var size_width=0;for(var i in fls){var st=fls[i];var size_str=st.size;if(size_str.toString().length>size_width)size_width=size_str.toString().length}var size_format="%"+size_width+"s";for(var i in fls){var st=fls[i];var show_date=st[this.show_time];var type_str=path_utils.filetype_to_string(st.object_type);var mode_str=path_utils.filemode_to_string(st.mode);var owner_str="user";var group_str="group";var num_links=1;var size_str=sprintf.sprintf(size_format,st.size);var date_format=show_date>six_months_ago?"%b %e %H:%M":"%b %e %Y";var date_str=strftime(date_format,new Date(show_date*1e3));var filename_str=st.filename;var line=type_str+mode_str+" "+num_links.toString()+" ";if(!this.opt_g_no_owner)line+=owner_str+" ";if(!this.opt_o_no_group)line+=group_str+" ";line+=size_str+" "+date_str+" "+filename_str;this.runtime.stdout.put_line(line)}};ProgramLS.prototype.internal_run=function(){this.parse_command_line();for(var i in this.files){var filename=this.files[i];filename=path_utils.resolve(this.runtime.getcwd(),filename);if(!this.runtime.getFS().path_exists(filename)){this.exit_error("cannot access "+filename+": no such file or directory")}if(this.runtime.getFS().is_directory(filename)){this.directories.push(filename)}else{var f=this.runtime.getFS().openfile(filename);var s=f.stat();s.filename=filename;this.collected_files.push(s)}}this.print_collected_files();while(this.directories.length>0){var directory=this.directories.shift();this.ls_directory(directory)}return 0}},{"os/filesystem":2,"programs/program_base":23,"utils/object_utils":37,"utils/path_utils":38,"utils/posix-getopt":39,"utils/sprintf":41,"utils/strftime":42}],21:[function(require,module,exports){"use strict";var ob_utils=require("utils/object_utils");var path_utils=require("utils/path_utils");var sprintf=require("utils/sprintf");var PosixGetOpt=require("utils/posix-getopt");var ProgramBase=require("programs/program_base");var Filesystem=require("os/filesystem");module.exports=ProgramPaste;function ProgramPaste(){this.name="ProgramPaste";this.program_name="paste";this.files=[];this.delimiters=[];this.serial=false}ProgramPaste.prototype=new ProgramBase;ProgramPaste.prototype.constructor=ProgramPaste;ProgramPaste.prototype.parse_command_line=function(){var parser=new PosixGetOpt("d:(delimiters)"+"s(serial)"+"က(help)"+"ခ(version)",this.argv);var option;while((option=parser.getopt())!==undefined){switch(option.option){case"d":this.delimiters=option.optarg.split("");break;case"s":this.serial=true;break;case"က":this.show_help();this.exit(0);case"ခ":this.show_version();this.exit(0);default:this.error_invalid_argument(option.errmsg)}}if(this.delimiters.length===0)this.delimiters=["\t"];var args=this.argv.slice(parser.optind());if(args.length===0)args.push("-");this.files=args};ProgramPaste.prototype.paste_serial_content=function(filename,content){var output_line="";var delimiter_index=0;var delimiter_max=this.delimiters.length-1;for(var i in content){if(output_line.length>0){output_line+=this.delimiters[delimiter_index++];if(delimiter_index>delimiter_max)delimiter_index=0}output_line+=content[i]}this.runtime.stdout.put_line(output_line)};ProgramPaste.prototype.paste_parallel_content=function(filename,content){var stdin_content=[];var stdin_read=false;var files_content=[];var input_count=0;for(var idx in this.files){var filename=this.files[idx];if(filename==="-"){if(!stdin_read){stdin_read=true;stdin_content=this.runtime.stdin.get_all_lines();if(stdin_content.length>0)input_count++}}else{var fl={};try{filename=path_utils.resolve(this.runtime.getcwd(),filename);fl=this.runtime.getFS().openfile(filename,false);files_content[idx]=fl.get_all_lines();if(files_content[idx].length>0)input_count++}catch(e){if(e instanceof this.runtime.getFS().exception){this.exit_error(e.toString())}else{throw e}}}}var delimiter_max=this.delimiters.length-1;while(input_count>0){var first_field=true;var delimiter_index=0;var output_line="";for(var idx in this.files){var field_content="";var content_stream;var filename=this.files[idx];if(filename==="-")content_stream=stdin_content;else content_stream=files_content[idx];if(content_stream.length>0){field_content=content_stream.shift();if(content_stream.length===0)input_count--}if(!first_field){output_line+=this.delimiters[delimiter_index++];if(delimiter_index>delimiter_max)delimiter_index=0}first_field=false;output_line+=field_content}this.runtime.stdout.put_line(output_line)}};ProgramPaste.prototype.internal_run=function(){this.parse_command_line();if(this.serial){this.process_files(this.files,this.paste_serial_content)}else{this.paste_parallel_content()}return 0}},{"os/filesystem":2,"programs/program_base":23,"utils/object_utils":37,"utils/path_utils":38,"utils/posix-getopt":39,"utils/sprintf":41}],22:[function(require,module,exports){"use strict";var sprintf=require("utils/sprintf");var str_utils=require("utils/string_utils");var ProgramBase=require("programs/program_base");module.exports=ProgramPrintf;function ProgramPrintf(){this.name="ProgramPrintf";this.program_name="printf"}ProgramPrintf.prototype=new ProgramBase;ProgramPrintf.prototype.constructor=ProgramPrintf;ProgramPrintf.prototype.internal_run=function(){if(this.argv.length===0)this.error_invalid_argument("missing operand");if(this.argv[0]==="--help"){this.show_help();this.exit(0)}if(this.argv[0]=="--version"){this.show_version();this.exit(0)}var input_args=this.argv;var output_text="";var format_string=this.argv.shift();var expected_args=sprintf.sprintf_format_get_default_values(format_string);if(expected_args.length===0){output_text=sprintf.sprintf(format_string)}else{do{var temp_args=input_args.splice(0,expected_args.length);if(temp_args.length<expected_args.length){var default_values=expected_args.slice(temp_args.length);temp_args=temp_args.concat(default_values)}var result=sprintf.vsprintf(format_string,temp_args);output_text+=result}while(input_args.length>0)}output_text=str_utils.unbackslash(output_text);output_text=output_text.replace(/\n$/,"");this.runtime.stdout.put_lines(output_text.split("\n"));return 0}},{"programs/program_base":23,"utils/sprintf":41,"utils/string_utils":43}],23:[function(require,module,exports){"use strict";var ob_utils=require("utils/object_utils");var path_utils=require("utils/path_utils");var ProcessState=require("os/process_state");module.exports=ProgramBase;function ProgramBase(){this.name="ProgramBase";this.program_name="(base)";this.runtime={};this.argv=[];this.argv0=""}ProgramBase.prototype.run=function(process_state,argv){if(!(process_state instanceof ProcessState))throw new TypeError("run() called with wrong parameter (1st param is not ProcessState)");if(process_state.stderr===null)throw new TypeError("run() called with process_stae.stderr==null");if(process_state.stdout===null)throw new TypeError("run() called with process_stae.stdout==null");if(process_state.stdin===null)throw new Typerror("run() called with process_stae.stdin==null");if(!ob_utils.IsArray(argv))throw new TypeError("run() called with wrong parameter (2nd param is not array of command-line parameters)");if(argv.length===0)throw new TypeError("run() called with empty argv");argv.forEach(ob_utils.VerifyString);this.argv0=argv.shift();this.argv=argv;this.runtime=process_state;var exit_code=1;this.runtime.last_exit_code=exit_code;try{exit_code=this.internal_run()}catch(err){if(err instanceof ProgramExitSuccess){exit_code=0}else if(err instanceof ProgramExitFailure){if(err["message"])this.runtime.stderr.put_line(err.message);exit_code=err.exit_code}else{throw err}}this.runtime.last_exit_code=exit_code;return exit_code};ProgramBase.prototype.show_try_help=function(){this.runtime.stderr.put_line("Try '"+this.program_name+" --help' for more information.")};ProgramBase.prototype.process_files=function(files,callback){var content;var filename;for(var i in files){filename=files[i];if(filename==="-"){content=this.runtime.stdin.get_all_lines()}else{var fl={};try{filename=path_utils.resolve(this.runtime.getcwd(),filename);fl=this.runtime.getFS().openfile(filename,false);content=fl.get_all_lines()}catch(e){if(e instanceof this.runtime.getFS().exception){this.exit_error(e.toString())}else{throw e}}}callback.call(this,filename,content)}};ProgramBase.prototype.show_version=function(){var version=[this.program_name+" (Agnostic Emulation) "+this.runtime.getOS().uname().release,"Copyright (C) 2014 Assaf Gordon (assafgordon@gmail.com)","License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>.","This is free software: you are free to change and redistribute it.","There is NO WARRANTY, to the extent permitted by law.","","Written by Assaf Gordon."];this.runtime.stdout.put_lines(version)};ProgramBase.prototype.show_help=function(){var generic_help=[this.program_name+" (Agnostic Emulation) "+this.runtime.getOS().uname().release,"Help screen is missing. Please report this bug."];this.runtime.stdout.put_lines(generic_help)};ProgramBase.prototype.error_invalid_argument=function(msg){ob_utils.VerifyString(msg);this.runtime.stderr.put_line(this.program_name+": "+msg);this.show_try_help();throw new ProgramExitFailure(1)};ProgramBase.prototype.exit_error=function(msg){this.runtime.stderr.put_line(this.program_name+": "+msg);throw new ProgramExitFailure(1)};ProgramBase.prototype.exit=function(exit_code){if(exit_code===0)throw new ProgramExitSuccess;throw new ProgramExitFailure(exit_code)};ProgramBase.prototype.error_not_implemented_feature=function(feature,msg){ob_utils.VerifyString(feature);ob_utils.VerifyString(msg);throw new ProgramFeatureNotImplemented(this.program_name,feature,msg)};ProgramBase.prototype.internal_run=function(){console.log("ProgramBase.internal_Run...");throw new ProgramExitFailure(1,"Not implemented")};function ProgramExitSuccess(){this.name="ProgramExitSuccess"}ProgramExitSuccess.prototype=new Error;ProgramExitSuccess.prototype.constructor=ProgramExitSuccess;function ProgramExitFailure(ExitCode,message){this.name="ProgramExitFailure";this.exit_code=ExitCode;this.message=message}ProgramExitFailure.prototype=new Error;ProgramExitFailure.prototype.constructor=ProgramExitFailure;function ProgramExecutionError(message){this.name="ProgramExecutionError";this.message=message}ProgramExecutionError.prototype=new Error;ProgramExecutionError.prototype.constructor=ProgramExecutionError;function ProgramFeatureNotImplemented(progname,feature,message){this.name="ProgramFeatureNotImplemented";this.progname=progname;this.feature=feature;this.message=message}ProgramFeatureNotImplemented.prototype=new Error;ProgramFeatureNotImplemented.prototype.constructor=ProgramFeatureNotImplemented},{"os/process_state":4,"utils/object_utils":37,"utils/path_utils":38}],24:[function(require,module,exports){"use strict";var sprintf=require("utils/sprintf");var ob_utils=require("utils/object_utils");var PosixGetOpt=require("utils/posix-getopt");var ProgramBase=require("programs/program_base");module.exports=ProgramSeq;function ProgramSeq(){this.name="ProgramSeq";this.program_name="seq";this.first=1;this.last=null;this.increment=1;this.format="%f";this.separator="\n";this.equal_width=false}ProgramSeq.prototype=new ProgramBase;ProgramSeq.prototype.constructor=ProgramSeq;ProgramSeq.prototype.parse_command_line=function(){var parser=new PosixGetOpt(":f:(format)s:(separator)w(equal-width)က(help)ခ(version)",this.argv);var option;while((option=parser.getopt())!==undefined){switch(option.option){case"f":this.format=option.optarg;break;case"s":this.separator=option.optarg;break;case"w":this.equal_width=true;break;case"က":this.show_help();this.exit(0);case"ခ":this.show_version();this.exit(0);default:this.error_invalid_argument(option.errmsg)}}var extra_params=this.argv.length-parser.optind();switch(extra_params){case 0:this.error_invalid_argument("missing operand");case 1:this.last=this.argv[parser.optind()];break;case 2:this.first=this.argv[parser.optind()];this.last=this.argv[parser.optind()+1];break;case 3:this.first=this.argv[parser.optind()];this.increment=this.argv[parser.optind()+1];this.last=this.argv[parser.optind()+2];break;default:this.error_invalid_argument("extra operand: '"+this.argv[parser.optind()+3]+"'")}var tmp=[this.first,this.increment,this.last];for(var i in tmp){var value=tmp[i];if(!ob_utils.IsStrictFloatValue(value))this.error_invalid_argument("invalid floating point argument: "+tmp[i])}this.first=parseFloat(this.first);this.increment=parseFloat(this.increment);this.last=parseFloat(this.last);if(this.equal_width&&this.format!=="%f")this.error_invalid_argument(" format string may not be specified when printing equal width strings");if(this.equal_width){var max=Math.max(this.first,this.last);var digits=Math.round(Math.log(max)/Math.log(10))+1;this.format="%0"+digits+"f"}};ProgramSeq.prototype.internal_run=function(){this.parse_command_line();if(this.separator==="\n"){for(var i=this.first;this.increment>=0&&i<=this.last||this.increment<0&&i>=this.last;i=i+this.increment){var value=sprintf.sprintf(this.format,i);this.runtime.stdout.put_line(value)}}else{var result=[];for(var i=this.first;this.increment>=0&&i<=this.last||this.increment<0&&i>=this.last;i=i+this.increment){var value=sprintf.sprintf(this.format,i);result.push(value)}this.runtime.stdout.put_line(result.join(this.separator))}return 0}},{"programs/program_base":23,"utils/object_utils":37,"utils/posix-getopt":39,"utils/sprintf":41}],25:[function(require,module,exports){"use strict";var sprintf=require("utils/sprintf");var PosixGetOpt=require("utils/posix-getopt");var ProgramBase=require("programs/program_base");var Filesystem=require("os/filesystem");var ShellExecutor=require("shell/shell_executor2");var posix_shell_parser=require("shell/posix_shell_parser.js");module.exports=ProgramShell;function ProgramShell(){this.name="ProgramShell";this.program_name="sh";this.command_or_script="";this.external_programs={}}ProgramShell.prototype=new ProgramBase;ProgramShell.prototype.constructor=ProgramShell;ProgramShell.prototype.add_external_program=function(progname,prog_function){this.external_programs[progname]=prog_function};ProgramShell.prototype.parse_command_line=function(){if(this.argv.length<2)this.error_invalid_argument("missing arguments (expecting -c CMD)");if(this.argv[0]!=="-c")this.error_invalid_argument("invalid 1st argument, expecting -c");this.command_or_script=this.argv[1];if(this.argv.length>2)this.error_invalid_argument("too many arguments (expecting -c CMD)")};ProgramShell.prototype.internal_run=function(){var exit_code=0;this.parse_command_line();try{var shell_parse_tree=posix_shell_parser.parse(this.command_or_script);var exec=new ShellExecutor(this.runtime,this.external_programs);exit_code=exec.ExecuteCommand(shell_parse_tree)}catch(e){if(e instanceof posix_shell_parser.SyntaxError){this.exit_error("Syntax Error: "+e.message)}else{throw e}}return exit_code}},{"os/filesystem":2,"programs/program_base":23,"shell/posix_shell_parser.js":31,"shell/shell_executor2":34,"utils/posix-getopt":39,"utils/sprintf":41}],26:[function(require,module,exports){"use strict";var PosixGetOpt=require("utils/posix-getopt");var ProgramBase=require("programs/program_base");var Filesystem=require("os/filesystem");module.exports=ProgramTac;function ProgramTac(){this.name="ProgramTac";this.program_name="tac";this.files=[]}ProgramTac.prototype=new ProgramBase;ProgramTac.prototype.constructor=ProgramTac;ProgramTac.prototype.parse_command_line=function(){var parser=new PosixGetOpt(":b(before)r(regex)s:(separator)က(help)ခ(version)",this.argv);var option;while((option=parser.getopt())!==undefined){switch(option.option){case"b":this.error_not_implemented_feature("-b/--before","not implemented in Agnostic");break;case"r":this.error_not_implemented_feature("-r/--regex","not implemented in Agnostic");break;case"s":this.error_not_implemented_feature("-s/--separator","not implemented in Agnostic");break;case"က":this.show_help();this.exit(0);case"ခ":this.show_version();this.exit(0);default:this.error_invalid_argument(option.errmsg)}}var args=this.argv.slice(parser.optind());if(args.length===0)args.push("-");this.files=args};ProgramTac.prototype.tac_content=function(files,content){if(content.length===0)return;content.reverse();this.runtime.stdout.put_lines(content)};ProgramTac.prototype.internal_run=function(){this.parse_command_line();this.process_files(this.files,this.tac_content);return 0}},{"os/filesystem":2,"programs/program_base":23,"utils/posix-getopt":39}],27:[function(require,module,exports){"use strict";var ob_utils=require("utils/object_utils");var sprintf=require("utils/sprintf");var PosixGetOpt=require("utils/posix-getopt");var ProgramBase=require("programs/program_base");var Filesystem=require("os/filesystem");module.exports=ProgramTail;function ProgramTail(){this.name="ProgramTail";this.program_name="tail";this.verbose=false;this.quiet=false;this.lines="10";this.files=[]}ProgramTail.prototype=new ProgramBase;ProgramTail.prototype.constructor=ProgramTail;ProgramTail.prototype.parse_command_line=function(){var parser=new PosixGetOpt(":1234567890c:(bytes)n:(lines)q(quiet)v(verbose)ဂ(silent)က(help)ခ(version)f:(follow)Fဃ:(pid)င(retry)s:(sleep-interval)စ:(max-unchanged-stats)",this.argv);var option;while((option=parser.getopt())!==undefined){switch(option.option){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":this.lines=parseInt(option.option,10);break;case"c":this.error_not_implemented_feature("-c/--bytes","tail with bytes is not implemented");break;case"n":this.lines=option.optarg;break;case"q":this.quiet=true;break;case"v":this.verbose=true;break;case"ဂ":this.quiet=true;break;case"က":this.show_help();this.exit(0);case"ခ":this.show_version();this.exit(0);case"f":this.error_not_implemented_feature("-f/--follow","tail -f  is not implemented");case"F":this.error_not_implemented_feature("-F","tail -F  is not implemented");case"ဃ":this.error_not_implemented_feature("--pid","tail --pid  is not implemented");case"s":this.error_not_implemented_feature("-s/--sleep-interval","tail --sleep-interval  is not implemented");case"င":this.error_not_implemented_feature("--retry","tail --retry is not implemented");case"စ":this.error_not_implemented_feature("--max-unchanged-stats","tail --max-unchanged-stats is not implemented");default:this.error_invalid_argument(option.errmsg)}}var args=this.argv.slice(parser.optind());if(args.length===0)args.push("-");this.files=args;if(args.length>1&&!this.quiet&&!this.verbose)this.verbose=true;var multiplier=1;if(/b$/.test(this.lines))multiplier=512;if(/kB$/.test(this.lines))multiplier=1e3;if(/K$/.test(this.lines))multiplier=1024;if(/MB$/.test(this.lines))multiplier=1e3*1e3;if(/M$/.test(this.lines))multiplier=1024*1024;if(/GB$/.test(this.lines))multiplier=1e3*1e3*1e3;if(/G$/.test(this.lines))multiplier=1024*1024*1024;this.lines=this.lines.replace(/(b|kB|K|MB|M|GB|G)$/,"");var relative_to=-1;if(/^[ \t]*\+/.test(this.lines))relative_to=1;this.lines=this.lines.replace(/^[ \t]*[\-\+]/,"");if(!ob_utils.IsStrictDecimalIntegerValue(this.lines))this.error_invalid_argument(this.lines+": invalid number of lines");this.lines=parseInt(this.lines)*multiplier*relative_to};ProgramTail.prototype.tail_content=function(filename,content){if(this.verbose){if(filename==="-")filename="standard input";this.runtime.stdout.put_line("==> "+filename+" <==")}if(content.length===0)return;if(this.lines>0){if(content.length<this.lines)return;content=content.slice(this.lines-1)}else{content=content.slice(this.lines)}this.runtime.stdout.put_lines(content)};ProgramTail.prototype.internal_run=function(){this.parse_command_line();this.process_files(this.files,this.tail_content);return 0}},{"os/filesystem":2,"programs/program_base":23,"utils/object_utils":37,"utils/posix-getopt":39,"utils/sprintf":41}],28:[function(require,module,exports){"use strict";var ob_utils=require("utils/object_utils");var sprintf=require("utils/sprintf");var PosixGetOpt=require("utils/posix-getopt");var ProgramBase=require("programs/program_base");var Filesystem=require("os/filesystem");var path_utils=require("utils/path_utils");module.exports=ProgramTest;function ProgramTest(){this.name="ProgramTest";this.program_name="test"}ProgramTest.prototype=new ProgramBase;ProgramTest.prototype.constructor=ProgramTest;ProgramTest.prototype.primary_type=function(op){switch(op){case"-b":case"-c":case"-d":case"-e":case"-f":case"-g":case"-h":case"-L":case"-n":case"-p":case"-r":case"-S":case"-s":case"-t":case"-u":case"-w":case"-x":case"-z":return 1;case"=":case"!=":case"-eq":case"-ne":case"-gt":case"-ge":case"-lt":case"-le":return 2;default:return 0}};ProgramTest.prototype.unary_op=function(op,param){switch(op){case"-b":case"-c":case"-g":case"-h":case"-L":case"-p":case"-S":case"-t":case"-u":return false;case"-d":var filename=path_utils.resolve(this.runtime.getcwd(),param);return this.runtime.getFS().is_directory(filename);case"-e":var filename=path_utils.resolve(this.runtime.getcwd(),param);return this.runtime.getFS().path_exists(filename);case"-f":var filename=path_utils.resolve(this.runtime.getcwd(),param);return this.runtime.getFS().is_file(filename);case"-n":return param.length>0;case"-r":case"-w":var filename=path_utils.resolve(this.runtime.getcwd(),param);if(this.runtime.getFS().path_exists(filename))return true;return false;case"-s":try{var filename=path_utils.resolve(this.runtime.getcwd(),param);var fl=this.runtime.getFS().openfile(filename,false);var st=fl.stat();return st.size>0}catch(e){return false}case"-x":return false;case"-z":return param.length==0;default:this.exit_error("invalid unary operator '"+op+'"')}};ProgramTest.prototype.binary_op=function(param1,op,param2){switch(op){case"=":return param1.toString()===param2.toString();case"!=":return param1.toString()!==param2.toString();case"-eq":case"-ne":case"-gt":case"-ge":case"-lt":case"-le":if(!ob_utils.IsStrictDecimalIntegerValue(param1))this.exit_error("operator '"+op+"': integer expression expected, got '"+param1+"'");if(!ob_utils.IsStrictDecimalIntegerValue(param2))this.exit_error("operator '"+op+"': integer expression expected, got '"+param2+"'");var num1=parseInt(param1);var num2=parseInt(param2);switch(op){case"-eq":return num1===num2;case"-ne":return num1!==num2;case"-gt":return num1>num2;case"-ge":return num1>=num2;case"-lt":return num1<num2;case"-le":return num1<=num2}break;default:this.exit_error("invalid binary operator '"+op+'"')}};ProgramTest.prototype.internal_run=function(){if(this.argv.length===0)return 1;if(this.argv.length===1){var text=this.argv[0];return text.length>0?0:1}if(this.argv.length===2){var op1=this.argv[0];var op2=this.argv[1];if(op1==="!")return op2.length>0?1:0;if(this.primary_type(op1)===1)return this.unary_op(op1,op2)?0:1;this.error_invalid_argument("invalid test operator")}if(this.argv.length===3){var op1=this.argv[0];var op2=this.argv[1];var op3=this.argv[2];if(this.primary_type(op2)===2)return this.binary_op(op1,op2,op3)?0:1;if(op1==="!"&&this.primary_type(op2)===1)return this.unary_op(op2,op3)?1:0;this.error_invalid_argument("invalid test operator")}if(this.argv.length===4){var op1=this.argv[0];var op2=this.argv[1];var op3=this.argv[2];var op4=this.argv[3];if(op1==="!"&&this.primary_type(op3)===2)return this.binary_op(op2,op3,op4)?1:0;this.error_invalid_argument("invalid test operator")}return 1}},{"os/filesystem":2,"programs/program_base":23,"utils/object_utils":37,"utils/path_utils":38,"utils/posix-getopt":39,"utils/sprintf":41}],29:[function(require,module,exports){"use strict";var ProgramBase=require("programs/program_base");module.exports=ProgramTrue;function ProgramTrue(){this.name="ProgramTrue";this.program_name="true"}ProgramTrue.prototype=new ProgramBase;ProgramTrue.prototype.constructor=ProgramTrue;ProgramTrue.prototype.internal_run=function(){if(this.argv[0]==="--help"){this.show_help();this.exit(0)}if(this.argv[0]=="--version"){this.show_version();this.exit(0)}return 0}},{"programs/program_base":23}],30:[function(require,module,exports){"use strict";var sprintf=require("utils/sprintf");var str_utils=require("utils/string_utils");var PosixGetOpt=require("utils/posix-getopt");var ProgramBase=require("programs/program_base");var Filesystem=require("os/filesystem");module.exports=ProgramWc;function ProgramWc(){this.name="ProgramWc";this.program_name="wc";this.files=[];this.count_lines=false;this.count_bytes=false;this.count_chars=false;this.count_words=false;this.count_max_line_length=false;this.show_file_names=false;this.show_totals=false;this.total_lines=0;this.total_bytes=0;this.total_chars=0;this.total_words=0;this.global_max_line_length=0}ProgramWc.prototype=new ProgramBase;ProgramWc.prototype.constructor=ProgramWc;ProgramWc.prototype.parse_command_line=function(){var parser=new PosixGetOpt(":c(bytes)m(chars)l(lines)L(max-line-length)w(words)ဂ:(files0-from)က(help)ခ(version)",this.argv);var option;while((option=parser.getopt())!==undefined){switch(option.option){case"c":this.count_bytes=true;break;case"m":this.count_chars=true;break;case"l":this.count_lines=true;break;case"L":this.count_max_line_length=true;break;case"w":this.count_words=true;break;case"ဂ":this.error_not_implemented_feature("--files0-from","not implemented in Agnostic");break;case"က":this.show_help();break;case"ခ":this.show_version();break;default:this.error_invalid_argument(option.errmsg)}}if(!(this.count_bytes||this.count_chars||this.count_lines||this.count_words||this.count_max_line_length)){this.count_bytes=true;this.count_words=true;this.count_lines=true}var args=this.argv.slice(parser.optind());if(args.length===0){args.push("-")}else{this.show_file_names=true}this.files=args;if(args.length>1)this.show_totals=true};ProgramWc.prototype.wc_content=function(filename,content){var _lines=content.length;var _bytes=0;var _chars=0;var _words=0;var _max_line_length=0;for(var i in content){var line=content[i];_bytes+=line.length+1;_chars+=line.length+1;if(line.length>_max_line_length)_max_line_length=line.length;_words+=str_utils.trimWhitespace(line).split(/[ \t]+/).length}var output=[];if(this.count_lines)output.push(_lines);if(this.count_words)output.push(_words);if(this.count_bytes)output.push(_bytes);if(this.count_chars)output.push(_chars);if(this.count_max_line_length)output.push(_max_line_length);if(this.show_file_names)output.push(filename);var text=output.join(" ");this.runtime.stdout.put_line(text);this.total_bytes+=_bytes;this.total_chars+=_chars;this.total_words+=_words;this.total_lines+=_lines;if(_max_line_length>this.global_max_line_length)this.global_max_line_length=_max_line_length};ProgramWc.prototype.internal_run=function(){this.parse_command_line();this.total_lines=0;this.total_bytes=0;this.total_chars=0;this.total_words=0;this.global_max_line_length=0;this.process_files(this.files,this.wc_content);if(this.show_totals){var output=[];if(this.count_lines)output.push(this.total_lines);if(this.count_words)output.push(this.total_words);if(this.count_bytes)output.push(this.total_bytes);if(this.count_chars)output.push(this.total_chars);if(this.count_max_line_length)output.push(this.global_max_line_length);output.push("total");var text=output.join(" ");this.runtime.stdout.put_line(text)}return 0}},{"os/filesystem":2,"programs/program_base":23,"utils/posix-getopt":39,"utils/sprintf":41,"utils/string_utils":43}],31:[function(require,module,exports){module.exports=function(){function peg$subclass(child,parent){function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor}function SyntaxError(message,expected,found,offset,line,column){this.message=message;this.expected=expected;this.found=found;this.offset=offset;this.line=line;this.column=column;this.name="SyntaxError"}peg$subclass(SyntaxError,Error);function parse(input){var options=arguments.length>1?arguments[1]:{},peg$FAILED={},peg$startRuleFunctions={start:peg$parsestart},peg$startRuleFunction=peg$parsestart,peg$c0=peg$FAILED,peg$c1=void 0,peg$c2="{",peg$c3={type:"literal",value:"{",description:'"{"'},peg$c4="}",peg$c5={type:"literal",value:"}",description:'"}"'},peg$c6="!",peg$c7={type:"literal",value:"!",description:'"!"'},peg$c8="if",peg$c9={type:"literal",value:"if",description:'"if"'},peg$c10="then",peg$c11={type:"literal",value:"then",description:'"then"'},peg$c12="else",peg$c13={type:"literal",value:"else",description:'"else"'},peg$c14="elif",peg$c15={type:"literal",value:"elif",description:'"elif"'},peg$c16="fi",peg$c17={type:"literal",value:"fi",description:'"fi"'},peg$c18="do",peg$c19={type:"literal",value:"do",description:'"do"'},peg$c20="done",peg$c21={type:"literal",value:"done",description:'"done"'},peg$c22="case",peg$c23={type:"literal",value:"case",description:'"case"'},peg$c24="esac",peg$c25={type:"literal",value:"esac",description:'"esac"'},peg$c26="while",peg$c27={type:"literal",value:"while",description:'"while"'},peg$c28="until",peg$c29={type:"literal",value:"until",description:'"until"'},peg$c30="for",peg$c31={type:"literal",value:"for",description:'"for"'},peg$c32="in",peg$c33={type:"literal",value:"in",description:'"in"'},peg$c34=function(a){return a},peg$c35=[],peg$c36=function(first,rest){parser_debug("Tokens_Command, text ='"+text()+"' offset = "+offset());var results=first;rest.forEach(function(item){var delim=item[0];var tokens=item[1];results.push(delim);results=results.concat(tokens)});return results},peg$c37=/^[^|&;<>()$`'\\"'\n]/,peg$c38={type:"class",value:"[^|&;<>()$`'\\\\\"'\\n]",description:"[^|&;<>()$`'\\\\\"'\\n]"},peg$c39=function(value){return{literal:value.join("")}},peg$c40=function(items){return items},peg$c41=/^[^|&;`<>()$\\" \t'\n]/,peg$c42={type:"class",value:"[^|&;`<>()$\\\\\" \\t'\\n]",description:"[^|&;`<>()$\\\\\" \\t'\\n]"},peg$c43=/^[^}$'\\"\n]/,peg$c44={type:"class",value:"[^}$'\\\\\"\\n]",description:"[^}$'\\\\\"\\n]"},peg$c45=/^[^$"\n]/,peg$c46={type:"class",value:'[^$"\\n]',description:'[^$"\\n]'},peg$c47=/^[0-9]/,peg$c48={type:"class",value:"[0-9]",description:"[0-9]"},peg$c49=/^[<>]/,peg$c50={type:"class",value:"[<>]",description:"[<>]"},peg$c51="'",peg$c52={type:"literal",value:"'",description:'"\'"'},peg$c53=function(value){return{singlequotedstring:value.join("")}},peg$c54="\\",peg$c55={type:"literal",value:"\\",description:'"\\\\"'},peg$c56={type:"any",description:"any character"},peg$c57=function(value){return value},peg$c58='"',peg$c59={type:"literal",value:'"',description:'"\\""'},peg$c60=function(value){return{doublequotedstring:value}},peg$c61=function(value){return{literal:"\\"+value}},peg$c62="\n",peg$c63={type:"literal",value:"\n",description:'"\\n"'},peg$c64=/^[\n\t ]/,peg$c65={type:"class",value:"[\\n\\t ]",description:"[\\n\\t ]"},peg$c66=function(){return{delimiter:null}},peg$c67=/^[A-Za-z_]/,peg$c68={type:"class",value:"[A-Za-z_]",description:"[A-Za-z_]"},peg$c69=/^[A-Za-z0-9_]/,peg$c70={type:"class",value:"[A-Za-z0-9_]",description:"[A-Za-z0-9_]"},peg$c71=function(){return text()},peg$c72=function(){return parseInt(text())},peg$c73=null,peg$c74="<",peg$c75={type:"literal",value:"<",description:'"<"'},peg$c76=function(fd,file_name){if(fd===null)fd=0;return{redirection:{type:"input_file",filename:file_name,filedescriptor:fd}}},peg$c77=">",peg$c78={type:"literal",value:">",description:'">"'},peg$c79="|",peg$c80={type:"literal",value:"|",description:'"|"'},peg$c81=function(fd,forceclobber,file_name){if(fd===null)fd=1;return{redirection:{type:"output_file",filename:file_name,forceclobber:forceclobber!==null,filedescriptor:fd}}},peg$c82=">>",peg$c83={type:"literal",value:">>",description:'">>"'},peg$c84=function(fd,file_name){if(fd===null)fd=1;return{redirection:{type:"append_file",filename:file_name,filedescriptor:fd}}},peg$c85="<<",peg$c86={type:"literal",value:"<<",description:'"<<"'},peg$c87=function(fd){error("Here-Documents (<< operators) are not supported in this program")},peg$c88="-",peg$c89={type:"literal",value:"-",description:'"-"'},peg$c90="<&",peg$c91={type:"literal",value:"<&",description:'"<&"'},peg$c92=function(fd,file_name){if(fd===null)fd=0;return{redirection:{type:"input_dup_fd",filename:file_name[0],filedescriptor:fd}}},peg$c93=">&",peg$c94={type:"literal",value:">&",description:'">&"'},peg$c95=function(fd,file_name){if(fd===null)fd=1;return{redirection:{type:"output_dup_fd",filename:file_name[0],filedescriptor:fd}}},peg$c96="<>",peg$c97={type:"literal",value:"<>",description:'"<>"'},peg$c98=function(fd,file_name){if(fd===null)fd=0;return{redirection:{type:"inout_file",filename:file_name,filedescriptor:fd}}},peg$c99=function(item){parser_debug("Redirection, text ='"+text()+"' offset = "+offset());return item},peg$c100="=",peg$c101={type:"literal",value:"=",description:'"="'},peg$c102=function(vari_name,value){parser_debug("Assignments, text ='"+text()+"' offset = "+offset());if(!value){value=[{literal:""}]}var tmp={};tmp[vari_name]=value;return{assignment:tmp}},peg$c103=function(first,rest){parser_debug("Assignments_or_Redirections, text ='"+text()+"' offset = "+offset());return Array.prototype.concat.apply(first,rest)},peg$c104=function(first,rest){parser_debug("Redirections, text ='"+text()+"' offset = "+offset());return Array.prototype.concat.apply(first,rest)},peg$c105=function(prefix,cmd,suffix){parser_debug("SimpleCommand(form1), text ='"+text()+"' offset = "+offset());return pack_simple_command(prefix,cmd,suffix)},peg$c106=function(prefix,cmd){parser_debug("SimpleCommand(form2), text ='"+text()+"' offset = "+offset());return pack_simple_command(prefix,cmd,[])},peg$c107=function(prefix){parser_debug("SimpleCommand(form3), text ='"+text()+"' offset = "+offset());return pack_simple_command(prefix,null,[])},peg$c108=function(cmd,suffix){parser_debug("SimpleCommand(form4), text ='"+text()+"' offset = "+offset());return pack_simple_command([],cmd,suffix)},peg$c109=function(cmd){parser_debug("SimpleCommand(form5), text ='"+text()+"' offset = "+offset());return pack_simple_command([],cmd,[])},peg$c110=function(cmd){return cmd},peg$c111="(",peg$c112={type:"literal",value:"(",description:'"("'},peg$c113=")",peg$c114={type:"literal",value:")",description:'")"'},peg$c115=function(cmd){return{compound_subshell:cmd}},peg$c116=function(cmd){return{compound_currentshell:cmd}},peg$c117=function(cmd){return cmd},peg$c118=function(first,rest){var results=first;rest.forEach(function(item){var delim=item[0];var tokens=item[1];results.push(delim);results=results.concat(tokens)});return results},peg$c119=";",peg$c120={type:"literal",value:";",description:'";"'},peg$c121=function(name,wordlist,action){return{for_clause:{varname:name,wordlist:wordlist,action:action}}},peg$c122=function(condition,then_commands,elif_parts,else_part){var ifs=[{condition:condition,action:then_commands}];if(elif_parts){elif_parts.forEach(function(a){ifs.push(a)})}if(else_part){ifs.push({condition:"else",action:else_part})}return{if_clause:ifs}},peg$c123=function(condition,then_commands){return{condition:condition,action:then_commands}},peg$c124=function(then_commands){return then_commands},peg$c125=function(type,condition,action){return{while_until_clause:{type:type,condition:condition,action:action}}},peg$c126="||",peg$c127={type:"literal",value:"||",description:'"||"'},peg$c128=function(first,rest){parser_debug("Pipeline, text ='"+text()+"' offset = "+offset());if(rest.length===0)return first;if(first===null)error("expected valid command before |");var steps=[];steps.push(first);for(var i in rest){if(rest[i][2]===null)error("expected valid command after |");steps.push(rest[i][2])}return{pipeline:steps}},peg$c129="&&",peg$c130={type:"literal",value:"&&",description:'"&&"'},peg$c131=function(first,rest){parser_debug("AndOrList, text = '"+text()+"'");if(rest.length===0)return first;if(first===null)error("expected valid command before &&,||");var and_or_list=[];and_or_list.push(first);for(var i in rest){and_or_list.push(rest[i][0]);if(rest[i][1]===null)error("expected valid command before &&,||");and_or_list.push(rest[i][1])}return{and_or_list:and_or_list}},peg$c132="&",peg$c133={type:"literal",value:"&",description:'"&"'},peg$c134=function(first,rest,last_op){parser_debug("List, text = '"+text()+"'");if(rest.length===0&&(last_op===null||last_op===";"))return first;var current_cmd=first;var steps=[];for(var i in rest){var op=rest[i][0];var next_cmd=rest[i][1];if(current_cmd===null)error("expected valid command before ';','&'");if(op==";"){steps.push({foreground:current_cmd})}else{steps.push({background:current_cmd})}current_cmd=next_cmd}if(current_cmd!==null){if(last_op===null||last_op===";")steps.push({foreground:current_cmd});else steps.push({background:current_cmd})}return{list:steps}},peg$c135=function(items){parser_debug("TerminatedList, text = '"+text()+"'");var steps=[];for(var i in items){var cmd=items[i][0];var op=items[i][1];if(op==";"){steps.push({foreground:cmd})}else{steps.push({background:cmd})}}return{list:steps}},peg$c136="$(",peg$c137={type:"literal",value:"$(",description:'"$("'},peg$c138=function(){return{subshell:null}},peg$c139=function(term){return{subshell:term}},peg$c140="`",peg$c141={type:"literal",value:"`",description:'"`"'},peg$c142=function(terms){return{backtickshell:terms}},peg$c143="${",peg$c144={type:"literal",value:"${",description:'"${"'},peg$c145=function(varname){return{envvar:varname}},peg$c146="$",peg$c147={type:"literal",value:"$",description:'"$"'},peg$c148="",peg$c149=function(varname,varop,opvalue){return{envvar_operation:{envvar:varname,operation:varop,value:opvalue?opvalue[0]:[]}}},peg$c150="${#",peg$c151={type:"literal",value:"${#",description:'"${#"'},peg$c152=function(varname){return{envvar_operation:{envvar:varname,operation:"strlen",value:null}}},peg$c153=/^[@*#?\-$!\0]/,peg$c154={type:"class",value:"[@*#?\\-$!\\0]",description:"[@*#?\\-$!\\0]"},peg$c155=":-",peg$c156={type:"literal",value:":-",description:'":-"'},peg$c157=":=",peg$c158={type:"literal",value:":=",description:'":="'},peg$c159=":?",peg$c160={type:"literal",value:":?",description:'":?"'},peg$c161="?",peg$c162={type:"literal",value:"?",description:'"?"'},peg$c163=":+",peg$c164={type:"literal",value:":+",description:'":+"'},peg$c165="+",peg$c166={type:"literal",value:"+",description:'"+"'},peg$c167="%%",peg$c168={type:"literal",value:"%%",description:'"%%"'},peg$c169="%",peg$c170={type:"literal",value:"%",description:'"%"'},peg$c171="##",peg$c172={type:"literal",value:"##",description:'"##"'},peg$c173="#",peg$c174={type:"literal",value:"#",description:'"#"'},peg$c175="$((",peg$c176={type:"literal",value:"$((",description:'"$(("'},peg$c177="))",peg$c178={type:"literal",value:"))",description:'"))"'},peg$c179=function(){return{arithmetic:{literal:0}}},peg$c180=function(expr){return{arithmetic:expr}},peg$c181=":",peg$c182={type:"literal",value:":",description:'":"'},peg$c183=function(condition,rest){if(rest===null)return condition;return{arithmetics_ternary_op:[condition,rest[3],rest[7]]}},peg$c184=function(first,rest){return arithmatic_binary_op(first,rest)},peg$c185="^",peg$c186={type:"literal",value:"^",description:'"^"'},peg$c187="==",peg$c188={type:"literal",value:"==",description:'"=="'},peg$c189="!=",peg$c190={type:"literal",value:"!=",description:'"!="'},peg$c191="<=",peg$c192={type:"literal",value:"<=",description:'"<="'},peg$c193=">=",peg$c194={type:"literal",value:">=",description:'">="'},peg$c195="*",peg$c196={type:"literal",value:"*",description:'"*"'},peg$c197="/",peg$c198={type:"literal",value:"/",description:'"/"'},peg$c199="~",peg$c200={type:"literal",value:"~",description:'"~"'},peg$c201=function(op,term){if(op===null)return term;return{arithmetic_unary_op_list:[op,term]}},peg$c202=function(expr){return expr},peg$c203=function(value){return{literal:value}},peg$c204=function(){return{envvar:text()}},peg$c205=/^[1-9]/,peg$c206={type:"class",value:"[1-9]",description:"[1-9]"},peg$c207=function(){return parseInt(text(),10)},peg$c208="0x",peg$c209={type:"literal",value:"0x",description:'"0x"'},peg$c210=/^[A-Fa-f0-9]/,peg$c211={type:"class",value:"[A-Fa-f0-9]",description:"[A-Fa-f0-9]"},peg$c212=function(hexvalue){return parseInt(text(),16)},peg$c213="0",peg$c214={type:"literal",value:"0",description:'"0"'},peg$c215=/^[0-7]/,peg$c216={type:"class",value:"[0-7]",description:"[0-7]"},peg$c217=function(){return parseInt(text(),8)},peg$c218=/^[ \t]/,peg$c219={type:"class",value:"[ \\t]",description:"[ \\t]"},peg$currPos=0,peg$reportedPos=0,peg$cachedPos=0,peg$cachedPosDetails={line:1,column:1,seenCR:false},peg$maxFailPos=0,peg$maxFailExpected=[],peg$silentFails=0,peg$result;if("startRule"in options){if(!(options.startRule in peg$startRuleFunctions)){throw new Error("Can't start parsing from rule \""+options.startRule+'".')}peg$startRuleFunction=peg$startRuleFunctions[options.startRule]}function text(){return input.substring(peg$reportedPos,peg$currPos)}function offset(){return peg$reportedPos}function line(){return peg$computePosDetails(peg$reportedPos).line}function column(){return peg$computePosDetails(peg$reportedPos).column}function expected(description){throw peg$buildException(null,[{type:"other",description:description}],peg$reportedPos)}function error(message){throw peg$buildException(message,null,peg$reportedPos)}function peg$computePosDetails(pos){function advance(details,startPos,endPos){var p,ch;for(p=startPos;p<endPos;p++){ch=input.charAt(p);if(ch==="\n"){if(!details.seenCR){details.line++}details.column=1;details.seenCR=false}else if(ch==="\r"||ch==="\u2028"||ch==="\u2029"){details.line++;details.column=1;details.seenCR=true}else{details.column++;details.seenCR=false}}}if(peg$cachedPos!==pos){if(peg$cachedPos>pos){peg$cachedPos=0;peg$cachedPosDetails={line:1,column:1,seenCR:false}}advance(peg$cachedPosDetails,peg$cachedPos,pos);peg$cachedPos=pos}return peg$cachedPosDetails}function peg$fail(expected){if(peg$currPos<peg$maxFailPos){return}if(peg$currPos>peg$maxFailPos){peg$maxFailPos=peg$currPos;peg$maxFailExpected=[]}peg$maxFailExpected.push(expected)}function peg$buildException(message,expected,pos){function cleanupExpected(expected){var i=1;expected.sort(function(a,b){if(a.description<b.description){return-1}else if(a.description>b.description){return 1}else{return 0}});while(i<expected.length){if(expected[i-1]===expected[i]){expected.splice(i,1)}else{i++}}}function buildMessage(expected,found){function stringEscape(s){function hex(ch){return ch.charCodeAt(0).toString(16).toUpperCase()}return s.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(ch){return"\\x0"+hex(ch)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(ch){return"\\x"+hex(ch)}).replace(/[\u0180-\u0FFF]/g,function(ch){return"\\u0"+hex(ch)}).replace(/[\u1080-\uFFFF]/g,function(ch){return"\\u"+hex(ch)})}var expectedDescs=new Array(expected.length),expectedDesc,foundDesc,i;for(i=0;i<expected.length;i++){expectedDescs[i]=expected[i].description}expectedDesc=expected.length>1?expectedDescs.slice(0,-1).join(", ")+" or "+expectedDescs[expected.length-1]:expectedDescs[0];foundDesc=found?'"'+stringEscape(found)+'"':"end of input";return"Expected "+expectedDesc+" but "+foundDesc+" found."}var posDetails=peg$computePosDetails(pos),found=pos<input.length?input.charAt(pos):null;if(expected!==null){cleanupExpected(expected)}return new SyntaxError(message!==null?message:buildMessage(expected,found),expected,found,pos,posDetails.line,posDetails.column)}function peg$parsestart(){var s0;s0=peg$parseList();return s0}function peg$parseFirstCommandWord(){var s0,s1,s2;s0=peg$currPos;s1=peg$currPos;peg$silentFails++;if(input.charCodeAt(peg$currPos)===123){s2=peg$c2;peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c3)}}if(s2===peg$FAILED){if(input.charCodeAt(peg$currPos)===125){s2=peg$c4;peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c5)}}if(s2===peg$FAILED){if(input.charCodeAt(peg$currPos)===33){s2=peg$c6;peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c7)}}if(s2===peg$FAILED){if(input.substr(peg$currPos,2)===peg$c8){s2=peg$c8;peg$currPos+=2}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c9)}}if(s2===peg$FAILED){if(input.substr(peg$currPos,4)===peg$c10){s2=peg$c10;peg$currPos+=4}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c11)}}if(s2===peg$FAILED){if(input.substr(peg$currPos,4)===peg$c12){s2=peg$c12;peg$currPos+=4}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c13)}}if(s2===peg$FAILED){if(input.substr(peg$currPos,4)===peg$c14){s2=peg$c14;peg$currPos+=4}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c15)}}if(s2===peg$FAILED){if(input.substr(peg$currPos,2)===peg$c16){s2=peg$c16;peg$currPos+=2}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c17)}}if(s2===peg$FAILED){if(input.substr(peg$currPos,2)===peg$c18){s2=peg$c18;peg$currPos+=2}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c19)}}if(s2===peg$FAILED){if(input.substr(peg$currPos,4)===peg$c20){s2=peg$c20;peg$currPos+=4}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c21)}}if(s2===peg$FAILED){if(input.substr(peg$currPos,4)===peg$c22){s2=peg$c22;peg$currPos+=4}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c23)}}if(s2===peg$FAILED){if(input.substr(peg$currPos,4)===peg$c24){s2=peg$c24;peg$currPos+=4}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c25)}}if(s2===peg$FAILED){if(input.substr(peg$currPos,5)===peg$c26){s2=peg$c26;peg$currPos+=5}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c27)}}if(s2===peg$FAILED){if(input.substr(peg$currPos,5)===peg$c28){s2=peg$c28;peg$currPos+=5}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c29)}}if(s2===peg$FAILED){if(input.substr(peg$currPos,3)===peg$c30){s2=peg$c30;peg$currPos+=3}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c31)}}if(s2===peg$FAILED){if(input.substr(peg$currPos,2)===peg$c32){s2=peg$c32;peg$currPos+=2}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c33)}}}}}}}}}}}}}}}}}peg$silentFails--;if(s2===peg$FAILED){s1=peg$c1}else{peg$currPos=s1;s1=peg$c0}if(s1!==peg$FAILED){s2=peg$parseToken_NoDelimiter();if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c34(s2);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseTokens_Command(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;s1=peg$parseFirstCommandWord();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$parseEmptyDelimiter();if(s4!==peg$FAILED){s5=peg$parseToken_NoDelimiter();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$parseEmptyDelimiter();if(s4!==peg$FAILED){s5=peg$parseToken_NoDelimiter();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c36(s1,s2);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseNon_Operator_UnquotedCharacters(){var s0,s1,s2;s0=peg$currPos;s1=[];if(peg$c37.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c38)}}if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);if(peg$c37.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c38)}}}}else{s1=peg$c0}if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c39(s1)}s0=s1;return s0}function peg$parseToken_NoDelimiter(){var s0,s1,s2,s3;s0=peg$currPos;s1=peg$currPos;peg$silentFails++;s2=peg$parseredirection_word_hack();peg$silentFails--;if(s2===peg$FAILED){s1=peg$c1}else{peg$currPos=s1;s1=peg$c0}if(s1!==peg$FAILED){s2=[];s3=peg$parseNoDelimiter_UnquotedCharacters();if(s3===peg$FAILED){s3=peg$parseAllContexts_Tokens()}if(s3!==peg$FAILED){while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseNoDelimiter_UnquotedCharacters();if(s3===peg$FAILED){s3=peg$parseAllContexts_Tokens()}}}else{s2=peg$c0}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c40(s2);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseNoDelimiter_UnquotedCharacters(){var s0,s1,s2;s0=peg$currPos;s1=[];if(peg$c41.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c42)}}if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);if(peg$c41.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c42)}}}}else{s1=peg$c0}if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c39(s1)}s0=s1;return s0}function peg$parseToken_NoBraces(){var s0,s1;s0=[];s1=peg$parseNoBraces_UnquotedCharacters();if(s1===peg$FAILED){s1=peg$parseAllContexts_Tokens()}if(s1!==peg$FAILED){while(s1!==peg$FAILED){s0.push(s1);s1=peg$parseNoBraces_UnquotedCharacters();if(s1===peg$FAILED){s1=peg$parseAllContexts_Tokens()}}}else{s0=peg$c0}return s0}function peg$parseNoBraces_UnquotedCharacters(){var s0,s1,s2;s0=peg$currPos;s1=[];if(peg$c43.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c44)}}if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);if(peg$c43.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c44)}}}}else{s1=peg$c0}if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c39(s1)}s0=s1;return s0}function peg$parseNoDoubleQuotes_UnquotedCharacters(){var s0,s1,s2;s0=peg$currPos;s1=[];if(peg$c45.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c46)}}if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);if(peg$c45.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c46)}}}}else{s1=peg$c0}if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c39(s1)}s0=s1;return s0}function peg$parseAllContexts_Tokens(){var s0;s0=peg$parseSingleQuotedString();if(s0===peg$FAILED){s0=peg$parseDoubleQuotedString();if(s0===peg$FAILED){s0=peg$parseEscapedCharacter();if(s0===peg$FAILED){s0=peg$parseExpandable()}}}return s0}function peg$parseredirection_word_hack(){var s0,s1,s2;s0=peg$currPos;s1=[];if(peg$c47.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c48)}}if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);if(peg$c47.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c48)}}}}else{s1=peg$c0}if(s1!==peg$FAILED){if(peg$c49.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c50)}}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseSingleQuotedString(){var s0,s1,s2,s3;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===39){s1=peg$c51;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c52)}}if(s1!==peg$FAILED){s2=[];s3=peg$parseSingleQuotedStringCharacter();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseSingleQuotedStringCharacter()}if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===39){s3=peg$c51;peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c52)}}if(s3!==peg$FAILED){peg$reportedPos=s0;s1=peg$c53(s2);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseSingleQuotedStringCharacter(){var s0,s1,s2;s0=peg$currPos;s1=peg$currPos;peg$silentFails++;if(input.charCodeAt(peg$currPos)===39){s2=peg$c51;peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c52)}}if(s2===peg$FAILED){if(input.charCodeAt(peg$currPos)===92){s2=peg$c54;peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c55)}}if(s2===peg$FAILED){s2=peg$parseLineTerminator()}}peg$silentFails--;if(s2===peg$FAILED){s1=peg$c1}else{peg$currPos=s1;s1=peg$c0}if(s1!==peg$FAILED){if(input.length>peg$currPos){s2=input.charAt(peg$currPos);peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c56)}}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c57(s2);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}if(s0===peg$FAILED){s0=peg$parseEscapedCharacter()}return s0}function peg$parseDoubleQuotedString(){var s0,s1,s2,s3;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===34){s1=peg$c58;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c59)}}if(s1!==peg$FAILED){s2=[];s3=peg$parseNoDoubleQuotes_UnquotedCharacters();if(s3===peg$FAILED){s3=peg$parseEscapedCharacter();if(s3===peg$FAILED){s3=peg$parseExpandable()}}while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseNoDoubleQuotes_UnquotedCharacters();if(s3===peg$FAILED){s3=peg$parseEscapedCharacter();if(s3===peg$FAILED){s3=peg$parseExpandable()}}}if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===34){s3=peg$c58;peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c59)}}if(s3!==peg$FAILED){peg$reportedPos=s0;s1=peg$c60(s2);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseEscapedCharacter(){var s0,s1,s2;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===92){s1=peg$c54;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c55)}}if(s1!==peg$FAILED){if(input.length>peg$currPos){s2=input.charAt(peg$currPos);peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c56)}}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c61(s2);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseLineTerminator(){var s0;if(input.charCodeAt(peg$currPos)===10){s0=peg$c62;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c63)}}return s0}function peg$parseEmptyDelimiter(){var s0,s1,s2;s0=peg$currPos;s1=[];if(peg$c64.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c65)}}if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);if(peg$c64.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c65)}}}}else{s1=peg$c0}if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c66()}s0=s1;return s0}function peg$parseVariableName(){var s0,s1,s2,s3;s0=peg$currPos;if(peg$c67.test(input.charAt(peg$currPos))){s1=input.charAt(peg$currPos);peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c68)}}if(s1!==peg$FAILED){s2=[];if(peg$c69.test(input.charAt(peg$currPos))){s3=input.charAt(peg$currPos);peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c70)}}while(s3!==peg$FAILED){s2.push(s3);if(peg$c69.test(input.charAt(peg$currPos))){s3=input.charAt(peg$currPos);peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c70)}}}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c71();s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseRedirectionFileDescriptor(){var s0,s1,s2;s0=peg$currPos;s1=[];if(peg$c47.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c48)}}if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);if(peg$c47.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c48)}}}}else{s1=peg$c0}if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c72()}s0=s1;return s0}function peg$parseInputRedirection(){var s0,s1,s2,s3,s4;s0=peg$currPos;s1=peg$parseRedirectionFileDescriptor();if(s1===peg$FAILED){s1=peg$c73}if(s1!==peg$FAILED){if(input.charCodeAt(peg$currPos)===60){s2=peg$c74;peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c75)}}if(s2!==peg$FAILED){s3=peg$parsewhitespace();if(s3!==peg$FAILED){s4=peg$parseToken_NoDelimiter();if(s4!==peg$FAILED){peg$reportedPos=s0;s1=peg$c76(s1,s4);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseOutputRedirection(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;s1=peg$parseRedirectionFileDescriptor();if(s1===peg$FAILED){s1=peg$c73}if(s1!==peg$FAILED){if(input.charCodeAt(peg$currPos)===62){s2=peg$c77;peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c78)}}if(s2!==peg$FAILED){s3=peg$parsewhitespace();if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===124){s4=peg$c79;peg$currPos++}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c80)}}if(s4===peg$FAILED){s4=peg$c73}if(s4!==peg$FAILED){s5=peg$parseToken_NoDelimiter();if(s5!==peg$FAILED){peg$reportedPos=s0;s1=peg$c81(s1,s4,s5);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseAppendRedirection(){var s0,s1,s2,s3,s4;s0=peg$currPos;s1=peg$parseRedirectionFileDescriptor();if(s1===peg$FAILED){s1=peg$c73}if(s1!==peg$FAILED){if(input.substr(peg$currPos,2)===peg$c82){s2=peg$c82;peg$currPos+=2}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c83)}}if(s2!==peg$FAILED){s3=peg$parsewhitespace();if(s3!==peg$FAILED){s4=peg$parseToken_NoDelimiter();if(s4!==peg$FAILED){peg$reportedPos=s0;s1=peg$c84(s1,s4);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseHereDocRedirection(){var s0,s1,s2;s0=peg$currPos;s1=peg$parseRedirectionFileDescriptor();if(s1===peg$FAILED){s1=peg$c73}if(s1!==peg$FAILED){if(input.substr(peg$currPos,2)===peg$c85){s2=peg$c85;peg$currPos+=2}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c86)}}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c87(s1);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseFileDescriptorOrMinus(){var s0,s1;s0=[];if(peg$c47.test(input.charAt(peg$currPos))){s1=input.charAt(peg$currPos);peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c48)}}if(s1!==peg$FAILED){while(s1!==peg$FAILED){s0.push(s1);if(peg$c47.test(input.charAt(peg$currPos))){s1=input.charAt(peg$currPos);peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c48)}}}}else{s0=peg$c0}if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===45){s1=peg$c88;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c89)}}if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c71()}s0=s1}return s0}function peg$parseDupInputRedirection(){var s0,s1,s2,s3;s0=peg$currPos;s1=peg$parseRedirectionFileDescriptor();if(s1===peg$FAILED){s1=peg$c73}if(s1!==peg$FAILED){if(input.substr(peg$currPos,2)===peg$c90){s2=peg$c90;peg$currPos+=2}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c91)}}if(s2!==peg$FAILED){s3=peg$parseFileDescriptorOrMinus();if(s3!==peg$FAILED){peg$reportedPos=s0;s1=peg$c92(s1,s3);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseDupOutputRedirection(){var s0,s1,s2,s3;s0=peg$currPos;s1=peg$parseRedirectionFileDescriptor();if(s1===peg$FAILED){s1=peg$c73}if(s1!==peg$FAILED){if(input.substr(peg$currPos,2)===peg$c93){s2=peg$c93;peg$currPos+=2}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c94)}}if(s2!==peg$FAILED){s3=peg$parseFileDescriptorOrMinus();if(s3!==peg$FAILED){peg$reportedPos=s0;s1=peg$c95(s1,s3);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseInOutRedirection(){var s0,s1,s2,s3,s4;s0=peg$currPos;s1=peg$parseRedirectionFileDescriptor();if(s1===peg$FAILED){s1=peg$c73}if(s1!==peg$FAILED){if(input.substr(peg$currPos,2)===peg$c96){s2=peg$c96;peg$currPos+=2}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c97)}}if(s2!==peg$FAILED){s3=peg$parsewhitespace();if(s3!==peg$FAILED){s4=peg$parseToken_NoDelimiter();if(s4!==peg$FAILED){peg$reportedPos=s0;s1=peg$c98(s1,s4);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseRedirection(){var s0,s1;s0=peg$currPos;s1=peg$parseInputRedirection();if(s1===peg$FAILED){s1=peg$parseOutputRedirection();if(s1===peg$FAILED){s1=peg$parseAppendRedirection();if(s1===peg$FAILED){s1=peg$parseHereDocRedirection();if(s1===peg$FAILED){s1=peg$parseDupInputRedirection();if(s1===peg$FAILED){s1=peg$parseDupOutputRedirection();if(s1===peg$FAILED){s1=peg$parseInOutRedirection()}}}}}}if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c99(s1)}s0=s1;return s0}function peg$parseAssignment(){var s0,s1,s2,s3;s0=peg$currPos;s1=peg$parseVariableName();if(s1!==peg$FAILED){if(input.charCodeAt(peg$currPos)===61){s2=peg$c100;peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c101)}}if(s2!==peg$FAILED){s3=peg$parseToken_NoDelimiter();if(s3===peg$FAILED){s3=peg$c73}if(s3!==peg$FAILED){peg$reportedPos=s0;s1=peg$c102(s1,s3);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseAssignments_Or_Redirections(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;s1=peg$parseAssignment();if(s1===peg$FAILED){s1=peg$parseRedirection()}if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=[];s5=peg$parseEmptyDelimiter();if(s5!==peg$FAILED){while(s5!==peg$FAILED){s4.push(s5);s5=peg$parseEmptyDelimiter()}}else{s4=peg$c0}if(s4!==peg$FAILED){s5=peg$parseAssignment();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}if(s3===peg$FAILED){s3=peg$currPos;s4=[];s5=peg$parseEmptyDelimiter();while(s5!==peg$FAILED){s4.push(s5);s5=peg$parseEmptyDelimiter()}if(s4!==peg$FAILED){s5=peg$parseRedirection();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=[];s5=peg$parseEmptyDelimiter();if(s5!==peg$FAILED){while(s5!==peg$FAILED){s4.push(s5);s5=peg$parseEmptyDelimiter()}}else{s4=peg$c0}if(s4!==peg$FAILED){s5=peg$parseAssignment();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}if(s3===peg$FAILED){s3=peg$currPos;s4=[];s5=peg$parseEmptyDelimiter();while(s5!==peg$FAILED){s4.push(s5);s5=peg$parseEmptyDelimiter()}if(s4!==peg$FAILED){s5=peg$parseRedirection();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c103(s1,s2);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseRedirections(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;s1=peg$parseRedirection();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=[];s5=peg$parseEmptyDelimiter();while(s5!==peg$FAILED){s4.push(s5);s5=peg$parseEmptyDelimiter()}if(s4!==peg$FAILED){s5=peg$parseRedirection();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=[];s5=peg$parseEmptyDelimiter();while(s5!==peg$FAILED){s4.push(s5);s5=peg$parseEmptyDelimiter()}if(s4!==peg$FAILED){s5=peg$parseRedirection();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c104(s1,s2);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseSimpleCommand(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;s1=peg$parseAssignments_Or_Redirections();if(s1!==peg$FAILED){s2=[];s3=peg$parseEmptyDelimiter();if(s3!==peg$FAILED){while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseEmptyDelimiter()}}else{s2=peg$c0}if(s2!==peg$FAILED){s3=peg$parseTokens_Command();if(s3!==peg$FAILED){s4=[];s5=peg$parseEmptyDelimiter();if(s5!==peg$FAILED){while(s5!==peg$FAILED){s4.push(s5);s5=peg$parseEmptyDelimiter()}}else{s4=peg$c0}if(s4!==peg$FAILED){s5=peg$parseRedirections();if(s5!==peg$FAILED){peg$reportedPos=s0;s1=peg$c105(s1,s3,s5);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parseAssignments_Or_Redirections();if(s1!==peg$FAILED){s2=[];s3=peg$parseEmptyDelimiter();if(s3!==peg$FAILED){while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseEmptyDelimiter()}}else{s2=peg$c0}if(s2!==peg$FAILED){s3=peg$parseTokens_Command();if(s3!==peg$FAILED){peg$reportedPos=s0;s1=peg$c106(s1,s3);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parseAssignments_Or_Redirections();if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c107(s1)}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parseTokens_Command();if(s1!==peg$FAILED){s2=[];s3=peg$parseEmptyDelimiter();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseEmptyDelimiter()}if(s2!==peg$FAILED){s3=peg$parseRedirections();if(s3!==peg$FAILED){peg$reportedPos=s0;s1=peg$c108(s1,s3);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parseTokens_Command();if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c109(s1)}s0=s1}}}}return s0}function peg$parseCompound_List(){var s0,s1;s0=peg$currPos;s1=peg$parseList();if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c110(s1)}s0=s1;return s0}function peg$parseCompound_Command_Subshell(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===40){s1=peg$c111;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c112)}}if(s1!==peg$FAILED){s2=[];s3=peg$parseEmptyDelimiter();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseEmptyDelimiter()}if(s2!==peg$FAILED){s3=peg$parseCompound_List();if(s3!==peg$FAILED){s4=[];s5=peg$parseEmptyDelimiter();while(s5!==peg$FAILED){s4.push(s5);s5=peg$parseEmptyDelimiter()}if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===41){s5=peg$c113;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c114)}}if(s5!==peg$FAILED){peg$reportedPos=s0;s1=peg$c115(s3);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseCompound_Command_Currentshell(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===123){s1=peg$c2;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c3)}}if(s1!==peg$FAILED){s2=[];s3=peg$parseEmptyDelimiter();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseEmptyDelimiter()}if(s2!==peg$FAILED){s3=peg$parseTerminatedList();if(s3!==peg$FAILED){s4=[];s5=peg$parseEmptyDelimiter();while(s5!==peg$FAILED){s4.push(s5);s5=peg$parseEmptyDelimiter()}if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===125){s5=peg$c4;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c5)}}if(s5!==peg$FAILED){peg$reportedPos=s0;s1=peg$c116(s3);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseCommand(){var s0,s1,s2,s3,s4;s0=peg$currPos;s1=[];s2=peg$parseEmptyDelimiter();while(s2!==peg$FAILED){s1.push(s2);s2=peg$parseEmptyDelimiter()}if(s1!==peg$FAILED){s2=peg$parseSimpleCommand();if(s2===peg$FAILED){s2=peg$parseCompound_Command_Subshell();if(s2===peg$FAILED){s2=peg$parseCompound_Command_Currentshell();if(s2===peg$FAILED){s2=peg$parseFor_clause();if(s2===peg$FAILED){s2=peg$parseIf_clause();if(s2===peg$FAILED){s2=peg$parseWhile_Until_Clause()}}}}}if(s2!==peg$FAILED){s3=[];s4=peg$parseEmptyDelimiter();while(s4!==peg$FAILED){s3.push(s4);s4=peg$parseEmptyDelimiter()}if(s3!==peg$FAILED){peg$reportedPos=s0;s1=peg$c117(s2);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseWordlist(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;s1=peg$parseToken_NoDelimiter();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$parseEmptyDelimiter();if(s4!==peg$FAILED){s5=peg$parseToken_NoDelimiter();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$parseEmptyDelimiter();if(s4!==peg$FAILED){s5=peg$parseToken_NoDelimiter();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c118(s1,s2);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseDo_group(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c18){s1=peg$c18;peg$currPos+=2}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c19)}}if(s1!==peg$FAILED){s2=[];s3=peg$parseEmptyDelimiter();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseEmptyDelimiter()}if(s2!==peg$FAILED){s3=peg$parseCompound_List();if(s3!==peg$FAILED){s4=[];s5=peg$parseEmptyDelimiter();while(s5!==peg$FAILED){s4.push(s5);s5=peg$parseEmptyDelimiter()}if(s4!==peg$FAILED){if(input.substr(peg$currPos,4)===peg$c20){s5=peg$c20;peg$currPos+=4}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c21)}}if(s5!==peg$FAILED){peg$reportedPos=s0;s1=peg$c110(s3);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseFor_clause(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11;s0=peg$currPos;if(input.substr(peg$currPos,3)===peg$c30){s1=peg$c30;peg$currPos+=3}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c31)}}if(s1!==peg$FAILED){s2=[];s3=peg$parseEmptyDelimiter();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseEmptyDelimiter()}if(s2!==peg$FAILED){s3=peg$parseVariableName();if(s3!==peg$FAILED){s4=[];s5=peg$parseEmptyDelimiter();while(s5!==peg$FAILED){s4.push(s5);s5=peg$parseEmptyDelimiter()}if(s4!==peg$FAILED){if(input.substr(peg$currPos,2)===peg$c32){s5=peg$c32;peg$currPos+=2}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c33)}}if(s5!==peg$FAILED){s6=[];s7=peg$parseEmptyDelimiter();while(s7!==peg$FAILED){s6.push(s7);s7=peg$parseEmptyDelimiter()}if(s6!==peg$FAILED){s7=peg$parseWordlist();if(s7!==peg$FAILED){s8=[];s9=peg$parseEmptyDelimiter();while(s9!==peg$FAILED){s8.push(s9);s9=peg$parseEmptyDelimiter()}if(s8!==peg$FAILED){if(input.charCodeAt(peg$currPos)===59){s9=peg$c119;peg$currPos++}else{s9=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c120)}}if(s9!==peg$FAILED){s10=[];s11=peg$parseEmptyDelimiter();while(s11!==peg$FAILED){s10.push(s11);s11=peg$parseEmptyDelimiter()}if(s10!==peg$FAILED){s11=peg$parseDo_group();if(s11!==peg$FAILED){peg$reportedPos=s0;s1=peg$c121(s3,s7,s11);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseIf_clause(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10,s11;s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c8){s1=peg$c8;peg$currPos+=2}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c9)}}if(s1!==peg$FAILED){s2=[];s3=peg$parseEmptyDelimiter();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseEmptyDelimiter()}if(s2!==peg$FAILED){s3=peg$parseCompound_List();if(s3!==peg$FAILED){s4=[];s5=peg$parseEmptyDelimiter();while(s5!==peg$FAILED){s4.push(s5);s5=peg$parseEmptyDelimiter()}if(s4!==peg$FAILED){if(input.substr(peg$currPos,4)===peg$c10){s5=peg$c10;peg$currPos+=4}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c11)}}if(s5!==peg$FAILED){s6=[];s7=peg$parseEmptyDelimiter();while(s7!==peg$FAILED){s6.push(s7);s7=peg$parseEmptyDelimiter()}if(s6!==peg$FAILED){s7=peg$parseCompound_List();if(s7!==peg$FAILED){s8=[];s9=peg$parseEmptyDelimiter();while(s9!==peg$FAILED){s8.push(s9);s9=peg$parseEmptyDelimiter()}if(s8!==peg$FAILED){s9=[];s10=peg$parseElif_clause();while(s10!==peg$FAILED){s9.push(s10);s10=peg$parseElif_clause()}if(s9!==peg$FAILED){s10=peg$parseElse_clause();if(s10===peg$FAILED){s10=peg$c73}if(s10!==peg$FAILED){if(input.substr(peg$currPos,2)===peg$c16){s11=peg$c16;peg$currPos+=2}else{s11=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c17)}}if(s11!==peg$FAILED){peg$reportedPos=s0;s1=peg$c122(s3,s7,s9,s10);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseElif_clause(){var s0,s1,s2,s3,s4,s5,s6,s7,s8;s0=peg$currPos;if(input.substr(peg$currPos,4)===peg$c14){s1=peg$c14;peg$currPos+=4}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c15)}}if(s1!==peg$FAILED){s2=[];s3=peg$parseEmptyDelimiter();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseEmptyDelimiter()}if(s2!==peg$FAILED){s3=peg$parseCompound_List();if(s3!==peg$FAILED){s4=[];s5=peg$parseEmptyDelimiter();while(s5!==peg$FAILED){s4.push(s5);s5=peg$parseEmptyDelimiter()}if(s4!==peg$FAILED){if(input.substr(peg$currPos,4)===peg$c10){s5=peg$c10;peg$currPos+=4}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c11)}}if(s5!==peg$FAILED){s6=peg$parseCompound_List();if(s6!==peg$FAILED){s7=[];s8=peg$parseEmptyDelimiter();while(s8!==peg$FAILED){s7.push(s8);s8=peg$parseEmptyDelimiter()}if(s7!==peg$FAILED){peg$reportedPos=s0;s1=peg$c123(s3,s6);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseElse_clause(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;if(input.substr(peg$currPos,4)===peg$c12){s1=peg$c12;peg$currPos+=4}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c13)}}if(s1!==peg$FAILED){s2=[];s3=peg$parseEmptyDelimiter();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseEmptyDelimiter()}if(s2!==peg$FAILED){s3=peg$parseCompound_List();if(s3!==peg$FAILED){s4=[];s5=peg$parseEmptyDelimiter();while(s5!==peg$FAILED){s4.push(s5);s5=peg$parseEmptyDelimiter()}if(s4!==peg$FAILED){peg$reportedPos=s0;s1=peg$c124(s3);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseWhile_Until_Clause(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;if(input.substr(peg$currPos,5)===peg$c26){s1=peg$c26;peg$currPos+=5}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c27)}}if(s1===peg$FAILED){if(input.substr(peg$currPos,5)===peg$c28){s1=peg$c28;peg$currPos+=5}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c29)}}}if(s1!==peg$FAILED){s2=[];s3=peg$parseEmptyDelimiter();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseEmptyDelimiter()}if(s2!==peg$FAILED){s3=peg$parseCompound_List();if(s3!==peg$FAILED){s4=[];s5=peg$parseEmptyDelimiter();while(s5!==peg$FAILED){s4.push(s5);s5=peg$parseEmptyDelimiter()}if(s4!==peg$FAILED){s5=peg$parseDo_group();if(s5!==peg$FAILED){peg$reportedPos=s0;s1=peg$c125(s1,s3,s5);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parsePipeline(){var s0,s1,s2,s3,s4,s5,s6;s0=peg$currPos;s1=peg$parseCommand();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$currPos;peg$silentFails++;if(input.substr(peg$currPos,2)===peg$c126){s5=peg$c126;peg$currPos+=2}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c127)}}peg$silentFails--;if(s5===peg$FAILED){s4=peg$c1}else{peg$currPos=s4;s4=peg$c0}if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===124){s5=peg$c79;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c80)}}if(s5!==peg$FAILED){s6=peg$parseCommand();if(s6!==peg$FAILED){s4=[s4,s5,s6];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$currPos;peg$silentFails++;if(input.substr(peg$currPos,2)===peg$c126){s5=peg$c126;peg$currPos+=2}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c127)}}peg$silentFails--;if(s5===peg$FAILED){s4=peg$c1}else{peg$currPos=s4;s4=peg$c0}if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===124){s5=peg$c79;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c80)}}if(s5!==peg$FAILED){s6=peg$parseCommand();if(s6!==peg$FAILED){s4=[s4,s5,s6];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c128(s1,s2);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseAndOrList(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;s1=peg$parsePipeline();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;if(input.substr(peg$currPos,2)===peg$c129){s4=peg$c129;peg$currPos+=2}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c130)}}if(s4===peg$FAILED){if(input.substr(peg$currPos,2)===peg$c126){s4=peg$c126;peg$currPos+=2}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c127)}}}if(s4!==peg$FAILED){s5=peg$parsePipeline();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;if(input.substr(peg$currPos,2)===peg$c129){s4=peg$c129;peg$currPos+=2}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c130)}}if(s4===peg$FAILED){if(input.substr(peg$currPos,2)===peg$c126){s4=peg$c126;peg$currPos+=2}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c127)}}}if(s4!==peg$FAILED){s5=peg$parsePipeline();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c131(s1,s2);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseList(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;s1=peg$parseAndOrList();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;if(input.charCodeAt(peg$currPos)===59){s4=peg$c119;peg$currPos++}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c120)}}if(s4===peg$FAILED){if(input.charCodeAt(peg$currPos)===38){s4=peg$c132;peg$currPos++}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c133)}}}if(s4!==peg$FAILED){s5=peg$parseAndOrList();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;if(input.charCodeAt(peg$currPos)===59){s4=peg$c119;peg$currPos++}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c120)}}if(s4===peg$FAILED){if(input.charCodeAt(peg$currPos)===38){s4=peg$c132;peg$currPos++}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c133)}}}if(s4!==peg$FAILED){s5=peg$parseAndOrList();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===59){s3=peg$c119;peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c120)}}if(s3===peg$FAILED){if(input.charCodeAt(peg$currPos)===38){s3=peg$c132;peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c133)}}}if(s3===peg$FAILED){s3=peg$c73}if(s3!==peg$FAILED){peg$reportedPos=s0;s1=peg$c134(s1,s2,s3);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseTerminatedList(){var s0,s1,s2,s3,s4;s0=peg$currPos;s1=[];s2=peg$currPos;s3=peg$parseAndOrList();if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===59){s4=peg$c119;peg$currPos++}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c120)}}if(s4===peg$FAILED){if(input.charCodeAt(peg$currPos)===38){s4=peg$c132;peg$currPos++}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c133)}}}if(s4!==peg$FAILED){s3=[s3,s4];s2=s3}else{peg$currPos=s2;s2=peg$c0}}else{peg$currPos=s2;s2=peg$c0}if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);s2=peg$currPos;s3=peg$parseAndOrList();if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===59){s4=peg$c119;peg$currPos++}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c120)}}if(s4===peg$FAILED){if(input.charCodeAt(peg$currPos)===38){s4=peg$c132;peg$currPos++}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c133)}}}if(s4!==peg$FAILED){s3=[s3,s4];s2=s3}else{peg$currPos=s2;s2=peg$c0}}else{peg$currPos=s2;s2=peg$c0}}}else{s1=peg$c0}if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c135(s1)}s0=s1;return s0}function peg$parseExpandable(){var s0;s0=peg$parseSubshellExpandable();if(s0===peg$FAILED){s0=peg$parseBacktickExpandable();if(s0===peg$FAILED){s0=peg$parseParameterExpandable();if(s0===peg$FAILED){s0=peg$parseParameterOperationExpandable();if(s0===peg$FAILED){s0=peg$parseArithmeticExpandable()}}}}return s0}function peg$parseSubshellExpandable(){var s0,s1,s2,s3,s4;s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c136){s1=peg$c136;peg$currPos+=2}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c137)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;if(input.charCodeAt(peg$currPos)===40){s3=peg$c111;peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c112)}}peg$silentFails--;if(s3===peg$FAILED){s2=peg$c1}else{peg$currPos=s2;s2=peg$c0}if(s2!==peg$FAILED){s3=[];s4=peg$parseEmptyDelimiter();while(s4!==peg$FAILED){s3.push(s4);s4=peg$parseEmptyDelimiter()}if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===41){s4=peg$c113;peg$currPos++}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c114)}}if(s4!==peg$FAILED){peg$reportedPos=s0;s1=peg$c138();s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c136){s1=peg$c136;peg$currPos+=2}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c137)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;if(input.charCodeAt(peg$currPos)===40){s3=peg$c111;peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c112)}}peg$silentFails--;if(s3===peg$FAILED){s2=peg$c1}else{peg$currPos=s2;s2=peg$c0}if(s2!==peg$FAILED){s3=peg$parseList();if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===41){s4=peg$c113;peg$currPos++}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c114)}}if(s4!==peg$FAILED){peg$reportedPos=s0;s1=peg$c139(s3);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}return s0}function peg$parseBacktickExpandable(){var s0,s1,s2,s3;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===96){s1=peg$c140;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c141)}}if(s1!==peg$FAILED){s2=peg$parseList();if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===96){s3=peg$c140;peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c141)}}if(s3!==peg$FAILED){peg$reportedPos=s0;s1=peg$c142(s2);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseParameterExpandable(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c143){s1=peg$c143;peg$currPos+=2}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c144)}}if(s1!==peg$FAILED){s2=peg$parseParameterName();if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===125){s3=peg$c4;peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c5)}}if(s3!==peg$FAILED){peg$reportedPos=s0;s1=peg$c145(s2);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===36){s1=peg$c146;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c147)}}if(s1!==peg$FAILED){s2=peg$parseParameterName();if(s2!==peg$FAILED){s3=peg$c148;if(s3!==peg$FAILED){peg$reportedPos=s0;s1=peg$c145(s2);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}return s0}function peg$parseParameterOperationExpandable(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c143){s1=peg$c143;peg$currPos+=2}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c144)}}if(s1!==peg$FAILED){s2=peg$parseParameterName();if(s2!==peg$FAILED){s3=peg$parseParameterExpansionOperator();if(s3!==peg$FAILED){s4=[];s5=peg$parseToken_NoBraces();while(s5!==peg$FAILED){s4.push(s5);s5=peg$parseToken_NoBraces()}if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===125){s5=peg$c4;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c5)}}if(s5!==peg$FAILED){peg$reportedPos=s0;s1=peg$c149(s2,s3,s4);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,3)===peg$c150){s1=peg$c150;peg$currPos+=3}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c151)}}if(s1!==peg$FAILED){s2=peg$parseParameterName();if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===125){s3=peg$c4;peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c5)}}if(s3!==peg$FAILED){peg$reportedPos=s0;s1=peg$c152(s2);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}return s0}function peg$parseParameterName(){var s0,s1,s2,s3,s4;s0=peg$currPos;s1=peg$currPos;if(peg$c67.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c68)}}if(s2!==peg$FAILED){s3=[];if(peg$c69.test(input.charAt(peg$currPos))){s4=input.charAt(peg$currPos);peg$currPos++}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c70)}}while(s4!==peg$FAILED){s3.push(s4);if(peg$c69.test(input.charAt(peg$currPos))){s4=input.charAt(peg$currPos);peg$currPos++}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c70)}}}if(s3!==peg$FAILED){s2=[s2,s3];s1=s2}else{peg$currPos=s1;s1=peg$c0}}else{peg$currPos=s1;s1=peg$c0}if(s1===peg$FAILED){if(peg$c153.test(input.charAt(peg$currPos))){s1=input.charAt(peg$currPos);peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c154)}}}if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c71()}s0=s1;return s0}function peg$parseParameterExpansionOperator(){var s0,s1;s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c155){s1=peg$c155;peg$currPos+=2}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c156)}}if(s1===peg$FAILED){if(input.charCodeAt(peg$currPos)===45){s1=peg$c88;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c89)}}if(s1===peg$FAILED){if(input.substr(peg$currPos,2)===peg$c157){s1=peg$c157;peg$currPos+=2}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c158)}}if(s1===peg$FAILED){if(input.charCodeAt(peg$currPos)===61){s1=peg$c100;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c101)}}if(s1===peg$FAILED){if(input.substr(peg$currPos,2)===peg$c159){s1=peg$c159;peg$currPos+=2}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c160)}}if(s1===peg$FAILED){if(input.charCodeAt(peg$currPos)===63){s1=peg$c161;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c162)}}if(s1===peg$FAILED){if(input.substr(peg$currPos,2)===peg$c163){s1=peg$c163;peg$currPos+=2}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c164)}}if(s1===peg$FAILED){if(input.charCodeAt(peg$currPos)===43){s1=peg$c165;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c166)}}if(s1===peg$FAILED){if(input.substr(peg$currPos,2)===peg$c167){s1=peg$c167;peg$currPos+=2}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c168)}}if(s1===peg$FAILED){if(input.charCodeAt(peg$currPos)===37){s1=peg$c169;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c170)}}if(s1===peg$FAILED){if(input.substr(peg$currPos,2)===peg$c171){s1=peg$c171;peg$currPos+=2}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c172)}}if(s1===peg$FAILED){if(input.charCodeAt(peg$currPos)===35){s1=peg$c173;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c174)}}}}}}}}}}}}}if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c71()}s0=s1;return s0}function peg$parseArithmeticExpandable(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;if(input.substr(peg$currPos,3)===peg$c175){s1=peg$c175;peg$currPos+=3}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c176)}}if(s1!==peg$FAILED){s2=peg$parsewhitespace();if(s2!==peg$FAILED){if(input.substr(peg$currPos,2)===peg$c177){s3=peg$c177;peg$currPos+=2}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c178)}}if(s3!==peg$FAILED){peg$reportedPos=s0;s1=peg$c179();s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,3)===peg$c175){s1=peg$c175;peg$currPos+=3}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c176)}}if(s1!==peg$FAILED){s2=peg$parsewhitespace();if(s2!==peg$FAILED){s3=peg$parseConditionalOpTerm();if(s3!==peg$FAILED){s4=peg$parsewhitespace();if(s4!==peg$FAILED){if(input.substr(peg$currPos,2)===peg$c177){s5=peg$c177;peg$currPos+=2}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c178)}}if(s5!==peg$FAILED){peg$reportedPos=s0;s1=peg$c180(s3);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}return s0}function peg$parseConditionalOpTerm(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10;s0=peg$currPos;s1=peg$parseLogicalOrTerm();if(s1!==peg$FAILED){s2=peg$currPos;s3=peg$parsewhitespace();if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===63){s4=peg$c161;peg$currPos++}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c162)}}if(s4!==peg$FAILED){s5=peg$parsewhitespace();if(s5!==peg$FAILED){s6=peg$parseLogicalOrTerm();if(s6!==peg$FAILED){s7=peg$parsewhitespace();if(s7!==peg$FAILED){if(input.charCodeAt(peg$currPos)===58){s8=peg$c181;peg$currPos++}else{s8=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c182)}}if(s8!==peg$FAILED){s9=peg$parsewhitespace();if(s9!==peg$FAILED){s10=peg$parseLogicalOrTerm();if(s10!==peg$FAILED){s3=[s3,s4,s5,s6,s7,s8,s9,s10];s2=s3}else{peg$currPos=s2;s2=peg$c0}}else{peg$currPos=s2;s2=peg$c0}}else{peg$currPos=s2;s2=peg$c0}}else{peg$currPos=s2;s2=peg$c0}}else{peg$currPos=s2;s2=peg$c0}}else{peg$currPos=s2;s2=peg$c0}}else{peg$currPos=s2;s2=peg$c0}}else{peg$currPos=s2;s2=peg$c0}if(s2===peg$FAILED){s2=peg$c73}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c183(s1,s2);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseLogicalOrTerm(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;s1=peg$parseLogicalAndTerm();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$parsewhitespace();if(s4!==peg$FAILED){if(input.substr(peg$currPos,2)===peg$c126){s5=peg$c126;peg$currPos+=2}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c127)}}if(s5!==peg$FAILED){s6=peg$parsewhitespace();if(s6!==peg$FAILED){s7=peg$parseLogicalAndTerm();if(s7!==peg$FAILED){s4=[s4,s5,s6,s7];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$parsewhitespace();if(s4!==peg$FAILED){if(input.substr(peg$currPos,2)===peg$c126){s5=peg$c126;peg$currPos+=2}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c127)}}if(s5!==peg$FAILED){s6=peg$parsewhitespace();if(s6!==peg$FAILED){s7=peg$parseLogicalAndTerm();if(s7!==peg$FAILED){s4=[s4,s5,s6,s7];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c184(s1,s2);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseLogicalAndTerm(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;s1=peg$parseBitwiseOrTerm();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$parsewhitespace();if(s4!==peg$FAILED){if(input.substr(peg$currPos,2)===peg$c129){s5=peg$c129;peg$currPos+=2}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c130)}}if(s5!==peg$FAILED){s6=peg$parsewhitespace();if(s6!==peg$FAILED){s7=peg$parseBitwiseOrTerm();if(s7!==peg$FAILED){s4=[s4,s5,s6,s7];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$parsewhitespace();if(s4!==peg$FAILED){if(input.substr(peg$currPos,2)===peg$c129){s5=peg$c129;peg$currPos+=2}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c130)}}if(s5!==peg$FAILED){s6=peg$parsewhitespace();if(s6!==peg$FAILED){s7=peg$parseBitwiseOrTerm();if(s7!==peg$FAILED){s4=[s4,s5,s6,s7];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c184(s1,s2);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseBitwiseOrTerm(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;s1=peg$parseBitwiseXorTerm();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$parsewhitespace();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===124){s5=peg$c79;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c80)}}if(s5!==peg$FAILED){s6=peg$parsewhitespace();if(s6!==peg$FAILED){s7=peg$parseBitwiseXorTerm();if(s7!==peg$FAILED){s4=[s4,s5,s6,s7];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$parsewhitespace();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===124){s5=peg$c79;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c80)}}if(s5!==peg$FAILED){s6=peg$parsewhitespace();if(s6!==peg$FAILED){s7=peg$parseBitwiseXorTerm();if(s7!==peg$FAILED){s4=[s4,s5,s6,s7];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c184(s1,s2);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseBitwiseXorTerm(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;s1=peg$parseBitwiseAndTerm();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$parsewhitespace();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===94){s5=peg$c185;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c186)}}if(s5!==peg$FAILED){s6=peg$parsewhitespace();if(s6!==peg$FAILED){s7=peg$parseBitwiseAndTerm();if(s7!==peg$FAILED){s4=[s4,s5,s6,s7];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$parsewhitespace();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===94){s5=peg$c185;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c186)}}if(s5!==peg$FAILED){s6=peg$parsewhitespace();if(s6!==peg$FAILED){s7=peg$parseBitwiseAndTerm();if(s7!==peg$FAILED){s4=[s4,s5,s6,s7];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c184(s1,s2);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseBitwiseAndTerm(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;s1=peg$parseEqualityOpTerm();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$parsewhitespace();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===38){s5=peg$c132;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c133)}}if(s5!==peg$FAILED){s6=peg$parsewhitespace();if(s6!==peg$FAILED){s7=peg$parseEqualityOpTerm();if(s7!==peg$FAILED){s4=[s4,s5,s6,s7];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$parsewhitespace();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===38){s5=peg$c132;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c133)}}if(s5!==peg$FAILED){s6=peg$parsewhitespace();if(s6!==peg$FAILED){s7=peg$parseEqualityOpTerm();if(s7!==peg$FAILED){s4=[s4,s5,s6,s7];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c184(s1,s2);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseEqualityOpTerm(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;s1=peg$parseRelationalOpTerm();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$parsewhitespace();if(s4!==peg$FAILED){if(input.substr(peg$currPos,2)===peg$c187){s5=peg$c187;peg$currPos+=2}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c188)}}if(s5===peg$FAILED){if(input.substr(peg$currPos,2)===peg$c189){s5=peg$c189;peg$currPos+=2}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c190)}}}if(s5!==peg$FAILED){s6=peg$parsewhitespace();if(s6!==peg$FAILED){s7=peg$parseRelationalOpTerm();if(s7!==peg$FAILED){s4=[s4,s5,s6,s7];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$parsewhitespace();if(s4!==peg$FAILED){if(input.substr(peg$currPos,2)===peg$c187){s5=peg$c187;peg$currPos+=2}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c188)}}if(s5===peg$FAILED){if(input.substr(peg$currPos,2)===peg$c189){s5=peg$c189;peg$currPos+=2}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c190)}}}if(s5!==peg$FAILED){s6=peg$parsewhitespace();if(s6!==peg$FAILED){s7=peg$parseRelationalOpTerm();if(s7!==peg$FAILED){s4=[s4,s5,s6,s7];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c184(s1,s2);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseRelationalOpTerm(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;s1=peg$parseBitwiseShiftTerm();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$parsewhitespace();if(s4!==peg$FAILED){if(input.substr(peg$currPos,2)===peg$c191){s5=peg$c191;peg$currPos+=2}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c192)}}if(s5===peg$FAILED){if(input.substr(peg$currPos,2)===peg$c193){s5=peg$c193;peg$currPos+=2}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c194)}}if(s5===peg$FAILED){if(input.charCodeAt(peg$currPos)===62){s5=peg$c77;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c78)}}if(s5===peg$FAILED){if(input.charCodeAt(peg$currPos)===60){s5=peg$c74;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c75)}}}}}if(s5!==peg$FAILED){s6=peg$parsewhitespace();if(s6!==peg$FAILED){s7=peg$parseBitwiseShiftTerm();if(s7!==peg$FAILED){s4=[s4,s5,s6,s7];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$parsewhitespace();if(s4!==peg$FAILED){if(input.substr(peg$currPos,2)===peg$c191){s5=peg$c191;peg$currPos+=2}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c192)}}if(s5===peg$FAILED){if(input.substr(peg$currPos,2)===peg$c193){s5=peg$c193;peg$currPos+=2}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c194)}}if(s5===peg$FAILED){if(input.charCodeAt(peg$currPos)===62){s5=peg$c77;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c78)}}if(s5===peg$FAILED){if(input.charCodeAt(peg$currPos)===60){s5=peg$c74;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c75)}}}}}if(s5!==peg$FAILED){s6=peg$parsewhitespace();if(s6!==peg$FAILED){s7=peg$parseBitwiseShiftTerm();if(s7!==peg$FAILED){s4=[s4,s5,s6,s7];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c184(s1,s2);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseBitwiseShiftTerm(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;s1=peg$parseAdditiveTerm();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$parsewhitespace();if(s4!==peg$FAILED){if(input.substr(peg$currPos,2)===peg$c82){s5=peg$c82;peg$currPos+=2}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c83)}}if(s5===peg$FAILED){if(input.substr(peg$currPos,2)===peg$c85){s5=peg$c85;peg$currPos+=2}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c86)}}}if(s5!==peg$FAILED){s6=peg$parsewhitespace();if(s6!==peg$FAILED){s7=peg$parseAdditiveTerm();if(s7!==peg$FAILED){s4=[s4,s5,s6,s7];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$parsewhitespace();if(s4!==peg$FAILED){if(input.substr(peg$currPos,2)===peg$c82){s5=peg$c82;peg$currPos+=2}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c83)}}if(s5===peg$FAILED){if(input.substr(peg$currPos,2)===peg$c85){s5=peg$c85;peg$currPos+=2}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c86)}}}if(s5!==peg$FAILED){s6=peg$parsewhitespace();if(s6!==peg$FAILED){s7=peg$parseAdditiveTerm();if(s7!==peg$FAILED){s4=[s4,s5,s6,s7];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c184(s1,s2);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseAdditiveTerm(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;s1=peg$parseTerm();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$parsewhitespace();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===43){s5=peg$c165;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c166)}}if(s5===peg$FAILED){if(input.charCodeAt(peg$currPos)===45){s5=peg$c88;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c89)}}}if(s5!==peg$FAILED){s6=peg$parsewhitespace();if(s6!==peg$FAILED){s7=peg$parseTerm();if(s7!==peg$FAILED){s4=[s4,s5,s6,s7];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$parsewhitespace();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===43){s5=peg$c165;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c166)}}if(s5===peg$FAILED){if(input.charCodeAt(peg$currPos)===45){s5=peg$c88;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c89)}}}if(s5!==peg$FAILED){s6=peg$parsewhitespace();if(s6!==peg$FAILED){s7=peg$parseTerm();if(s7!==peg$FAILED){s4=[s4,s5,s6,s7];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c184(s1,s2);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseTerm(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;s1=peg$parseUnaryOpTerm();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$parsewhitespace();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===42){s5=peg$c195;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c196)}}if(s5===peg$FAILED){if(input.charCodeAt(peg$currPos)===47){s5=peg$c197;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c198)}}if(s5===peg$FAILED){if(input.charCodeAt(peg$currPos)===37){s5=peg$c169;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c170)}}}}if(s5!==peg$FAILED){s6=peg$parsewhitespace();if(s6!==peg$FAILED){s7=peg$parseUnaryOpTerm();if(s7!==peg$FAILED){s4=[s4,s5,s6,s7];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$parsewhitespace();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===42){s5=peg$c195;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c196)}}if(s5===peg$FAILED){if(input.charCodeAt(peg$currPos)===47){s5=peg$c197;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c198)}}if(s5===peg$FAILED){if(input.charCodeAt(peg$currPos)===37){s5=peg$c169;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c170)}}}}if(s5!==peg$FAILED){s6=peg$parsewhitespace();if(s6!==peg$FAILED){s7=peg$parseUnaryOpTerm();if(s7!==peg$FAILED){s4=[s4,s5,s6,s7];s3=s4}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}else{peg$currPos=s3;s3=peg$c0}}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c184(s1,s2);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseUnaryOpTerm(){var s0,s1,s2,s3;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===33){s1=peg$c6;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c7)}}if(s1===peg$FAILED){if(input.charCodeAt(peg$currPos)===126){s1=peg$c199;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c200)}}}if(s1===peg$FAILED){s1=peg$c73}if(s1!==peg$FAILED){s2=peg$parsewhitespace();if(s2!==peg$FAILED){s3=peg$parseFactor();if(s3!==peg$FAILED){peg$reportedPos=s0;s1=peg$c201(s1,s3);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseFactor(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===40){s1=peg$c111;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c112)}}if(s1!==peg$FAILED){s2=peg$parsewhitespace();if(s2!==peg$FAILED){s3=peg$parseConditionalOpTerm();if(s3!==peg$FAILED){s4=peg$parsewhitespace();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===41){s5=peg$c113;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c114)}}if(s5!==peg$FAILED){peg$reportedPos=s0;s1=peg$c202(s3);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parseInteger();if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c203(s1)}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parseArithmeticParameterName();if(s1!==peg$FAILED){peg$reportedPos=s0;s1=peg$c204()}s0=s1;if(s0===peg$FAILED){s0=peg$parseExpandable()}}}return s0}function peg$parseInteger(){var s0;s0=peg$parseDecimalInteger();if(s0===peg$FAILED){s0=peg$parseHexInteger();if(s0===peg$FAILED){s0=peg$parseOctalInteger()}}return s0}function peg$parseDecimalInteger(){var s0,s1,s2,s3;s0=peg$currPos;if(peg$c205.test(input.charAt(peg$currPos))){s1=input.charAt(peg$currPos);peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c206)}}if(s1!==peg$FAILED){s2=[];if(peg$c47.test(input.charAt(peg$currPos))){s3=input.charAt(peg$currPos);peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c48)}}while(s3!==peg$FAILED){s2.push(s3);if(peg$c47.test(input.charAt(peg$currPos))){s3=input.charAt(peg$currPos);peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c48)}}}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c207();s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseHexInteger(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c208){s1=peg$c208;peg$currPos+=2}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c209)}}if(s1!==peg$FAILED){s2=[];if(peg$c210.test(input.charAt(peg$currPos))){s3=input.charAt(peg$currPos);peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c211)}}if(s3!==peg$FAILED){while(s3!==peg$FAILED){s2.push(s3);if(peg$c210.test(input.charAt(peg$currPos))){s3=input.charAt(peg$currPos);peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c211)}}}}else{s2=peg$c0}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c212(s2);s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseOctalInteger(){var s0,s1,s2,s3;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===48){s1=peg$c213;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c214)}}if(s1!==peg$FAILED){s2=[];if(peg$c215.test(input.charAt(peg$currPos))){s3=input.charAt(peg$currPos);peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c216)}}while(s3!==peg$FAILED){s2.push(s3);if(peg$c215.test(input.charAt(peg$currPos))){s3=input.charAt(peg$currPos);peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c216)}}}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c217();s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parseArithmeticParameterName(){var s0,s1,s2,s3;s0=peg$currPos;if(peg$c67.test(input.charAt(peg$currPos))){s1=input.charAt(peg$currPos);peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c68)}}if(s1!==peg$FAILED){s2=[];if(peg$c69.test(input.charAt(peg$currPos))){s3=input.charAt(peg$currPos);peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c70)}}while(s3!==peg$FAILED){s2.push(s3);if(peg$c69.test(input.charAt(peg$currPos))){s3=input.charAt(peg$currPos);peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c70)}}}if(s2!==peg$FAILED){peg$reportedPos=s0;s1=peg$c71();s0=s1}else{peg$currPos=s0;s0=peg$c0}}else{peg$currPos=s0;s0=peg$c0}return s0}function peg$parsewhitespace(){var s0,s1;s0=[];if(peg$c218.test(input.charAt(peg$currPos))){s1=input.charAt(peg$currPos);peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c219)}}while(s1!==peg$FAILED){s0.push(s1);if(peg$c218.test(input.charAt(peg$currPos))){s1=input.charAt(peg$currPos);peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c219)}}}return s0}function parser_debug(){if(0){var text="";for(var i in arguments){text+=arguments[i]+" "}console.warn(text)}}function pack_simple_command(prefix,cmd,suffix){var assignments=[];var redirections=[];for(i in prefix){if(prefix[i]){var tmp=prefix[i];if("assignment"in tmp){assignments.push(tmp["assignment"])}else if("redirection"in tmp){redirections.push(tmp["redirection"])}}}for(i in suffix){if(suffix[i]){var tmp=suffix[i];if("assignment"in tmp){assignments.push(tmp["assignment"])}else if("redirection"in tmp){redirections.push(tmp["redirection"])}}}var command={};if(assignments.length>0)command["assignments"]=assignments;if(redirections.length>0)command["redirections"]=redirections;if(cmd)command["command"]=cmd;return{SimpleCommand:command}}function arithmatic_binary_op(first,rest){if(rest.length===0)return first;var list=[];list.push(first);for(var i in rest){list.push(rest[i][1]);list.push(rest[i][3])}return{arithmetics_binary_op_list:list}}peg$result=peg$startRuleFunction();if(peg$result!==peg$FAILED&&peg$currPos===input.length){return peg$result}else{if(peg$result!==peg$FAILED&&peg$currPos<input.length){peg$fail({type:"end",description:"end of input"})}throw peg$buildException(null,peg$maxFailExpected,peg$maxFailPos)}}return{SyntaxError:SyntaxError,parse:parse}}()},{}],32:[function(require,module,exports){"use strict";var ob_utils=require("utils/object_utils");var str_utils=require("utils/string_utils");module.exports=DescribeHTMLShellCommand;function DescribeHTMLShellCommand(cmd){var s=new Shell_HTML_Descriptor;return s.DescribeShellCommand(cmd)}function Shell_HTML_Descriptor(){var command_order=0;var command_level=0;var command_level_max=0;function replaceAll(find,replace,str){return str.replace(new RegExp(find,"g"),replace)}function StartCommand(obj){command_order=0;command_level=0;command_level_max=0;var html=Command(obj);for(var i=1;i<=command_level_max;i++){var from="cmdleveltmp"+i;var to="cmdlevel"+(command_level_max-i+1);html=replaceAll(from,to,html)}return html}function start_span(class_name,level){var html='<span class="'+class_name;if(level)html+=" cmdleveltmp"+parseInt(level);html+='">';return html}function end_span(){return"</span>"}function simple_span(class_name,content){var html='<span class="'+class_name+'">'+content+"</span>";return html}function Command(obj){var type=ob_utils.GetOneKey(obj);var value=obj[type];var html;command_level++;if(command_level>command_level_max)command_level_max=command_level;switch(type){case"SimpleCommand":html=SimpleCommand(value);break;case"and_or_list":html=AndOrList(value);break;case"list":html=List(value);break;case"pipeline":html=Pipeline(value);break;case"compound_subshell":html=CompoundSubshell(value);break;case"compound_currentshell":html=CompoundCurrentshell(value);break;case"for_clause":html=ForClause(value);break;default:throw"Invalid Command type '"+type+'"'}command_level--;return html}function ForClause(obj){var exit_code=0;ob_utils.VerifyAllowedKeys(obj,["varname","wordlist","action"]);var varname=obj["varname"];var wordlist=Token(true,obj["wordlist"]);var action=obj["action"];var exit_code;return"for "+varname.toString()+" in "+wordlist+" ; do "+Command(action)+" ; done "}function Pipeline(obj){ob_utils.VerifyArray(obj);var pipe_desc=obj.map(Command).join(" "+simple_span("pipesymbol","|")+" ");return start_span("pipecmd",command_level)+pipe_desc+end_span()}function List(obj){var result="";ob_utils.VerifyArray(obj);obj.forEach(function(item,idx){var exec_type=ob_utils.GetOneKey(item);var exec_char="";switch(exec_type){case"foreground":exec_char=" "+simple_span("list_terminator",";");break;case"background":exec_char=" "+simple_span("list_terminated","&");break;default:throw"Invalid list exec-type '"+exec_type+"', expecting 'foreground' or 'background'"}var command=Command(item[exec_type]);if(idx!=obj.length-1||exec_type=="background")command+=exec_char;result+=command});return start_span("list",command_level)+result+end_span()}function AndOrList(obj){ob_utils.VerifyArray(obj);var cmd=obj[0];var list_desc=start_span("AndOrList",command_level)+Command(cmd);var i=1;while(i<obj.length){var condition=obj[i];var cmd=obj[i+1];i+=2;list_desc=list_desc+" "+simple_span("AndOrListOperator",condition)+" "+Command(cmd)}list_desc+=end_span();return list_desc}function SimpleCommand(obj){ob_utils.VerifyAllowedKeys(obj,["command","redirections","assignments"]);var assignment_desc="";var tokens_desc="";var redirection_desc="";if("assignments"in obj)assignment_desc=simple_span("Assignments",Assignments(obj["assignments"]))+"&nbsp;";if("redirections"in obj)redirection_desc="&nbsp;"+simple_span("Redirections",Redirections(obj["redirections"]));if("command"in obj)tokens_desc=simple_span("ExecTokens",Token(true,obj["command"]));var v=start_span("SimpleCommand",command_level)+assignment_desc+tokens_desc+redirection_desc+end_span();return v}function Assignments(obj){ob_utils.VerifyArray(obj);var results=[];obj.forEach(function(item){var varname=ob_utils.GetOneKey(item);var value_token=item[varname];var value=Token(false,value_token);var desc=varname+"="+value;results.push(desc)});return results.join(" ")}function Redirections(obj){ob_utils.VerifyArray(obj);return""}function Token(allow_multiple_fields,obj){var results=[];ob_utils.VerifyBoolean(allow_multiple_fields);ob_utils.VerifyArray(obj);obj.forEach(function(item){var token_type=ob_utils.GetOneKey(item);var token_value=item[token_type];var desc="";switch(token_type){case"literal":desc=token_value;break;case"delimiter":desc=" ";break;case"singlequotedstring":desc=SingleQuotedString(token_value);break;case"doublequotedstring":desc=DoubleQuotedString(token_value);break;case"envvar_operation":desc=simple_span("EnvVarOp",EnvVarOperation(token_value));break;case"envvar":desc=simple_span("EnvVar",EnvVar(token_value));break;case"arithmetic":desc=simple_span("Arithmetic",Arithmetic(token_value));break;case"subshell":desc=simple_span("subshell",Subshell(token_value));break;case"backtickshell":desc=simple_span("backtickshell",BacktickShell(token_value));break;default:throw"Unknown Posix-Shell-Token '"+token_type+'"'}results.push(desc)});return results.join("")}function EnvVar(obj){return"${"+obj+"}"}function EnvVarOperation(obj){ob_utils.VerifyAllowedKeys(obj,["envvar","operation","value"]);var varname=obj["envvar"];var operation=obj["operation"];var value="";if(obj["value"]){value=Token(true,obj["value"])}return"${"+varname+operation+value+"}"}function SingleQuotedString(obj){return"'"+obj+"'"}function DoubleQuotedString(obj){var desc=Token(true,obj);return'"'+desc+'"'}function Subshell(obj){if(obj===null)return"$()";var desc=Command(obj);return"$("+desc+")"}function BacktickShell(obj){if(obj===null)return"``";var desc=Command(obj);return"`"+desc+"`"}function CompoundSubshell(obj){return start_span("CompoundSubshell",command_level)+" ( "+Command(obj)+" ) "+end_span()}function CompoundCurrentshell(obj){return start_span("CompoundCurrentshell",command_level)+"{"+Command(obj)+" ; }"+end_span()}function Arithmetic(obj){return"$(("+ArithmeticExpression(obj)+"))"}function ArithmeticExpression(obj){var op=ob_utils.GetOneKey(obj);var value=obj[op];switch(op){case"literal":return value;case"envvar":return EnvVar(value);case"arithmetics_binary_op_list":return ArithmeticBinaryOpList(value);case"arithmetic_unary_op_list":return ArithmeticUnaryOp(value);case"arithmetics_ternary_op":return ArithmeticTernaryOp(value);case"arithmetic":return ArithmeticExpression(value);case"subshell":return Subshell(value);default:throw"Uknown arithmetic operation '"+op+'"'}}function ArithmeticTernaryOp(obj){ob_utils.VerifyArray(obj);var condition=obj[0];var true_value=obj[1];var false_value=obj[2];var cond_desc=ArithmeticExpression(condition);var true_value_desc=ArithmeticExpression(true_value);var false_value_desc=ArithmeticExpression(false_value);return cond_desc+"?"+true_value_desc+":"+false_value_desc}function ArithmeticUnaryOp(obj){ob_utils.VerifyArray(obj);var operator=obj[0];var operand=obj[1];var value=ArithmeticExpression(operand);return operand+value}function ArithmeticBinaryOpList(obj){ob_utils.VerifyArray(obj);var operand=obj[0];var value=ArithmeticExpression(operand);var i=1;while(i<obj.length){var operator=obj[i];var operand2=obj[i+1];i+=2;value=value+operator+ArithmeticExpression(operand2)}return value}return{DescribeShellCommand:StartCommand}}},{"utils/object_utils":37,"utils/string_utils":43}],33:[function(require,module,exports){"use strict";var ob_utils=require("utils/object_utils");var str_utils=require("utils/string_utils");module.exports=DescribeShellCommand;function DescribeShellCommand(cmd){var s=new ShellDescriptor;return s.DescribeShellCommand(cmd)}function ShellDescriptor(){function Command(obj){var type=ob_utils.GetOneKey(obj);var value=obj[type];switch(type){case"SimpleCommand":return SimpleCommand(value);case"and_or_list":return AndOrList(value);case"list":return List(value);case"pipeline":return Pipeline(value);case"compound_subshell":return CompoundSubshell(value);case"compound_currentshell":return CompoundCurrentshell(value);case"for_clause":return ForClause(value);default:throw"Invalid Command type '"+type+'"'}}function ForClause(obj){var exit_code=0;ob_utils.VerifyAllowedKeys(obj,["varname","wordlist","action"]);var varname=obj["varname"];var wordlist=Token(true,obj["wordlist"]);var action=obj["action"];var exit_code;return"for "+varname.toString()+" in "+wordlist+" ; do "+Command(action)+" ; done "}function Pipeline(obj){ob_utils.VerifyArray(obj);var pipe_desc=obj.map(Command).join(" | ");return pipe_desc}function List(obj){var result="";ob_utils.VerifyArray(obj);obj.forEach(function(item){var exec_type=ob_utils.GetOneKey(item);var exec_char="";switch(exec_type){case"foreground":exec_char=" ;";break;case"background":exec_char+=" &";break;default:throw"Invalid list exec-type '"+exec_type+"', expecting 'foreground' or 'background'"}var command=Command(item[exec_type]);result+=command+exec_char});result=result.replace(/; *$/,"");return result}function AndOrList(obj){ob_utils.VerifyArray(obj);var cmd=obj[0];var list_desc=Command(cmd);var i=1;while(i<obj.length){var condition=obj[i];var cmd=obj[i+1];i+=2;list_desc=list_desc+" "+condition+" "+Command(cmd)}return list_desc}function SimpleCommand(obj){ob_utils.VerifyAllowedKeys(obj,["command","redirections","assignments"]);var assignment_desc="";var tokens_desc="";var redirection_desc="";if("assignments"in obj)assignment_desc=Assignments(obj["assignments"])+" ";if("redirections"in obj)redirection_desc=" "+Redirections(obj["redirections"]);if("command"in obj)tokens_desc=Token(true,obj["command"]);var v=assignment_desc+tokens_desc+redirection_desc;v=str_utils.trimWhitespace(v);return v}function Assignments(obj){ob_utils.VerifyArray(obj);var results=[];obj.forEach(function(item){var varname=ob_utils.GetOneKey(item);var value_token=item[varname];var value=Token(false,value_token);var desc=varname+"="+value;results.push(desc)});return results.join(" ")}function Redirections(obj){ob_utils.VerifyArray(obj);return""}function Token(allow_multiple_fields,obj){var results=[];ob_utils.VerifyBoolean(allow_multiple_fields);ob_utils.VerifyArray(obj);obj.forEach(function(item){var token_type=ob_utils.GetOneKey(item);var token_value=item[token_type];var desc="";switch(token_type){case"literal":desc=token_value;break;case"delimiter":desc=" ";break;case"singlequotedstring":desc=SingleQuotedString(token_value);break;case"doublequotedstring":desc=DoubleQuotedString(token_value);break;case"envvar_operation":desc=EnvVarOperation(token_value);break;case"envvar":desc=EnvVar(token_value);break;case"arithmetic":desc=Arithmetic(token_value);break;case"subshell":desc=Subshell(token_value);break;case"backtickshell":desc=BacktickShell(token_value);break;default:throw"Unknown Posix-Shell-Token '"+token_type+'"'}results.push(desc)});return results.join("")}function EnvVar(obj){return"${"+obj+"}"}function EnvVarOperation(obj){ob_utils.VerifyAllowedKeys(obj,["envvar","operation","value"]);var varname=obj["envvar"];var operation=obj["operation"];var value="";if(obj["value"]){value=Token(true,obj["value"])}return"${"+varname+operation+value+"}"}function SingleQuotedString(obj){return"'"+obj+"'"}function DoubleQuotedString(obj){var desc=Token(true,obj);return'"'+desc+'"'}function Subshell(obj){if(obj===null)return"$()";var desc=Command(obj);return"$("+desc+")"}function BacktickShell(obj){if(obj===null)return"``";var desc=Command(obj);return"`"+desc+"`"}function CompoundSubshell(obj){return"("+Command(obj)+")"}function CompoundCurrentshell(obj){return"{"+Command(obj)+" ; }"}function Arithmetic(obj){return"$(("+ArithmeticExpression(obj)+"))"}function ArithmeticExpression(obj){var op=ob_utils.GetOneKey(obj);var value=obj[op];switch(op){case"literal":return value;case"envvar":return EnvVar(value);case"arithmetics_binary_op_list":return ArithmeticBinaryOpList(value);case"arithmetic_unary_op_list":return ArithmeticUnaryOp(value);case"arithmetics_ternary_op":return ArithmeticTernaryOp(value);case"arithmetic":return ArithmeticExpression(value);case"subshell":return Subshell(value);default:throw"Uknown arithmetic operation '"+op+'"'}}function ArithmeticTernaryOp(obj){ob_utils.VerifyArray(obj);var condition=obj[0];var true_value=obj[1];var false_value=obj[2];var cond_desc=ArithmeticExpression(condition);var true_value_desc=ArithmeticExpression(true_value);var false_value_desc=ArithmeticExpression(false_value);return cond_desc+"?"+true_value_desc+":"+false_value_desc}function ArithmeticUnaryOp(obj){ob_utils.VerifyArray(obj);var operator=obj[0];var operand=obj[1];var value=ArithmeticExpression(operand);return operand+value}function ArithmeticBinaryOpList(obj){ob_utils.VerifyArray(obj);var operand=obj[0];var value=ArithmeticExpression(operand);var i=1;while(i<obj.length){var operator=obj[i];var operand2=obj[i+1];i+=2;value=value+operator+ArithmeticExpression(operand2)}return value}return{DescribeShellCommand:Command}}},{"utils/object_utils":37,"utils/string_utils":43}],34:[function(require,module,exports){"use strict";var ob_utils=require("utils/object_utils");var str_utils=require("utils/string_utils");var path_utils=require("utils/path_utils");var ShellState=require("shell/shell_state");var ProcessState=require("os/process_state");module.exports=ShellExecutor;function ShellExecutor(shell_process_state,external_programs){var shell_state=new ShellState;var external_program_callback=null;function set_external_program_callback(callback){external_program_callback=callback}function isBuiltinUtility(cmd){var builtin_commands={alias:1,bc:1,cd:1,command:1,fc:1,fg:1,getopts:1,jobs:1,kill:1,newgrp:1,pwd:1,read:1,umask:1,unalias:1,Wait:1};return cmd in builtin_commands}function isNoSlash(cmd){return cmd.indexOf("/")==-1}function fork_process_state(process_state,new_assignments){var new_ps=process_state.clone();new_ps.stdin=process_state.stdin;new_ps.stdout=process_state.stdout;new_ps.stderr=process_state.stderr;var exported_vars=shell_state.get_exported_variables();for(var varname in exported_vars){new_ps.setenv(varname,exported_vars[varname],true)}for(var varname in new_assignments){new_ps.setenv(varname,new_assignments[varname],true)}return new_ps}function runExternalCommand(process_state,new_assignments,tokens){return exit_code}function ExecCommandTree(obj){return Command(shell_process_state,obj)}function Command(process_state,obj){var type=ob_utils.GetOneKey(obj);var value=obj[type];switch(type){case"SimpleCommand":return SimpleCommand(process_state,value);case"and_or_list":return AndOrList(process_state,value);case"list":return List(process_state,value);case"pipeline":return Pipeline(process_state,value);case"compound_subshell":return CompoundSubshell(process_state,value);case"compound_currentshell":return CompoundCurrentshell(value);case"for_clause":return ForClause(process_state,value);case"while_until_clause":return WhileUntilClause(process_state,value);default:throw"Invalid Command type '"+type+'"'}}function Pipeline(process_state,obj){ob_utils.VerifyArray(obj);var exit_code=0;var orig_stdin=process_state.stdin;var previous_pipe_data=[];for(var i in obj){var cmd=obj[i];var new_ps=process_state.clone();if(orig_stdin){new_ps.stdin=orig_stdin;orig_stdin=null}else{new_ps.stdin.__push_lines(previous_pipe_data)}exit_code=Command(new_ps,cmd);previous_pipe_data=new_ps.stdout.__get_lines();process_state.stderr.put_lines(new_ps.stderr.__get_lines())}process_state.stdout.put_lines(previous_pipe_data);return exit_code}function List(process_state,obj){var exit_code=0;ob_utils.VerifyArray(obj);obj.forEach(function(item){var exec_type=ob_utils.GetOneKey(item);exit_code=Command(process_state,item[exec_type])});return exit_code}function AndOrList(process_state,obj){var exit_code=0;ob_utils.VerifyArray(obj);var cmd=obj[0];exit_code=Command(process_state,cmd);var i=1;while(i<obj.length){var condition=obj[i];var cmd=obj[i+1];i+=2;if(condition==="&&"&&exit_code===0||condition==="||"&&exit_code!==0){exit_code=Command(process_state,cmd)}}return exit_code}function ForClause(process_state,obj){var exit_code=0;ob_utils.VerifyAllowedKeys(obj,["varname","wordlist","action"]);var varname=obj["varname"];var wordlist=Token(process_state,true,obj["wordlist"]);var action=obj["action"];var exit_code;for(var w in wordlist){shell_state.variable_set(process_state,varname,wordlist[w]);exit_code=Command(process_state,action)}return exit_code}function WhileUntilClause(process_state,obj){var exit_code=0;ob_utils.VerifyAllowedKeys(obj,["type","condition","action"]);var type=obj["type"];var condition=obj["condition"];var action=obj["action"];var exit_code;while(true){exit_code=Command(process_state,condition);if(type==="while"&&exit_code!==0||type==="until"&&exit_code===0)break;exit_code=Command(process_state,action)}return exit_code}function SimpleCommand(process_state,obj){ob_utils.VerifyAllowedKeys(obj,["command","redirections","assignments"]);var exit_code=0;var new_assignments={};if("assignments"in obj){new_assignments=Assignments(process_state,obj.assignments)}if(!("command"in obj)){for(var varname in new_assignments){var value=new_assignments[varname];shell_state.variable_set(process_state,varname,value)}return 0}var tokens=Token(process_state,true,obj["command"]);if(tokens.length===0)throw"SimpleCommand: internal error, got empty 'command'";var command_name=tokens[0];if(!isNoSlash(command_name)){throw"Agnostic Emulation error: executables with specific path are not supported ("+command_name+")"}var new_process_state={};if(isBuiltinUtility(command_name)||shell_state.isSpecialBuiltinUtility(command_name)){new_process_state=process_state}else{new_process_state=fork_process_state(process_state,new_assignments)}if("redirections"in obj){setup_input_redirections(new_process_state,obj["redirections"])}if(shell_state.isSpecialBuiltinUtility(command_name)){shell_state.runSpecialBuiltinUtility(new_process_state,tokens)}else if(isBuiltinUtility(command_name)){runBuiltinUtility(tokens)}else{if(!external_program_callback)throw TypeError("external_program_callback is not initialized");exit_code=external_program_callback(new_process_state,command_name,tokens)}if("redirections"in obj){setup_output_redirections(new_process_state,obj["redirections"])}return exit_code}function Assignments(process_state,obj){ob_utils.VerifyArray(obj);var results={};obj.forEach(function(item){var varname=ob_utils.GetOneKey(item);var value_token=item[varname];var value=Token(process_state,false,value_token);results[varname]=value[0]});return results}function Redirections(obj){ob_utils.VerifyArray(obj);return""}function setup_input_redirections(process_state,obj){ob_utils.VerifyArray(obj);for(var i in obj){var redir=obj[i];if(redir.type==="output_file"||redir.type==="append_file"||redir.type==="output_dup_fd")continue;if(redir.type==="input_dup_fd")throw"Agnostic Shell Emulation Error: input redirection from a File Descriptor is not yet supported";if(redir.type==="inout_file")throw"Agnostic Shell Emulation Error: input+output redirection is not yet supported";if(redir.type!=="input_file")throw"Internal error, unknwon redirection type '"+redir.type+"'";if(redir.filedescriptor!==0)throw"Agnostic Shell Emulation Error: input redirection to specific file descriptor (other than 0/STDIN) is not yet supported";var filename=Token(process_state,false,redir.filename).join("");var fl={};try{filename=path_utils.resolve(process_state.getcwd(),filename);fl=process_state.getFS().openfile(filename,false);var content=fl.get_all_lines();process_state.stdin.__set_lines(content)}catch(e){if(e instanceof process_state.getFS().exception){throw e}else{throw e}}}}function setup_output_redirections(process_state,obj){ob_utils.VerifyArray(obj);for(var i in obj){var redir=obj[i];if(redir.type==="input_file"||redir.type==="input_dup_fd")continue;if(redir.type==="inout_file")throw"Agnostic Shell Emulation Error: input+output redirection is not yet supported";if(redir.type==="output_dup_fd"){if(redir.filedescriptor===parseInt(redir.filename,10))continue;if(redir.filedescriptor===2&&redir.filename=="1"){process_state.stdout.put_lines(process_state.stderr.__get_lines())}else if(redir.filedescriptor===1&&redir.filename=="2"){process_state.stderr.put_lines(process_state.stdout.__get_lines())}else throw"Agnostic Shell Emulation Error: output file descriptor redirection is limited to STDOUT(1) and STDERR(2)";continue}if(redir.type!=="output_file"&&redir.type!="append_file")throw"Internal error: unknown redirection type '"+redir.type+"'";var content;if(redir.filedescriptor===1)content=process_state.stdout.__get_lines();else if(redir.filedescriptor===2)content=process_state.stderr.__get_lines();else throw"Agnostic Shell Emulation Error: output redirection is supported only with STDOUT(1) and STDOUT(2) file descriptors";var filename=Token(process_state,false,redir.filename).join("");var fl={};try{filename=path_utils.resolve(process_state.getcwd(),filename);fl=process_state.getFS().openfile(filename,true);if(redir.type==="output_file")fl.truncate();fl.append(content)}catch(e){if(e instanceof process_state.getFS().exception){throw e}else{throw e}}}}function Token(process_state,allow_multiple_fields,obj){var results=[];if(!(process_state instanceof ProcessState))new TypeError("proces_state param is not a ProcessState object");ob_utils.VerifyBoolean(allow_multiple_fields);ob_utils.VerifyArray(obj);obj.forEach(function(item){var token_type=ob_utils.GetOneKey(item);var token_value=item[token_type];var desc="";switch(token_type){case"literal":desc=token_value;break;case"delimiter":desc=" ";break;case"singlequotedstring":desc=SingleQuotedString(process_state,token_value);break;case"doublequotedstring":desc=DoubleQuotedString(process_state,token_value);break;case"envvar_operation":desc=EnvVarOperation(process_state,token_value);break;case"envvar":desc=EnvVar(process_state,token_value);break;case"arithmetic":desc=Arithmetic(process_state,token_value);break;case"subshell":desc=Subshell(process_state,token_value);break;case"backtickshell":desc=BacktickShell(token_value);break;default:throw"Unknown Posix-Shell-Token '"+token_type+'"'}results.push(desc)});var str=results.join("");var fields=[];if(allow_multiple_fields)fields=str_utils.splitShellquotes(str);else fields.push(str);for(var i in fields){fields[i]=str_utils.removeShellquotes(fields[i])}return fields}function EnvVar(process_state,obj){return shell_state.variable_get(process_state,obj)}function EnvVarOperation(process_state,obj){ob_utils.VerifyAllowedKeys(obj,["envvar","operation","value"]);var varname=obj["envvar"];var operation=obj["operation"];var word_value="";if(obj["value"]){word_value=Token(process_state,false,obj["value"])}var is_set=shell_state.variable_exists(process_state,varname);var current_value="";if(is_set)current_value=shell_state.variable_get(process_state,varname);var is_set_but_null=is_set&&current_value.length==0;var is_set_not_null=is_set&&current_value.length>0;switch(operation){case":-":if(is_set_not_null)return current_value;else return word_value;case"-":if(is_set)return current_value;else return word_value;case":=":if(is_set_not_null){return current_value}else{shell_state.variable_set(process_state,varname,word_value);return word_value}case"=":if(is_set){return current_value}else{shell_state.variable_set(process_state,varname,word_value);return word_value}case":?":if(is_set_not_null){return current_value}else{throw"Agnostic error: not yet implemented"}case"?":if(is_set){return current_value}else{throw"Agnostic error: not yet implemented"}case":+":if(is_set_not_null)return word_value;else return"";case"+":if(is_set)return word_value;else return"";case"strlen":return current_value.length;case"##":case"#":case"%":case"%%":var anchor_start=operation=="#"||operation=="##";var anchor_end=operation=="%"||operation=="%%";var greedy=operation=="##"||operation=="%%";word_value=word_value.toString();var result=path_utils.__fnmatch_exec(word_value,current_value,anchor_start,anchor_end,greedy);if(result===null)return current_value;if(anchor_start)return current_value.substr(result.len);else return current_value.substr(0,current_value.length-result.len);default:throw"internal error: unknown word expansion operation '"+operation+"'"}}function SingleQuotedString(process_state,obj){return"'"+obj+"'"}function DoubleQuotedString(process_state,obj){var desc=Token(process_state,false,obj);return'"'+desc+'"'}function Subshell(process_state,obj){if(obj===null)return"";var new_ps=process_state.clone();new_ps.stdin=process_state.stdin;var exit_code=Command(new_ps,obj);process_state.stderr.put_lines(new_ps.stderr.__get_lines());var output=new_ps.stdout.__get_lines().join(" ");return output}function BacktickShell(obj){if(obj===null)return"";var new_ps=process_state.clone();new_ps.stdin=process_state.stdin;var exit_code=Command(new_ps,obj);process_state.stderr.put_lines(new_ps.stderr.__get_lines());var output=new_ps.stdout.__get_lines().join(" ");return output}function CompoundSubshell(process_state,obj){var new_ps=process_state.clone();new_ps.stdin=process_state.stdin;var exit_code=Command(new_ps,obj);process_state.stderr.put_lines(new_ps.stderr.__get_lines());process_state.stdout.put_lines(new_ps.stdout.__get_lines());return exit_code}function CompoundCurrentshell(obj){return"{"+Command(obj)+" ; }"}function Arithmetic(process_state,obj){return ArithmeticExpression(process_state,obj)}function ArithmeticExpression(process_state,obj){var op=ob_utils.GetOneKey(obj);var value=obj[op];var result;switch(op){case"literal":result=value;break;case"envvar":result=EnvVar(process_state,value);break;case"arithmetics_binary_op_list":result=ArithmeticBinaryOpList(process_state,value);break;case"arithmetic_unary_op_list":result=ArithmeticUnaryOp(process_state,value);break;case"arithmetics_ternary_op":result=ArithmeticTernaryOp(process_state,value);break;case"arithmetic":result=ArithmeticExpression(process_state,value);break;case"subshell":result=Subshell(process_state,value);break;default:throw"Uknown arithmetic operation '"+op+'"'}if(result==="")result="0";if(!ob_utils.IsStrictDecimalIntegerValue(result)){result=0}result=parseInt(result,10);return result}function ArithmeticTernaryOp(process_state,obj){ob_utils.VerifyArray(obj);var condition=obj[0];var true_value=obj[1];var false_value=obj[2];var value=ArithmeticExpression(process_state,condition);value=ArithmeticExpression(process_state,value!==0?true_value:false_value);return value}function ArithmeticUnaryOp(process_state,obj){ob_utils.VerifyArray(obj);var operator=obj[0];var operand=obj[1];var value=ArithmeticExpression(process_state,operand);switch(operator){case"~":value=~value;break;case"!":value=value==0?1:0;break;default:throw"Invalid arithmetic unary operator: "+operator}return value}function ArithmeticBinaryOpList(process_state,obj){ob_utils.VerifyArray(obj);var operand=obj[0];var value=ArithmeticExpression(process_state,operand);var i=1;while(i<obj.length){var operator=obj[i];var operand2=obj[i+1];i+=2;var value2=ArithmeticExpression(process_state,operand2);switch(operator){case"+":value+=value2;break;case"-":value-=value2;break;case"*":value*=value2;break;case"/":value=Math.floor(value/value2);break;case"%":value%=value2;break;case"<<":value<<=value2;break;case">>":value>>=value2;break;case">>":value>>=value2;break;case">=":value=value>=value2?1:0;break;case"<=":value=value<=value2?1:0;break;case">":value=value>value2?1:0;break;case"<":value=value<value2?1:0;break;case"==":value=value==value2?1:0;break;case"!=":value=value==value2?0:1;break;case"&":value&=value2;break;case"|":value|=value2;break;case"^":value^=value2;break;case"&&":value=value!==0&&value2!=0?1:0;break;case"||":value=value!==0||value2!=0?1:0;break;default:throw"Invalid arithmetic binary operator: "+operator}}return value}return{ExecuteCommand:ExecCommandTree,__shell_state:shell_state,set_external_program_callback:set_external_program_callback}}},{"os/process_state":4,"shell/shell_state":36,"utils/object_utils":37,"utils/path_utils":38,"utils/string_utils":43}],35:[function(require,module,exports){"use strict";var ob_utils=require("utils/object_utils");var OperatingSystem=require("os/os_state");var FileSystem=require("os/filesystem");var ProcessState=require("os/process_state");var ShellExecutor=require("shell/shell_executor2");var Program_basename=require("programs/basename");var Program_cal=require("programs/cal");var Program_cat=require("programs/cat");var Program_cut=require("programs/cut");var Program_date=require("programs/date");var Program_dirname=require("programs/dirname");var Program_echo=require("programs/echo");var Program_false=require("programs/false");var Program_fortune=require("programs/fortune");var Program_grep=require("programs/grep");var Program_head=require("programs/head");var Program_ls=require("programs/ls");var Program_paste=require("programs/paste");var Program_printf=require("programs/printf");var Program_seq=require("programs/seq");var Program_shell=require("programs/shell");var Program_tac=require("programs/tac");var Program_tail=require("programs/tail");var Program_test=require("programs/test");var Program_true=require("programs/true");var Program_wc=require("programs/wc");var Program_icat=require("programs/icat");module.exports=InteractiveShell;function InteractiveShell(shell_parser){ob_utils.VerifyObject(shell_parser);if(!shell_parser.hasOwnProperty("parse"))throw new Error("shell_parser parameter is invalid (missing 'parse' method)");var programs={basename:Program_basename,cal:Program_cal,cat:Program_cat,cut:Program_cut,date:Program_date,dirname:Program_dirname,echo:Program_echo,false:Program_false,fortune:Program_fortune,grep:Program_grep,head:Program_head,printf:Program_printf,paste:Program_paste,ls:Program_ls,seq:Program_seq,sh:Program_shell,tac:Program_tac,tail:Program_tail,test:Program_test,true:Program_true,wc:Program_wc,icat:Program_icat};this.programs=programs;this.os=new OperatingSystem;this.fs=new FileSystem;this.ps=new ProcessState(this.os,this.fs);var ps=this.ps;this.shell_exec=new ShellExecutor(this.ps);this.shell_parse=shell_parser;this.shell_exec.set_external_program_callback(function(process_state,command_name,argv){if(command_name in programs){var prog_constructor=programs[command_name];var prog_obj=new prog_constructor;return prog_obj.run(process_state,argv)}else{process_state.stderr.put_line("Agnostic Shell Emulation error: unknown command '"+command_name+"'");return 1}});this.ps.stdin.fill_input_callback=function(){ps.stderr.put_line("Agnostic Shell Emulation Warning: The command tried to read from STDIN - returning empty data");return[]}}InteractiveShell.prototype.execute=function(text){var cmd,exit_code;var result={};result.text_command=text;try{cmd=this.shell_parse.parse(text);result.parsed_command=cmd}catch(e){var errmsg="Shell-Parser failed to parse command '"+text+"'";console.error(errmsg);console.error(e);result.exit_code=1;result.stderr=[errmsg];return result}try{exit_code=this.shell_exec.ExecuteCommand(cmd)}catch(e){var errmsg="Shell-Executor failed on command '"+text+"'";console.error(errmsg);console.error(e);result.exit_code=1;result.stderr=[errmsg];return result}var stdout=this.ps.stdout.__get_lines();var stderr=this.ps.stderr.__get_lines();result.exit_code=exit_code;if(stdout.length>0)result.stdout=stdout;if(stderr.length>0)result.stderr=stderr;return result}},{"os/filesystem":2,"os/os_state":3,"os/process_state":4,"programs/basename":7,"programs/cal":8,"programs/cat":9,"programs/cut":10,"programs/date":11,"programs/dirname":12,"programs/echo":13,"programs/false":14,"programs/fortune":15,"programs/grep":17,"programs/head":18,"programs/icat":19,"programs/ls":20,"programs/paste":21,"programs/printf":22,"programs/seq":24,"programs/shell":25,"programs/tac":26,"programs/tail":27,"programs/test":28,"programs/true":29,"programs/wc":30,"shell/shell_executor2":34,"utils/object_utils":37}],36:[function(require,module,exports){"use strict";var ob_utils=require("utils/object_utils");var str_utils=require("utils/string_utils");var ProcessState=require("os/process_state");module.exports=ShellState;var single_letter_options={a:"allexport",C:"noclobber",e:"errexit",f:"noglob",n:"noexec",m:"monitor",b:"notify",u:"nounset",v:"verbose",x:"xtrace"};function ShellState(){this.interactive=false;this.options={errexit:false,noglob:false,ignoreeof:false,interactive:false,monitor:false,noexec:false,stdin:false,xtrace:false,verbose:false,vi:false,emacs:false,noclobber:false,allexport:false,notify:false,nounset:false,nolog:false,debug:false};this.variables={}}ShellState.prototype.isSpecialBuiltinUtility=function(name){switch(name){case"break":case":":case"continue":case".":case"eval":case"exec":case"exit":case"export":case"readonly":case"return":case"set":case"shift":case"times":case"trap":case"unset":return true;default:return false}};ShellState.prototype.runSpecialBuiltinUtility=function(process_state,argv){if(!(process_state instanceof ProcessState))throw new TypeError("process_state is not a ProcessState class");ob_utils.VerifyArray(argv);var name=argv.shift();switch(name){case":":return this.colon(process_state,argv);case"set":return this.set(process_state,argv);case"export":return this._export(process_state,argv);case"readonly":return this.readonly(process_state,argv);case"unset":return this.unset(process_state,argv);default:process_state.stderr.put_line("Agnostic Shell Error: Special built-it utility '"+name+"' is not yet implemented");return 1}};ShellState.prototype.colon=function(process_state,argv){return 0};ShellState.prototype.set=function(process_state,argv){if(argv.length===0)return this.set_print_vars(process_state);if(argv.length===1&&argv[0]==="-o")return this.set_print_settings(process_state,false);if(argv.length===1&&argv[0]==="+o")return this.set_print_settings(process_state,true);process_state.stderr.put_line("Emulation error: set not fully implemented yet");return 1};ShellState.prototype.set_print_vars=function(process_state){var varnames=Object.keys(this.variables);varnames.sort();for(var i in varnames){var varname=varnames[i];var value=this.variables[varname].value;process_state.stdout.put_line(varname+"='"+value+"'")}return 0};ShellState.prototype.set_print_settings=function(process_state,strict_format){for(var option in this.options){var value=this.options[option];var msg;if(strict_format)msg="set "+(value?"-o ":"+o ")+option;else msg=option+"\t\t"+(value?"on":"off");process_state.stdout.put_line(msg)}return 0};ShellState.prototype._export=function(process_state,argv){if(argv.length===0||argv.length===1&&argv[0]==="-p")return this.export_print_vars(process_state);for(var i in argv){var item=str_utils.parse_var_assignment(argv[i]);if(!item.valid){process_state.stderr.put_line("export: '"+argv[i]+"': not a valid identifier");return 1}if(item.assignment){if(this.variable_set(process_state,item.name,item.value)!=0)return 1}this.variable_mark_exported(process_state,item.name)}return 0};ShellState.prototype.export_print_vars=function(process_state){var varnames=Object.keys(this.variables);varnames.sort();for(var i in varnames){var varname=varnames[i];var exported=this.variables[varname].exported;if(!exported)continue;var value=this.variables[varname].value;process_state.stdout.put_line("export "+varname+"='"+value+"'")}return 0};ShellState.prototype.get_exported_variables=function(){var result={};var varnames=Object.keys(this.variables);varnames.sort();for(var i in varnames){var varname=varnames[i];var exported=this.variables[varname].exported;if(!exported)continue;var value=this.variables[varname].value;result[varname]=value}return result};ShellState.prototype.readonly=function(process_state,argv){if(argv.length===0||argv.length===1&&argv[0]==="-p")return this.readonly_print_vars(process_state);for(var i in argv){var item=str_utils.parse_var_assignment(argv[i]);if(!item.valid){process_state.stderr.put_line("readonly: '"+argv[i]+"': not a valid identifier");return 1}if(item.assignment){if(this.variable_set(process_state,item.name,item.value)!=0)return 1}this.variable_mark_readonly(process_state,item.name)}return 0};ShellState.prototype.readonly_print_vars=function(process_state){var varnames=Object.keys(this.variables);varnames.sort();for(var i in varnames){var varname=varnames[i];var readonly=this.variables[varname].readonly;if(!readonly)continue;var value=this.variables[varname].value;process_state.stdout.put_line("readonly "+varname+"='"+value+"'")}return 0};ShellState.prototype.unset=function(process_state,argv){if(argv.length===0)return 0;for(var i in argv){var varname=argv[i];if(!str_utils.valid_varname(varname)){process_state.stderr.put_line("Agnostic Shell: variable '"+varname+"' is read-only");return 1}this.variable_unset(process_state,varname)}return 0};ShellState.prototype.variable_exists=function(process_state,varname){ob_utils.VerifyString(varname);if(!str_utils.valid_varname(varname))throw TypeError("Invalid variable name '"+varname+"'");return varname in this.variables};ShellState.prototype.variable_get=function(process_state,varname){ob_utils.VerifyString(varname);if(!str_utils.valid_varname(varname))throw TypeError("Invalid variable name '"+varname+"'");if(varname in this.variables){return this.variables[varname].value}if(!this.options.nounset)return"";process_state.stderr.put_line("Agnostic Shell: variable '"+varname+"' not set");return""};ShellState.prototype.variable_is_readonly=function(varname){ob_utils.VerifyString(varname);var b=varname in this.variables&&this.variables[varname].readonly;return b};ShellState.prototype.variable_set=function(process_state,varname,value){ob_utils.VerifyString(varname);if(!str_utils.valid_varname(varname))throw TypeError("Invalid variable name '"+varname+"'");if(this.variable_is_readonly(varname)){process_state.stderr.put_line("Agnostic Shell: variable '"+varname+"' is read-only");return 1}if(varname in this.variables){this.variables[varname].value=value}else{this.variables[varname]={value:value,readonly:false,exported:this.options.allexport}}if(this.options.allexport||this.variables[varname].exported){}return 0};ShellState.prototype.variable_unset=function(process_state,varname){ob_utils.VerifyString(varname);if(!str_utils.valid_varname(varname))throw TypeError("Invalid variable name '"+varname+"'");if(!(varname in this.variables))return 0;if(this.variable_is_readonly(varname)){process_state.stderr.put_line("Agnostic Shell: variable '"+varname+"' is read-only");return 1}if(this.options.allexport||this.variables[varname].exported){}delete this.variables[varname];return 0};ShellState.prototype.variable_mark_readonly=function(process_state,varname){ob_utils.VerifyString(varname);if(varname==="")throw TypeError("varname is empty");if(!(varname in this.variables))throw TypeError("varname '"+varname+"' does not exist");this.variables[varname].readonly=true};ShellState.prototype.variable_mark_exported=function(process_state,varname){ob_utils.VerifyString(varname);if(varname==="")throw TypeError("varname is empty");if(!(varname in this.variables))throw TypeError("varname '"+varname+"' does not exist");this.variables[varname].exported=true}},{"os/process_state":4,"utils/object_utils":37,"utils/string_utils":43}],37:[function(require,module,exports){module.exports=new ObjectUtils;function ObjectUtils(){function IsObjectEmpty(obj){return Object.keys(obj).length===0}this.IsObjectEmpty=IsObjectEmpty;function GetObjectType(obj){var s=Object.prototype.toString.call(obj);return s}this.GetObjectType=GetObjectType;function IsNumber(obj){var s=GetObjectType(obj);return s==="[object Number]"}this.IsNumber=IsNumber;function VerifyNumber(obj){if(!IsNumber(obj))throw new TypeError("variable is not a number")}this.VerifyNumber=VerifyNumber;function IsInteger(obj){return IsNumber(obj)&&Math.floor(obj)==obj}this.IsInteger=IsInteger;function VerifyInteger(obj){if(!IsInteger(obj))throw new TypeError("variable is not an Integer")}this.VerifyInteger=VerifyInteger;function IsBoolean(obj){var s=GetObjectType(obj);return s==="[object Boolean]"}this.IsBoolean=IsBoolean;function VerifyBoolean(obj){if(!IsBoolean(obj))throw new TypeError("variable is not boolean")}this.VerifyBoolean=VerifyBoolean;function IsString(obj){var s=GetObjectType(obj);return s==="[object String]"}this.IsString=IsString;function VerifyString(obj){if(!IsString(obj))throw new TypeError("variable is not string")}this.VerifyString=VerifyString;function IsStringFloatValue(num){if(IsNumber(num))return true;if(IsString(num)&&(/^[ \t]*[-+]?[0-9]*\.?[0-9]+$/.test(num)||/^[ \t]*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/.test(num)))return true;return false}this.IsStrictFloatValue=IsStringFloatValue;function IsStrictDecimalIntegerValue(num){if(IsInteger(num))return true;if(IsString(num)&&/^[ \t]*[-+]?[0-9]+$/.test(num))return true;return false}this.IsStrictDecimalIntegerValue=IsStrictDecimalIntegerValue;function IsObject(obj){var s=GetObjectType(obj);return s==="[object Object]"}this.IsObject=IsObject;function VerifyObject(obj){if(!IsObject(obj))throw new TypeError("'obj' is not a valid object: "+JSON.stringify(obj))}this.VerifyObject=VerifyObject;function IsArray(obj){var s=GetObjectType(obj);return s==="[object Array]"}this.IsArray=IsArray;function VerifyArray(obj){if(!IsArray(obj))throw new TypeError("'obj' is not a valid array:"+JSON.stringify(obj))}this.VerifyArray=VerifyArray;function VerifyAllowedKeys(obj,allowed_keys_array){VerifyObject(obj);var allowed_keys={};for(var i in allowed_keys_array){allowed_keys[allowed_keys_array[i]]=1}for(var key in obj){var ok=key in allowed_keys;if(!(key in allowed_keys))throw new TypeError(":'obj' contains disallowed key '"+key+"'"+" allowed-keys = '"+allowed_keys_array.toString()+"': "+JSON.stringify(obj))}}this.VerifyAllowedKeys=VerifyAllowedKeys;function VerifyOneKey(obj){VerifyObject(obj);if(Object.keys(obj).length==0)throw new TypeError("'obj' is empty");if(Object.keys(obj).length>1)throw new TypeError("'obj' contains more than one key: "+JSON.stringify(obj))}this.VerifyOneKey=VerifyOneKey;function GetOneKey(obj){VerifyOneKey(obj);for(var key in obj){return key}}this.GetOneKey=GetOneKey}},{}],38:[function(require,module,exports){"use strict";var str_utils=require("utils/string_utils");module.exports=new path_utils;function path_utils(){function normalizeArray(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==="."){parts.splice(i,1)}else if(last===".."){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up--;up){parts.unshift("..")}}return parts}function isAbsolute(path){return path.charAt(0)==="/"}function canonicalize(path){var isAbs=isAbsolute(path),trailingSlash=path[path.length-1]==="/",segments=path.split("/"),nonEmptySegments=[];for(var i=0;i<segments.length;i++){if(segments[i]){nonEmptySegments.push(segments[i])}}path=normalizeArray(nonEmptySegments,!isAbs).join("/");if(!path&&!isAbs){path="."}return(isAbs?"/":"")+path}function resolve(cwd_abs_path,new_path){if(!isAbsolute(cwd_abs_path))throw new Error("resolve: cwd_abs_path is not absolute path: '"+cwd_abs_path+"'");new_path=canonicalize(new_path);if(isAbsolute(new_path))return new_path;var path=canonicalize(cwd_abs_path+"/"+new_path);return path}function basename(path,suffix){if(path===null||path===undefined||path===""){return"."}if(str_utils.firstNotOf(path,"/")===-1)return"/";while(path[path.length-1]==="/"){path=path.slice(0,-1)}var i=path.lastIndexOf("/");if(i!==-1)path=path.slice(i+1);if(suffix!==undefined&&suffix!==null&&suffix.length>0&&suffix!==path&&path.slice(-suffix.length)===suffix)path=path.slice(0,-suffix.length);return path}function dirname(path){if(path===undefined||path===null||path.length===0)return".";if(path==="//")return path;if(str_utils.firstNotOf(path,"/")===-1)return"/";while(path[path.length-1]==="/"){path=path.slice(0,-1)}if(path.indexOf("/")===-1)return".";while(path[path.length-1]!=="/"){path=path.slice(0,-1)}while(path[path.length-1]==="/"){path=path.slice(0,-1)}if(path.length===0)return"/";return path}function filemode_to_string(mode){var result="";result+=mode&256?"r":"-";result+=mode&128?"w":"-";result+=mode&64?"x":"-";result+=mode&32?"r":"-";result+=mode&16?"w":"-";result+=mode&8?"x":"-";result+=mode&4?"r":"-";result+=mode&2?"w":"-";result+=mode&1?"x":"-";return result}function filetype_to_string(type){switch(type){case"file":return"-";case"directory":return"d";default:return"?"}}function __fnmatch_exec(pattern,string,anchor_start,anchor_end,greedy){var fix_pattern=greedy?str_utils.regex_fnmatch_longest_to_JS(pattern):str_utils.regex_fnmatch_shortest_to_JS(pattern);if(anchor_start)fix_pattern="^"+fix_pattern;if(anchor_end&&!greedy)fix_pattern=".*("+fix_pattern+")";if(anchor_end)fix_pattern+="$";var re=new RegExp(fix_pattern);var r=re.exec(string);if(1){console.log("string  = '"+string+"'");console.log("pattern = '"+pattern+"'");console.log("fix_pattern = '"+fix_pattern+"'");console.log("match = ",JSON.stringify(r,undefined,2))}if(r===null)return null;var pos=r.index;var len=r[0].length;var str=r[0];if(anchor_end&&!greedy){len=r[1].length;str=r[1];pos=string.length-len}return{pos:pos,len:len,str:str}}function __fnmatch_test(pattern,string,anchor_start,anchor_end,greedy){return __fnmatch_exec(pattern,string,anchor_start,anchor_end,greedy)!==null}this.dirname=dirname;this.basename=basename;this.canonicalize=canonicalize;this.isAbsolute=isAbsolute;this.filetype_to_string=filetype_to_string;this.filemode_to_string=filemode_to_string;this.resolve=resolve;this.__fnmatch_exec=__fnmatch_exec;this.__fnmatch_test=__fnmatch_test}},{"utils/string_utils":43}],39:[function(require,module,exports){"use strict";module.exports=goBasicParser;function ASSERT(value,msg){if(!value){var txt="getopt assertion failed";if(msg)txt+=" ("+msg+")";throw new Error(msg)}}function goBasicParser(optstring,argv){var ii;ASSERT(optstring||optstring==="","optstring is required");ASSERT(optstring.constructor===String,"optstring must be a string");ASSERT(argv,"argv is required");ASSERT(argv.constructor===Array,"argv must be an array");this.gop_argv=new Array(argv.length);this.gop_options={};this.gop_aliases={};this.gop_optind=0;this.gop_subind=0;for(ii=0;ii<argv.length;ii++){if(argv[ii].constructor!==String)throw new Error("getopt: argv must be string array");this.gop_argv[ii]=argv[ii]}this.parseOptstr(optstring)}goBasicParser.prototype.parseOptstr=function(optstr){var chr,cp,alias,arg,ii;ii=0;if(optstr.length>0&&optstr[0]==":"){this.gop_silent=true;ii++}else{this.gop_silent=false}while(ii<optstr.length){chr=optstr[ii];arg=false;if(!/^[\w\d\u1000-\u1100]$/.test(chr))throw new Error("getopt: invalid optstring: only alphanumeric "+"characters may be used as options: "+chr);if(ii+1<optstr.length&&optstr[ii+1]==":"){arg=true;ii++}this.gop_options[chr]=arg;while(ii+1<optstr.length&&optstr[ii+1]=="("){ii++;cp=optstr.indexOf(")",ii+1);if(cp==-1)throw new Error("invalid optstring: missing "+'")" to match "(" at char '+ii);alias=optstr.substring(ii+1,cp);this.gop_aliases[alias]=chr;ii=cp}ii++}};goBasicParser.prototype.optind=function(){return this.gop_optind};goBasicParser.prototype.getopt=function(){if(this.gop_optind>=this.gop_argv.length)return undefined;var arg=this.gop_argv[this.gop_optind];if(this.gop_subind===0){if(arg=="-"||arg===""||arg[0]!="-")return undefined;if(arg=="--"){this.gop_optind++;this.gop_subind=0;return undefined}if(arg[1]=="-")return this.getoptLong();this.gop_subind++;ASSERT(this.gop_subind<arg.length)}return this.getoptShort()};goBasicParser.prototype.getoptShort=function(){var arg,chr;ASSERT(this.gop_optind<this.gop_argv.length);arg=this.gop_argv[this.gop_optind];ASSERT(this.gop_subind<arg.length);chr=arg[this.gop_subind];if(++this.gop_subind>=arg.length){this.gop_optind++;this.gop_subind=0}if(!(chr in this.gop_options))return this.errInvalidOption(chr);if(!this.gop_options[chr])return{option:chr};return this.getoptArgument(chr)};goBasicParser.prototype.getoptLong=function(){var arg,alias,chr,eq;ASSERT(this.gop_subind===0);ASSERT(this.gop_optind<this.gop_argv.length);arg=this.gop_argv[this.gop_optind];ASSERT(arg.length>2&&arg[0]=="-"&&arg[1]=="-");eq=arg.indexOf("=");alias=arg.substring(2,eq==-1?arg.length:eq);if(!(alias in this.gop_aliases))return this.errInvalidOption(alias);chr=this.gop_aliases[alias];ASSERT(chr in this.gop_options);if(!this.gop_options[chr]){if(eq!=-1)return this.errExtraArg(alias);this.gop_optind++;return{option:chr}}if(eq==-1)this.gop_optind++;else this.gop_subind=eq+1;return this.getoptArgument(chr)};goBasicParser.prototype.getoptArgument=function(chr){var arg;if(this.gop_optind>=this.gop_argv.length)return this.errMissingArg(chr);arg=this.gop_argv[this.gop_optind].substring(this.gop_subind);this.gop_optind++;this.gop_subind=0;return{option:chr,optarg:arg}};goBasicParser.prototype.errMissingArg=function(chr){var errmsg="option requires an argument -- "+chr;if(this.gop_silent)return{option:"?",optopt:chr,error:true,errmsg:errmsg};console.warn(errmsg);return{option:"?",optopt:chr,error:true}};goBasicParser.prototype.errInvalidOption=function(chr){var errmsg="illegal option -- "+chr;if(!this.gop_silent)console.warn(errmsg);return{option:"?",optopt:chr,error:true,errmsg:errmsg}};goBasicParser.prototype.errExtraArg=function(chr){var errmsg="option expects no argument -- "+chr;if(!this.gop_silent)console.warn(errmsg);return{option:"?",optopt:chr,error:true,errmsg:errmsg}}},{}],40:[function(require,module,exports){"use strict";var passwd=["root:x:0:0:root:/root:/bin/bash","daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin","bin:x:2:2:bin:/bin:/usr/sbin/nologin","sys:x:3:3:sys:/dev:/usr/sbin/nologin","sync:x:4:65534:sync:/bin:/bin/sync","games:x:5:60:games:/usr/games:/usr/sbin/nologin","man:x:6:12:man:/var/cache/man:/usr/sbin/nologin","lp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin","mail:x:8:8:mail:/var/mail:/usr/sbin/nologin","news:x:9:9:news:/var/spool/news:/usr/sbin/nologin","uucp:x:10:10:uucp:/var/spool/uucp:/usr/sbin/nologin","proxy:x:13:13:proxy:/bin:/usr/sbin/nologin","www-data:x:33:33:www-data:/var/www:/usr/sbin/nologin","backup:x:34:34:backup:/var/backups:/usr/sbin/nologin","list:x:38:38:Mailing List Manager:/var/list:/usr/sbin/nologin","nobody:x:65534:65534:nobody:/nonexistent:/usr/sbin/nologin","syslog:x:101:103::/home/syslog:/bin/false"];var mammals=["mammal\tbody\tbrain","Cow\t465\t423","Goat\t27.66\t115","Verbet\t4.19\t58","Chinchilla\t0.425\t6.4","Donkey\t187.1\t419","Horse\t521\t655","Cat\t3.3\t25.6","Galago\t0.2\t5","Genet\t1.41\t17.5","Giraffe\t529\t680","Gorilla\t207\t406","Human\t62\t1320","Kangaroo\t35\t56","Mouse\t0.023\t0.4","Okapi\t250\t490","Rabbit\t2.5\t12.1","Sheep\t55.5\t175","Jaguar\t100\t157","Chimpanzee\t52.16\t440","Baboon\t10.55\t179.5","Raccoon\t4.288\t39.2","Rat\t0.28\t1.9","Pig\t192\t180","Echidna\t3\t25","Tenrec\t0.9\t2.6","Phalanger\t1.62\t11.4"];var nobel=["Year,Physics,Chemistry,Physiologyor Medicine,Literature,Peace,Economics","1901,Wilhelm Rentgen,Jacobus Henricus van 't Hoff,Emil Adolf von Behring,Sully Prudhomme,Henry Dunant; Frederic Passy,None","1902,Hendrik Lorentz; Pieter Zeeman,Hermann Emil Fischer,Ronald Ross,Theodor Mommsen,Elie Ducommun; Charles Albert Gobat,None","1903,Henri Becquerel; Pierre Curie; Marie Curie,Svante Arrhenius,Niels Ryberg Finsen,Bjornstjerne Bjornson,Randal Cremer,None","1904,Lord Rayleigh,William Ramsay,Ivan Pavlov,Frederic Mistral; Jose Echegaray,Institut de Droit International,None","1905,Philipp Lenard,Adolf von Baeyer,Robert Koch,Henryk Sienkiewicz,Bertha von Suttner,None","1906,J. J. Thomson,Henri Moissan,Camillo Golgi; Santiago Ramon y Cajal,Giosue Carducci,Theodore Roosevelt,None","1907,Albert Abraham Michelson,Eduard Buchner,Charles Louis Alphonse Laveran,Rudyard Kipling,Ernesto Teodoro Moneta; Louis Renault,None","1908,Gabriel Lippmann,Ernest Rutherford,Elie Metchnikoff; Paul Ehrlich,Rudolf Christoph Eucken,Klas Pontus Arnoldson; Fredrik Bajer,None","1909,Karl Ferdinand Braun; Guglielmo Marconi,Wilhelm Ostwald,Emil Theodor Kocher,Selma Lagerlof,Auguste Marie Francois Beernaert; Paul-Henri-Benjamin d'Estournelles de Constant,None","1910,Johannes Diderik van der Waals,Otto Wallach,Albrecht Kossel,Paul Heyse,International Peace Bureau,None","1911,Wilhelm Wien,Marie Curie,Allvar Gullstrand,Maurice Maeterlinck,Tobias Asser; Alfred Hermann Fried,None","1912,Gustaf Dalen,Victor Grignard; Paul Sabatier,Alexis Carrel,Gerhart Hauptmann,Elihu Root,None","1913,Heike Kamerlingh Onnes,Alfred Werner,Charles Richet,Rabindranath Tagore,Henri La Fontaine,None","1914,Max von Laue,Theodore William Richards,Robert Barany,None,None,None","1915,William Henry Bragg; William Lawrence Bragg,Richard Willstatter,None,Romain Rolland,None,None","1916,None,None,None,Verner von Heidenstam,None,None","1917,Charles Glover Barkla,None,None,Karl Adolph Gjellerup; Henrik Pontoppidan,International Committee of the Red Cross,None","1918,Max Planck,Fritz Haber,None,None,None,None","1919,Johannes Stark,None,Jules Bordet,Carl Spitteler,Woodrow Wilson,None","1920,Charles Edouard Guillaume,Walther Nernst,August Krogh,Knut Hamsun,Leon Bourgeois,None","1921,Albert Einstein,Frederick Soddy,None,Anatole France,Hjalmar Branting; Christian Lous Lange,None","1922,Niels Bohr,Francis William Aston,Archibald Hill; Otto Fritz Meyerhof,Jacinto Benavente,Fridtjof Nansen,None","1923,Robert Andrews Millikan,Fritz Pregl,Frederick Banting; John James Rickard Macleod,W. B. Yeats,None,None","1924,Manne Siegbahn,None,Willem Einthoven,Wladyslaw Reymont,None,None","1925,James Franck; Gustav Ludwig Hertz,Richard Adolf Zsigmondy,None,George Bernard Shaw,Austen Chamberlain; Charles G. Dawes,None","1926,Jean Baptiste Perrin,Theodor Svedberg,Johannes Fibiger,Grazia Deledda,Aristide Briand; Gustav Stresemann,None","1927,Arthur Compton; Charles Thomson Rees Wilson,Heinrich Otto Wieland,Julius Wagner-Jauregg,Henri Bergson,Ferdinand Buisson; Ludwig Quidde,None","1928,Owen Willans Richardson,Adolf Otto Reinhold Windaus,Charles Nicolle,Sigrid Undset,None,None","1929,Louis de Broglie,Arthur Harden; Hans von Euler-Chelpin,Christiaan Eijkman; Frederick Gowland Hopkins,Thomas Mann,Frank B. Kellogg,None","1930,C. V. Raman,Hans Fischer,Karl Landsteiner,Sinclair Lewis,Nathan Soederblom,None","1931,None,Carl Bosch; Friedrich Bergius,Otto Heinrich Warburg,Erik Axel Karlfeldt,Jane Addams; Nicholas Murray Butler,None","1932,Werner Heisenberg,Irving Langmuir,Charles Scott Sherrington; Edgar Adrian,John Galsworthy,None,None","1933,Erwin Schroedinger; Paul Dirac,None,Thomas Hunt Morgan,Ivan Bunin,Norman Angell,None","1934,None,Harold Urey,George Whipple; George Minot; William P. Murphy,Luigi Pirandello,Arthur Henderson,None","1935,James Chadwick,Frederic Joliot-Curie; Irene Joliot-Curie,Hans Spemann,None,Carl von Ossietzky,None","1936,Victor Francis Hess; Carl David Anderson,Peter Debye,Henry Hallett Dale; Otto Loewi,Eugene O'Neill,Carlos Saavedra Lamas,None","1937,Clinton Davisson; George Paget Thomson,Norman Haworth; Paul Karrer,Albert Szent-Gyoergyi,Roger Martin du Gard,The Viscount Cecil of Chelwood,None","1938,Enrico Fermi,Richard Kuhn[A],Corneille Heymans,Pearl S. Buck,Nansen International Office For Refugees,None","1939,Ernest Lawrence,Adolf Butenandt;[A] Leopold Ruzicka,Gerhard Domagk[A],Frans Eemil Sillanpaa,None,None","1940,None,None,None,None,None,None","1941,None,None,None,None,None,None","1942,None,None,None,None,None,None","1943,Otto Stern,George de Hevesy,Henrik Dam; Edward Adelbert Doisy,None,None,None","1944,Isidor Isaac Rabi,Otto Hahn,Joseph Erlanger; Herbert Spencer Gasser,Johannes Vilhelm Jensen,International Committee of the Red Cross,None","1945,Wolfgang Pauli,Artturi Ilmari Virtanen,Alexander Fleming; Ernst Boris Chain; Howard Florey,Gabriela Mistral,Cordell Hull,None","1946,Percy Williams Bridgman,James B. Sumner; John Howard Northrop; Wendell Meredith Stanley,Hermann Joseph Muller,Hermann Hesse,Emily Greene Balch; John Mott,None","1947,Edward Victor Appleton,Robert Robinson,Carl Ferdinand Cori; Gerty Cori; Bernardo Houssay,Andre Gide,Friends Service Council; American Friends Service Committee,None","1948,Patrick Blackett,Arne Tiselius,Paul Hermann Muller,T. S. Eliot,None[B],None","1949,Hideki Yukawa,William Giauque,Walter Rudolf Hess; Antonio Egas Moniz,William Faulkner,John Boyd Orr,None","1950,C. F. Powell,Otto Diels; Kurt Alder,Philip Showalter Hench; Edward Calvin Kendall; Tadeus Reichstein,Bertrand Russell,Ralph Bunche,None","1951,John Cockcroft; Ernest Walton,Edwin McMillan; Glenn T. Seaborg,Max Theiler,Par Lagerkvist,Leon Jouhaux,None","1952,Felix Bloch; Edward Mills Purcell,Archer John Porter Martin; Richard Laurence Millington Synge,Selman Waksman,Francois Mauriac,Albert Schweitzer,None","1953,Frits Zernike,Hermann Staudinger,Hans Adolf Krebs; Fritz Albert Lipmann,Winston Churchill,George Marshall,None","1954,Max Born; Walther Bothe,Linus Pauling,John Franklin Enders; Frederick Chapman Robbins; Thomas Huckle Weller,Ernest Hemingway,United Nations High Commissioner for Refugees,None","1955,Willis Lamb; Polykarp Kusch,Vincent du Vigneaud,Hugo Theorell,Halldor Laxness,None,None","1956,John Bardeen; Walter Houser Brattain; William Shockley,Cyril Norman Hinshelwood; Nikolay Semyonov,Andre Frederic Cournand; Werner Forssmann; Dickinson W. Richards,Juan Ramon Jimenez,None,None","1957,Chen Ning Yang; Tsung-Dao Lee,The Lord Todd,Daniel Bovet,Albert Camus,Lester B. Pearson,None","1958,Pavel Cherenkov; Ilya Frank; Igor Tamm,Frederick Sanger,George Wells Beadle; Edward Lawrie Tatum; Joshua Lederberg,Boris Pasternak[C],Dominique Pire,None","1959,Emilio G. Segre; Owen Chamberlain,Jaroslav Heyrovsky,Arthur Kornberg; Severo Ochoa,Salvatore Quasimodo,Philip Noel-Baker,None","1960,Donald A. Glaser,Willard Libby,Frank Macfarlane Burnet; Peter Medawar,Saint-John Perse,Albert Lutuli,None","1961,Robert Hofstadter; Rudolf Moessbauer,Melvin Calvin,Georg von Bekesy,Ivo Andric,Dag Hammarskjoeld,None","1962,Lev Landau,Max Perutz; John Kendrew,Francis Crick; James D. Watson; Maurice Wilkins,John Steinbeck,Linus Pauling,None","1963,Eugene Wigner; Maria Goeppert-Mayer; J. Hans D. Jensen,Karl Ziegler; Giulio Natta,John Eccles; Alan Lloyd Hodgkin; Andrew Huxley,Giorgos Seferis,International Committee of the Red Cross; League of Red Cross societies,None","1964,Charles Hard Townes; Nikolay Basov; Alexander Prokhorov,Dorothy Hodgkin,Konrad Emil Bloch; Feodor Felix Konrad Lynen,Jean-Paul Sartre[D],Martin Luther King, Jr.,None","1965,Sin-Itiro Tomonaga; Julian Schwinger; Richard Feynman,Robert Burns Woodward,Francois Jacob; Andre Michel Lwoff; Jacques Monod,Mikhail Sholokhov,United Nations International Children's Emergency Fund (UNICEF),None","1966,Alfred Kastler,Robert S. Mulliken,Francis Peyton Rous; Charles Brenton Huggins,Shmuel Yosef Agnon; Nelly Sachs,None,None","1967,Hans Bethe,Manfred Eigen; Ronald George Wreyford Norrish; George Porter,Ragnar Granit; Haldan Keffer Hartline; George Wald,Miguel Angel Asturias,None,None","1968,Luis Walter Alvarez,Lars Onsager,Robert W. Holley; Har Gobind Khorana; Marshall Warren Nirenberg,Yasunari Kawabata,Rene Cassin,None","1969,Murray Gell-Mann,Derek Barton; Odd Hassel,Max Delbruck; Alfred Hershey; Salvador Luria,Samuel Beckett,International Labour Organization,Ragnar Frisch; Jan Tinbergen","1970,Hannes Alfven; Louis Neel,Luis Federico Leloir,Julius Axelrod; Ulf von Euler; Bernard Katz,Aleksandr Solzhenitsyn,Norman Borlaug,Paul Samuelson","1971,Dennis Gabor,Gerhard Herzberg,Earl Wilbur Sutherland, Jr.,Pablo Neruda,Willy Brandt,Simon Kuznets","1972,John Bardeen; Leon Cooper; John Robert Schrieffer,Christian B. Anfinsen; Stanford Moore; William Howard Stein,Gerald Edelman; Rodney Robert Porter,Heinrich Boell,None,John Hicks; Kenneth Arrow","1973,Leo Esaki; Ivar Giaever; Brian David Josephson,Ernst Otto Fischer; Geoffrey Wilkinson,Karl von Frisch; Konrad Lorenz; Nikolaas Tinbergen,Patrick White,Henry Kissinger; Le Duc Tho[E],Wassily Leontief","1974,Martin Ryle; Antony Hewish,Paul Flory,Albert Claude; Christian de Duve; George Emil Palade,Eyvind Johnson; Harry Martinson,Sean MacBride; Eisaku Sato,Gunnar Myrdal; Friedrich Hayek","1975,Aage Bohr; Ben Roy Mottelson; James Rainwater,John Cornforth; Vladimir Prelog,David Baltimore; Renato Dulbecco; Howard Martin Temin,Eugenio Montale,Andrei Sakharov,Leonid Kantorovich; Tjalling Koopmans","1976,Burton Richter; Samuel C. C. Ting,William Lipscomb,Baruch Samuel Blumberg; Daniel Carleton Gajdusek,Saul Bellow,Betty Williams; Mairead Maguire,Milton Friedman","1977,Philip Warren Anderson; Nevill Francis Mott; John Hasbrouck Van Vleck,Ilya Prigogine,Roger Guillemin; Andrew Schally; Rosalyn Sussman Yalow,Vicente Aleixandre,Amnesty International,Bertil Ohlin; James Meade","1978,Pyotr Kapitsa; Arno Allan Penzias; Robert Woodrow Wilson,Peter D. Mitchell,Werner Arber; Daniel Nathans; Hamilton O. Smith,Isaac Bashevis Singer,Anwar Sadat; Menachem Begin,Herbert A. Simon","1979,Sheldon Lee Glashow; Abdus Salam; Steven Weinberg,Herbert C. Brown; Georg Wittig,Allan McLeod Cormack; Godfrey Hounsfield,Odysseas Elytis,Mother Teresa,Theodore Schultz; Arthur Lewis","1980,James Cronin; Val Logsdon Fitch,Paul Berg; Walter Gilbert; Frederick Sanger,Baruj Benacerraf; Jean Dausset; George Davis Snell,Czeslaw Milosz,Adolfo Perez Esquivel,Lawrence Klein","1981,Nicolaas Bloembergen; Arthur Leonard Schawlow; Kai Siegbahn,Kenichi Fukui; Roald Hoffmann,Roger Wolcott Sperry; David H. Hubel; Torsten Wiesel,Elias Canetti,United Nations High Commissioner for Refugees,James Tobin","1982,Kenneth G. Wilson,Aaron Klug,Sune Bergstroem; Bengt I. Samuelsson; John Vane,Gabriel Garcria Marquez,Alva Myrdal; Alfonso Garcia Robles,George Stigler","1983,Subrahmanyan Chandrasekhar; William Alfred Fowler,Henry Taube,Barbara McClintock,William Golding,Lech Walesa,Gerard Debreu","1984,Carlo Rubbia; Simon van der Meer,Robert Bruce Merrifield,Niels Kaj Jerne; Georges J. F. Koehler; Cesar Milstein,Jaroslav Seifert,Desmond Tutu,Richard Stone","1985,Klaus von Klitzing,Herbert A. Hauptman; Jerome Karle,Michael Stuart Brown; Joseph L. Goldstein,Claude Simon,International Physicians for the Prevention of Nuclear War,Franco Modigliani","1986,Ernst Ruska; Gerd Binnig; Heinrich Rohrer,Dudley R. Herschbach; Yuan T. Lee; John Polanyi,Stanley Cohen; Rita Levi-Montalcini,Wole Soyinka,Elie Wiesel,James M. Buchanan","1987,Johannes Georg Bednorz; Karl Alexander Muller,Donald J. Cram; Jean-Marie Lehn; Charles J. Pedersen,Susumu Tonegawa,Joseph Brodsky,Oscar Arias,Robert Solow","1988,Leon M. Lederman; Melvin Schwartz; Jack Steinberger,Johann Deisenhofer; Robert Huber; Hartmut Michel,James W. Black; Gertrude B. Elion; George H. Hitchings,Naguib Mahfouz,United Nations Peace-Keeping Forces,Maurice Allais","1989,Norman Foster Ramsey, Jr.; Hans Georg Dehmelt; Wolfgang Paul,Sidney Altman; Thomas Cech,J. Michael Bishop; Harold E. Varmus,Camilo Jose Cela,Tenzin Gyatso (The Dalai Lama),Trygve Haavelmo","1990,Jerome Isaac Friedman; Henry Way Kendall; Richard E. Taylor,Elias James Corey,Joseph Murray; E. Donnall Thomas,Octavio Paz,Mikhail Gorbachev,Harry Markowitz; Merton Miller; William Forsyth Sharpe","1991,Pierre-Gilles de Gennes,Richard R. Ernst,Erwin Neher; Bert Sakmann,Nadine Gordimer,Aung San Suu Kyi,Ronald Coase","1992,Georges Charpak,Rudolph A. Marcus,Edmond H. Fischer; Edwin G. Krebs,Derek Walcott,Rigoberta Menchu,Gary Becker","1993,Russell Alan Hulse; Joseph Hooton Taylor, Jr.,Kary Mullis; Michael Smith,Richard J. Roberts; Phillip Allen Sharp,Toni Morrison,Nelson Mandela; F. W. de Klerk,Robert Fogel; Douglass North","1994,Bertram Brockhouse; Clifford Shull,George Andrew Olah,Alfred G. Gilman; Martin Rodbell,Kenzaburo Oe,Yasser Arafat; Shimon Peres; Yitzhak Rabin,John Harsanyi; John Forbes Nash, Jr.; Reinhard Selten","1995,Martin Lewis Perl; Frederick Reines,Paul J. Crutzen; Mario J. Molina; Frank Sherwood Rowland,Edward B. Lewis; Christiane Nusslein-Volhard; Eric F. Wieschaus,Seamus Heaney,Joseph Rotblat; Pugwash Conferences on Science and World Affairs,Robert Lucas, Jr.","1996,David Lee; Douglas Osheroff; Robert Coleman Richardson,Robert F. Curl Jr.; Harry Kroto; Richard Smalley,Peter C. Doherty; Rolf M. Zinkernagel,Wislawa Szymborska,Carlos Filipe Ximenes Belo; Jose Ramos-Horta,James Mirrlees; William Vickrey","1997,Steven Chu; Claude Cohen-Tannoudji; William Daniel Phillips,Paul D. Boyer; John E. Walker; Jens Christian Skou,Stanley B. Prusiner,Dario Fo,International Campaign to Ban Landmines; Jody Williams,Robert C. Merton; Myron Scholes","1998,Robert B. Laughlin; Horst Ludwig Stoermer; Daniel C. Tsui,Walter Kohn; John Pople,Robert F. Furchgott; Louis Ignarro; Ferid Murad,Jose Saramago,John Hume; David Trimble,Amartya Sen","1999,Gerard 't Hooft; Martinus J. G. Veltman,Ahmed Zewail,Gunter Blobel,Gunter Grass,Medecins Sans Frontieres,Robert Mundell","2000,Zhores Alferov; Herbert Kroemer; Jack Kilby,Alan J. Heeger; Alan MacDiarmid; Hideki Shirakawa,Arvid Carlsson; Paul Greengard; Eric Kandel,Gao Xingjian,Kim Dae-jung,James Heckman; Daniel McFadden","2001,Eric Allin Cornell; Wolfgang Ketterle; Carl Wieman,William Standish Knowles; Ryoji Noyori; Karl Barry Sharpless,Leland H. Hartwell; Tim Hunt; Paul Nurse,V. S. Naipaul,United Nations; Kofi Annan,George Akerlof; Michael Spence; Joseph Stiglitz","2002,Raymond Davis, Jr.; Masatoshi Koshiba; Riccardo Giacconi,John Fenn; Koichi Tanaka; Kurt Wuthrich,Sydney Brenner; H. Robert Horvitz; John Sulston,Imre Kertesz,Jimmy Carter,Daniel Kahneman; Vernon L. Smith","2003,Alexei Alexeyevich Abrikosov; Vitaly Ginzburg; Anthony James Leggett,Peter Agre; Roderick MacKinnon,Paul Lauterbur; Peter Mansfield,J. M. Coetzee,Shirin Ebadi,Robert F. Engle; Clive Granger","2004,David Gross; Hugh David Politzer; Frank Wilczek,Aaron Ciechanover; Avram Hershko; Irwin Rose,Richard Axel; Linda B. Buck,Elfriede Jelinek,Wangari Maathai,Finn E. Kydland; Edward C. Prescott","2005,Roy J. Glauber; John L. Hall; Theodor W. Hansch,Yves Chauvin; Robert H. Grubbs; Richard R. Schrock,Barry Marshall; Robin Warren,Harold Pinter,International Atomic Energy Agency; Mohamed ElBaradei,Robert Aumann; Thomas Schelling","2006,John C. Mather; George Smoot,Roger D. Kornberg,Andrew Fire; Craig Mello,Orhan Pamuk,Muhammad Yunus; Grameen Bank,Edmund Phelps","2007,Albert Fert; Peter Grunberg,Gerhard Ertl,Mario Capecchi; Martin Evans; Oliver Smithies,Doris Lessing,Intergovernmental Panel on Climate Change; Al Gore,Leonid Hurwicz; Eric Maskin; Roger Myerson","2008,Yoichiro Nambu; Makoto Kobayashi; Toshihide Maskawa,Osamu Shimomura; Martin Chalfie; Roger Y. Tsien,Harald zur Hausen; Francoise Barre-Sinoussi; Luc Montagnier,J. M. G. Le Clezio,Martti Ahtisaari,Paul Krugman","2009,Charles K. Kao; Willard S. Boyle; George E. Smith,Venkatraman Ramakrishnan; Thomas A. Steitz; Ada Yonath,Elizabeth Blackburn; Carol W. Greider; Jack W. Szostak,Herta Muller,Barack Obama,Elinor Ostrom; Oliver E. Williamson","2010,Andre Geim; Konstantin Novoselov,Richard F. Heck; Ei-ichi Negishi; Akira Suzuki,Robert G. Edwards,Mario Vargas Llosa,Liu Xiaobo[F],Peter A. Diamond; Dale T. Mortensen; Christopher A. Pissarides","2011,Saul Perlmutter; Adam G. Riess; Brian Schmidt,Dan Shechtman,Bruce Beutler; Jules A. Hoffmann; Ralph M. Steinman,Tomas Transtroemer,Ellen Johnson Sirleaf; Leymah Gbowee; Tawakel Karman,Thomas J. Sargent; Christopher A. Sims","2012,Serge Haroche; David J. Wineland,Brian K. Kobilka; Robert J. Lefkowitz,John B. Gurdon; Shinya Yamanaka,Mo Yan,European Union,Alvin E. Roth; Lloyd S. Shapley","2013,Francois Englert; Peter W. Higgs,Martin Karplus; Michael Levitt; Arieh Warshel,James E. Rothman; Randy W. Schekman; Thomas C. Sudhof,Alice Munro,Organisation for the Prohibition of Chemical Weapons,Eugene F. Fama; Lars Peter Hansen; Robert J. Shiller"];var datasets={passwd:passwd,mammals:mammals,nobel:nobel};module.exports=datasets},{}],41:[function(require,module,exports){(function(window){var re={not_string:/[^s]/,number:/[def]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};function sprintf(){var key=arguments[0],cache=sprintf.cache;if(!(cache[key]&&cache.hasOwnProperty(key))){cache[key]=sprintf.parse(key)}return sprintf.format.call(null,cache[key],arguments)}function sprintf_format_get_default_values(format){var key=format,cache=sprintf.cache;if(!(cache[format]&&cache.hasOwnProperty(format))){cache[format]=sprintf.parse(format)}var parse_tree=cache[format];var output=[];for(var i in parse_tree){var match=parse_tree[i];node_type=get_type(match);if(node_type==="string")continue;var specifier=match[8];if(specifier==="s")output.push("");else output.push(0)}return output}sprintf.format=function(parse_tree,argv){var cursor=1,tree_length=parse_tree.length,node_type="",arg,output=[],i,k,match,pad,pad_character,pad_length,is_positive=true,sign="";for(i=0;i<tree_length;i++){node_type=get_type(parse_tree[i]);if(node_type==="string"){output[output.length]=parse_tree[i]}else if(node_type==="array"){match=parse_tree[i];if(match[2]){arg=argv[cursor];for(k=0;k<match[2].length;k++){if(!arg.hasOwnProperty(match[2][k])){throw new Error(sprintf("[sprintf] property '%s' does not exist",match[2][k]))}arg=arg[match[2][k]]}}else if(match[1]){arg=argv[match[1]]}else{arg=argv[cursor++]}if(get_type(arg)=="function"){arg=arg()}if(re.not_string.test(match[8])&&(get_type(arg)!="number"&&isNaN(arg))){throw new TypeError(sprintf("[sprintf] expecting number but found %s",get_type(arg)))}if(re.number.test(match[8])){is_positive=arg>=0}switch(match[8]){case"b":arg=arg.toString(2);break;case"c":arg=String.fromCharCode(arg);break;case"d":arg=parseInt(arg,10);break;case"e":arg=match[7]?arg.toExponential(match[7]):arg.toExponential();break;case"f":arg=match[7]?parseFloat(arg).toFixed(match[7]):parseFloat(arg);break;case"o":arg=arg.toString(8);break;case"s":arg=(arg=String(arg))&&match[7]?arg.substring(0,match[7]):arg;break;case"u":arg=arg>>>0;break;case"x":arg=arg.toString(16);break;case"X":arg=arg.toString(16).toUpperCase();break}if(!is_positive||re.number.test(match[8])&&match[3]){sign=is_positive?"+":"-";arg=arg.toString().replace(re.sign,"")}pad_character=match[4]?match[4]=="0"?"0":match[4].charAt(1):" ";pad_length=match[6]-(sign+arg).length;pad=match[6]?str_repeat(pad_character,pad_length):"";output[output.length]=match[5]?sign+arg+pad:pad_character==0?sign+pad+arg:pad+sign+arg}}return output.join("")};sprintf.cache={};sprintf.parse=function(fmt){var _fmt=fmt,match=[],parse_tree=[],arg_names=0;while(_fmt){if((match=re.text.exec(_fmt))!==null){parse_tree[parse_tree.length]=match[0]}else if((match=re.modulo.exec(_fmt))!==null){parse_tree[parse_tree.length]="%"}else if((match=re.placeholder.exec(_fmt))!==null){if(match[2]){arg_names|=1;var field_list=[],replacement_field=match[2],field_match=[];if((field_match=re.key.exec(replacement_field))!==null){field_list[field_list.length]=field_match[1];while((replacement_field=replacement_field.substring(field_match[0].length))!==""){if((field_match=re.key_access.exec(replacement_field))!==null){field_list[field_list.length]=field_match[1]}else if((field_match=re.index_access.exec(replacement_field))!==null){field_list[field_list.length]=field_match[1]}else{throw new SyntaxError("[sprintf] failed to parse named argument key")}}}else{throw new SyntaxError("[sprintf] failed to parse named argument key")}match[2]=field_list}else{arg_names|=2}if(arg_names===3){throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported")}parse_tree[parse_tree.length]=match}else{throw new SyntaxError("[sprintf] unexpected placeholder")}_fmt=_fmt.substring(match[0].length)}return parse_tree};var vsprintf=function(fmt,argv,_argv){_argv=(argv||[]).slice(0);_argv.splice(0,0,fmt);return sprintf.apply(null,_argv)};function get_type(variable){return Object.prototype.toString.call(variable).slice(8,-1).toLowerCase()}function str_repeat(input,multiplier){return Array(multiplier+1).join(input)}if(typeof exports!=="undefined"){exports.sprintf=sprintf;exports.vsprintf=vsprintf;exports.sprintf_format_get_default_values=sprintf_format_get_default_values}else{window.sprintf=sprintf;window.vsprintf=vsprintf;window.sprintf_format_get_default_values=sprintf_format_get_default_values;if(typeof define==="function"&&define.amd){define(function(){return{sprintf:sprintf,vsprintf:vsprintf,sprintf_format_get_default_values:sprintf_format_get_default_values}})}}})(typeof window==="undefined"?this:window)},{}],42:[function(require,module,exports){(function(){var namespace;if(typeof module!=="undefined"){namespace=module.exports=strftime}else{namespace=function(){return this||(1,eval)("this")}()}function words(s){return(s||"").split(" ")}var DefaultLocale={days:words("Sunday Monday Tuesday Wednesday Thursday Friday Saturday"),shortDays:words("Sun Mon Tue Wed Thu Fri Sat"),months:words("January February March April May June July August September October November December"),shortMonths:words("Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec"),AM:"AM",PM:"PM",am:"am",pm:"pm"};namespace.strftime=strftime;function strftime(fmt,d,locale){return _strftime(fmt,d,locale)}namespace.strftimeTZ=strftime.strftimeTZ=strftimeTZ;function strftimeTZ(fmt,d,locale,timezone){if((typeof locale=="number"||typeof locale=="string")&&timezone==null){timezone=locale;locale=undefined}return _strftime(fmt,d,locale,{timezone:timezone})}namespace.strftimeUTC=strftime.strftimeUTC=strftimeUTC;function strftimeUTC(fmt,d,locale){return _strftime(fmt,d,locale,{utc:true})}namespace.localizedStrftime=strftime.localizedStrftime=localizedStrftime;function localizedStrftime(locale){return function(fmt,d,options){return strftime(fmt,d,locale,options)}}function _strftime(fmt,d,locale,options){options=options||{};if(d&&!quacksLikeDate(d)){locale=d;d=undefined}d=d||new Date;locale=locale||DefaultLocale;locale.formats=locale.formats||{};var timestamp=d.getTime();var tz=options.timezone;var tzType=typeof tz;if(options.utc||tzType=="number"||tzType=="string"){d=dateToUTC(d)}if(tz){if(tzType=="string"){var sign=tz[0]=="-"?-1:1;var hours=parseInt(tz.slice(1,3),10);var mins=parseInt(tz.slice(3,5),10);tz=sign*(60*hours)+mins}if(tzType){d=new Date(d.getTime()+tz*6e4)}}return fmt.replace(/%([-_0]?.)/g,function(_,c){var mod,padding;if(c.length==2){mod=c[0];if(mod=="-"){padding=""}else if(mod=="_"){padding=" "}else if(mod=="0"){padding="0"}else{return _}c=c[1]}switch(c){case"A":return locale.days[d.getDay()];case"a":return locale.shortDays[d.getDay()];case"B":return locale.months[d.getMonth()];case"b":return locale.shortMonths[d.getMonth()];case"C":return pad(Math.floor(d.getFullYear()/100),padding);case"D":return _strftime(locale.formats.D||"%m/%d/%y",d,locale);case"d":return pad(d.getDate(),padding);case"e":return d.getDate();case"F":return _strftime(locale.formats.F||"%Y-%m-%d",d,locale);case"H":return pad(d.getHours(),padding);case"h":return locale.shortMonths[d.getMonth()];case"I":return pad(hours12(d),padding);case"j":var y=new Date(d.getFullYear(),0,1);var day=Math.ceil((d.getTime()-y.getTime())/(1e3*60*60*24));return pad(day,3);case"k":return pad(d.getHours(),padding==null?" ":padding);case"L":return pad(Math.floor(timestamp%1e3),3);case"l":return pad(hours12(d),padding==null?" ":padding);case"M":return pad(d.getMinutes(),padding);case"m":return pad(d.getMonth()+1,padding);case"n":return"\n";case"N":return"000000000";case"o":return String(d.getDate())+ordinal(d.getDate());case"P":return d.getHours()<12?locale.am:locale.pm;case"p":return d.getHours()<12?locale.AM:locale.PM;case"R":return _strftime(locale.formats.R||"%H:%M",d,locale);case"r":return _strftime(locale.formats.r||"%I:%M:%S %p",d,locale);case"S":return pad(d.getSeconds(),padding);case"s":return Math.floor(timestamp/1e3);case"T":return _strftime(locale.formats.T||"%H:%M:%S",d,locale);case"t":return"\t";case"U":return pad(weekNumber(d,"sunday"),padding);case"u":var day=d.getDay();return day==0?7:day;case"v":return _strftime(locale.formats.v||"%e-%b-%Y",d,locale);case"W":return pad(weekNumber(d,"monday"),padding);case"w":return d.getDay();case"Y":return d.getFullYear();case"y":var y=String(d.getFullYear());return y.slice(y.length-2);case"Z":if(options.utc){return"GMT"}else{var tzString=d.toString().match(/\(([\w\s]+)\)/);return tzString&&tzString[1]||""}case"z":if(options.utc){return"+0000"}else{var off=typeof tz=="number"?tz:-d.getTimezoneOffset();return(off<0?"-":"+")+pad(Math.abs(off/60))+pad(off%60)}default:return c}})}function dateToUTC(d){var msDelta=(d.getTimezoneOffset()||0)*6e4;return new Date(d.getTime()+msDelta)}var RequiredDateMethods=["getTime","getTimezoneOffset","getDay","getDate","getMonth","getFullYear","getYear","getHours","getMinutes","getSeconds"];function quacksLikeDate(x){var i=0,n=RequiredDateMethods.length;for(i=0;i<n;++i){if(typeof x[RequiredDateMethods[i]]!="function"){return false}}return true}function pad(n,padding,length){if(typeof padding==="number"){length=padding;padding="0"}if(padding==null){padding="0"}length=length||2;var s=String(n);if(padding){while(s.length<length)s=padding+s}return s}function hours12(d){var hour=d.getHours();if(hour==0)hour=12;else if(hour>12)hour-=12;return hour}function ordinal(n){var i=n%10,ii=n%100;if(ii>=11&&ii<=13||i===0||i>=4){return"th"}switch(i){case 1:return"st";case 2:return"nd";case 3:return"rd"}}function weekNumber(d,firstWeekday){firstWeekday=firstWeekday||"sunday";var wday=d.getDay();if(firstWeekday=="monday"){if(wday==0)wday=6;else wday--}var firstDayOfYear=new Date(d.getFullYear(),0,1),yday=(d-firstDayOfYear)/864e5,weekNum=(yday+7-wday)/7;return Math.floor(weekNum)}})()},{}],43:[function(require,module,exports){"use strict";module.exports=new string_utils;function string_utils(){this.startsWith=function(str,prefix){if(prefix.length===0)return true;return str.slice(0,prefix.length)==prefix};this.endsWith=function(str,suffix){if(suffix.length===0)return true;return str.slice(-suffix.length)==suffix};this.trimWhitespace=function(str){var tmp=str.replace(/[ \t]+$/,"");tmp=tmp.replace(/^[ \t]+/,"");return tmp};this.splitShellquotes=function(text){text=text.replace(/[ \t\n]+$/,"");text=text.replace(/^[ \t\n]+/,"");var fields=[];var chars=text.split("");var current="";var in_quotes=null;while(chars.length>0){var ch=chars.shift();switch(ch){case" ":case"\t":case"\n":if(in_quotes===null){if(current!=="")fields.push(current);current="";continue}break;case'"':if(in_quotes===null){in_quotes='"'}else if(in_quotes==='"'){in_quotes=null}else{}break;case"'":if(in_quotes===null){in_quotes="'"}else if(in_quotes==="'"){in_quotes=null}else{}break;case"\\":break}current+=ch}if(current!=="")fields.push(current);if(in_quotes!==null)throw new Error("ShellQuotesSplit: unbalanced quotes in string ("+text+")");return fields};this.removeShellquotes=function(text){var result="";var chars=text.split("");var in_quotes=null;while(chars.length>0){var ch=chars.shift();if(ch==="'"||ch==='"'){if(in_quotes===null){in_quotes=ch;continue}else if(in_quotes===ch){in_quotes=null;continue}else{}}result+=ch}if(in_quotes!==null)throw new Error("ShellQuotesSplit: unbalanced quotes in string ("+text+")");return result};this.unbackslash=function(text){var result="";var chars=text.split("");while(chars.length>0){var ch=chars.shift();if(ch==="\\"&&chars.length>0){ch=chars.shift();switch(ch){case"t":ch="\t";break;case"n":ch="\n";break}}result+=ch}return result};this.firstNotOf=function(text,ch){if(ch.length!==1)throw new TypeError("firstNotOf: ch parameter must be one character");for(var i=0;i<text.length;i++){if(text.charAt(i)!==ch)return i}return-1};function valid_varname(text){return/^[A-Za-z_][A-Za-z_0-9]*$/.test(text)}this.valid_varname=valid_varname;this.parse_var_assignment=function(text){var varname,value,assignment,valid_identifier;var idx=text.indexOf("=");if(idx!==-1){assignment=true;varname=text.slice(0,idx);value=text.slice(idx+1)}else{assignment=false;varname=text}valid_identifier=valid_varname(varname);return{name:varname,value:value,assignment:assignment,valid:valid_identifier}};function __convert_regex_POSIX_to_JS(text,type){var chars=text.split("");var convert_regex_char;var convert_regex_backlash_char;if(type==="BRE"){convert_regex_char=convert_BRE_char;convert_regex_backlash_char=convert_BRE_backslash_char}else if(type==="ERE"){convert_regex_char=function(ch){return ch};convert_regex_backlash_char=convert_ERE_backslash_char}else if(type==="fnmatch_longest"){convert_regex_char=convert_FNMATCH_greedy_char;convert_regex_backlash_char=convert_FNMATCH_char}else if(type==="fnmatch_shortest"){convert_regex_char=convert_FNMATCH_nongreedy_char;convert_regex_backlash_char=convert_FNMATCH_char}else{debugger;throw new Error("internal error")}function convert_FNMATCH_greedy_char(ch){return convert_FNMATCH_char(ch,true)}function convert_FNMATCH_nongreedy_char(ch){return convert_FNMATCH_char(ch,false)}function convert_FNMATCH_char(ch,greedy){switch(ch){case"+":case".":case"$":case"^":case"|":case"{":case"}":case"(":case")":return"\\"+ch;case"?":return".";case"*":return greedy?".*":".*?";default:return ch}}function convert_BRE_char(ch){switch(ch){case"+":case"?":case"|":case"{":case"}":case"(":case")":return"\\"+ch;default:return ch}}function convert_BRE_backslash_char(ch){if(ch[0]!=="\\")throw new Error("internal error");if(ch.length<2)throw new Error("internal error");var tmp=ch[1];if(tmp=="|"||tmp=="?"||tmp==="("||tmp===")"||tmp==="}"||tmp==="{")return tmp;if(tmp>="a"&&tmp<="z"||tmp>="A"&&tmp<="Z")return"\\\\"+tmp;return ch}function convert_ERE_backslash_char(ch){if(ch[0]!=="\\")throw new Error("internal error");if(ch.length<2)throw new Error("internal error");if(ch[1]>="a"&&ch[1]<="z"||ch[1]>="A"&&ch[1]<="Z")return"\\\\"+ch[1];return ch}function convert_bracket_equiv_class(name){if(name.length===1)return"\\x"+name.charCodeAt(0).toString(16);throw new Error("Invalid Equivalence class: [="+name+"=]")}function convert_bracket_collation_symbol(symb){if(symb.length===1)return"\\x"+symb.charCodeAt(0).toString(16);throw new Error("Invalid collation symbol: [."+symb+".]")}function convert_bracket_char_class(name){switch(name){case"alnum":return"A-Za-z0-9";case"alpha":return"A-Za-z";case"blank":return" \t";case"ctrl":return"\0- ";case"digit":return"0-9";case"graph":return"!-~";case"lower":return"a-z";case"print":return" -~";case"punct":return"!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";case"space":return" \v\f\t\n\r";case"upper":return"A-Z";case"xdigit":return"A-Fa-f0-9";default:throw new Error("Invalid character class: [:"+name+":]")}}function scan_backslash(){var ch=chars.shift();if(ch!=="\\")throw new Error("internal error");if(chars.length===0)throw new Error("trailing backslash");var ch=chars.shift();return"\\"+ch}function scan_special_char_class(){var result="";var ok=false;if(chars.length<2)throw new Error("Internal error");var ch=chars.shift();if(ch!=="[")throw new Error("internal error");var type=chars.shift();if(!(type===":"||type==="="||type==="."))throw new Error("internal error");while(chars.length>=2){if(chars[0]===type&&chars[1]==="]"){chars.shift();chars.shift();ok=true;break}result+=chars.shift()}if(!ok)throw new Error("Unmatched character classs ["+type);if(type===":")return convert_bracket_char_class(result);else if(type===".")return convert_bracket_collation_symbol(result);else return convert_bracket_equiv_class(result)}function scan_bracket_content_expression(){var result="";var peek_next_token;while(chars.length>0){if(chars[0]==="["&&chars.length>=2&&(chars[1]==="="||chars[1]===":"||chars[1]===".")){result+=scan_special_char_class();continue}peek_next_token=chars[0];if(peek_next_token=="]")break;chars.shift();result+=peek_next_token}return result}function scan_bracket_expression(){var ch=chars.shift();var invert="";var right_bracket="";if(ch!=="[")throw new Error("internal error");if(chars.length>0&&chars[0]==="^")invert=chars.shift();if(chars.length>0&&chars[0]==="]")right_bracket=chars.shift();var bracket_content=scan_bracket_content_expression();if(chars.length===0||chars.shift()!=="]")throw new Error("unmatched [ or [^");return"["+invert+right_bracket+bracket_content+"]"}function scan_regexp(){var result="";while(chars.length>0){var peek_next_token=chars[0];switch(peek_next_token){case"\\":result+=convert_regex_backlash_char(scan_backslash());break;case"[":result+=scan_bracket_expression();break;default:chars.shift();result+=convert_regex_char(peek_next_token);break}}return result}return scan_regexp()}function regex_BRE_to_JS(text){return __convert_regex_POSIX_to_JS(text,"BRE")}this.regex_BRE_to_JS=regex_BRE_to_JS;function regex_ERE_to_JS(text){return __convert_regex_POSIX_to_JS(text,"ERE")}this.regex_ERE_to_JS=regex_ERE_to_JS;function regex_fnmatch_longest_to_JS(text){return __convert_regex_POSIX_to_JS(text,"fnmatch_longest")}this.regex_fnmatch_longest_to_JS=regex_fnmatch_longest_to_JS;function regex_fnmatch_shortest_to_JS(text){return __convert_regex_POSIX_to_JS(text,"fnmatch_shortest")}this.regex_fnmatch_shortest_to_JS=regex_fnmatch_shortest_to_JS}},{}],44:[function(require,module,exports){"use strict";module.exports=new time_utils;function time_utils(){this.get_sys_time=function(){var d=new Date;var n=d.getTime();return Math.floor(n/1e3)}}},{}]},{},[1])(1)});