/****************************************
 * This file is part of UNIX Guide for the Perplexed project.
 * Copyright (C) 2014 by Assaf Gordon <assafgordon@gmail.com>
 * Released under GPLv3 or later.
 ****************************************/

/*
This hack module enables quickly getting the command-line
parameters as a single string (if multiple parameters were given,
they are concatenated with space).
It is meant to be used by testing-modules/tools, mainly for debugging.

NOTE:
The returned value from 'require()' is a STRING - the command line.

Example:
	var cmd = require("utils/single_cmdline_parameter");
	if (cmd === "") {
		console.error("Usage: FOO BAR");
		process.exit(1);
	}
*/

module.exports = (function() {
	var input = "" ;
	process.argv.forEach(function (val, index, array) {
		/* The first two parameters are "nodejs" and the script name */
		if (index<2)
			return;
		if (input !== "")
			input = input + " ";
		input = input + array[index];
	});
	return input;
})();
